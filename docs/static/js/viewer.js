(()=>{"use strict";var n=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.animationStarted=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RenderingStates=t.RendererType=t.ProgressBar=t.PresentationModeState=t.OutputScale=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.AutoPrintRegExp=void 0;t.apiPageLayoutToViewerModes=ee;t.apiPageModeToSidebarView=te;t.approximateFraction=N;t.backtrackBeforeAllVisibleElements=V;t.binarySearchFirstItem=x;t.docStyle=void 0;t.getActiveOrFocusedElement=J;t.getPageSizeInches=O;t.getVisibleElements=R;t.isPortraitOrientation=$;t.isValidRotation=H;t.isValidScrollMode=z;t.isValidSpreadMode=j;t.noContextMenuHandler=F;t.normalizeWheelEventDelta=U;t.normalizeWheelEventDirection=W;t.parseQueryString=M;t.removeNullCharacters=D;t.roundToDivide=B;t.scrollIntoView=T;t.watchScroll=k;function i(e,t,i){n(e,t);t.set(e,i)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function r(e,t){var i=o(e,t,"get");return s(e,i)}function s(e,t){if(t.get){return t.get.call(e)}return t.value}function a(e,t,i){var n=o(e,t,"set");l(e,n,i);return i}function o(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function l(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}const d="auto";t.DEFAULT_SCALE_VALUE=d;const c=1;t.DEFAULT_SCALE=c;const h=1.1;t.DEFAULT_SCALE_DELTA=h;const u=.1;t.MIN_SCALE=u;const f=10;t.MAX_SCALE=f;const p=0;t.UNKNOWN_SCALE=p;const g=1.25;t.MAX_AUTO_SCALE=g;const m=40;t.SCROLLBAR_PADDING=m;const v=5;t.VERTICAL_PADDING=v;const w={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=w;const _={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.PresentationModeState=_;const b={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=b;const y={CANVAS:"canvas",SVG:"svg"};t.RendererType=y;const P={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};t.TextLayerMode=P;const E={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};t.ScrollMode=E;const S={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=S;const L=/\bprint\s*\(/;t.AutoPrintRegExp=L;class C{constructor(){const e=window.devicePixelRatio||1;this.sx=e;this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}}t.OutputScale=C;function T(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=e.offsetParent;if(!n){console.error("offsetParent is not set -- cannot scroll");return}let r=e.offsetTop+e.clientTop;let s=e.offsetLeft+e.clientLeft;while(n.clientHeight===n.scrollHeight&&n.clientWidth===n.scrollWidth||i&&(n.classList.contains("markedContent")||getComputedStyle(n).overflow==="hidden")){r+=n.offsetTop;s+=n.offsetLeft;n=n.offsetParent;if(!n){return}}if(t){if(t.top!==undefined){r+=t.top}if(t.left!==undefined){s+=t.left;n.scrollLeft=s}}n.scrollTop=r}function k(s,a){const e=function(e){if(l){return}l=window.requestAnimationFrame(function e(){l=null;const t=s.scrollLeft;const i=o.lastX;if(t!==i){o.right=t>i}o.lastX=t;const n=s.scrollTop;const r=o.lastY;if(n!==r){o.down=n>r}o.lastY=n;a(o)})};const o={right:true,down:true,lastX:s.scrollLeft,lastY:s.scrollTop,_eventHandler:e};let l=null;s.addEventListener("scroll",e,true);return o}function M(e){const t=new Map;for(const[i,n]of new URLSearchParams(e)){t.set(i.toLowerCase(),n)}return t}const I=/\x00/g;const A=/[\x01-\x1F]/g;function D(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e!=="string"){console.error(`The argument must be a string.`);return e}if(t){e=e.replace(A," ")}return e.replace(I,"")}function x(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let n=i;let r=e.length-1;if(r<0||!t(e[r])){return e.length}if(t(e[n])){return n}while(n<r){const s=n+r>>1;const a=e[s];if(t(a)){r=s}else{n=s+1}}return n}function N(e){if(Math.floor(e)===e){return[e,1]}const t=1/e;const i=8;if(t>i){return[1,i]}else if(Math.floor(t)===t){return[1,t]}const n=e>1?t:e;let r=0,s=1,a=1,o=1;while(true){const d=r+a,c=s+o;if(c>i){break}if(n<=d/c){a=d;o=c}else{r=d;s=c}}let l;if(n-r/s<a/o-n){l=n===e?[r,s]:[s,r]}else{l=n===e?[a,o]:[o,a]}return l}function B(e,t){const i=e%t;return i===0?e:Math.round(e-i+t)}function O(e){let{view:t,userUnit:i,rotate:n}=e;const[r,s,a,o]=t;const l=n%180!==0;const d=(a-r)/72*i;const c=(o-s)/72*i;return{width:l?c:d,height:l?d:c}}function V(t,i,e){if(t<2){return t}let n=i[t].div;let r=n.offsetTop+n.clientTop;if(r>=e){n=i[t-1].div;r=n.offsetTop+n.clientTop}for(let e=t-2;e>=0;--e){n=i[e].div;if(n.offsetTop+n.clientTop+n.clientHeight<=r){break}t=e}return t}function R(e){let{scrollEl:t,views:i,sortByVisibility:n=false,horizontal:r=false,rtl:s=false}=e;const a=t.scrollTop,o=a+t.clientHeight;const l=t.scrollLeft,d=l+t.clientWidth;function c(e){const t=e.div;const i=t.offsetTop+t.clientTop+t.clientHeight;return i>a}function h(e){const t=e.div;const i=t.offsetLeft+t.clientLeft;const n=i+t.clientWidth;return s?i<d:n>l}const u=[],f=new Set,p=i.length;let g=x(i,r?h:c);if(g>0&&g<p&&!r){g=V(g,i,a)}let m=r?d:-1;for(let e=g;e<p;e++){const _=i[e],b=_.div;const y=b.offsetLeft+b.clientLeft;const P=b.offsetTop+b.clientTop;const E=b.clientWidth,S=b.clientHeight;const L=y+E;const C=P+S;if(m===-1){if(C>=o){m=C}}else if((r?y:P)>m){break}if(C<=a||P>=o||L<=l||y>=d){continue}const T=Math.max(0,a-P)+Math.max(0,C-o);const k=Math.max(0,l-y)+Math.max(0,L-d);const M=(S-T)/S,I=(E-k)/E;const A=M*I*100|0;u.push({id:_.id,x:y,y:P,view:_,percent:A,widthPercent:I*100|0});f.add(_.id)}const v=u[0],w=u.at(-1);if(n){u.sort(function(e,t){const i=e.percent-t.percent;if(Math.abs(i)>.001){return-i}return e.id-t.id})}return{first:v,last:w,views:u,ids:f}}function F(e){e.preventDefault()}function W(e){let t=Math.hypot(e.deltaX,e.deltaY);const i=Math.atan2(e.deltaY,e.deltaX);if(-.25*Math.PI<i&&i<.75*Math.PI){t=-t}return t}function U(e){let t=W(e);const i=0;const n=1;const r=30;const s=30;if(e.deltaMode===i){t/=r*s}else if(e.deltaMode===n){t/=s}return t}function H(e){return Number.isInteger(e)&&e%90===0}function z(e){return Number.isInteger(e)&&Object.values(E).includes(e)&&e!==E.UNKNOWN}function j(e){return Number.isInteger(e)&&Object.values(S).includes(e)&&e!==S.UNKNOWN}function $(e){return e.width<=e.height}const K=new Promise(function(e){window.requestAnimationFrame(e)});t.animationStarted=K;const G=document.documentElement.style;t.docStyle=G;function X(e,t,i){return Math.min(Math.max(e,t),i)}var Z=new WeakMap;var Q=new WeakMap;var q=new WeakMap;class Y{constructor(e){i(this,Z,{writable:true,value:null});i(this,Q,{writable:true,value:0});i(this,q,{writable:true,value:true});if(arguments.length>1){throw new Error("ProgressBar no longer accepts any additional options, "+"please use CSS rules to modify its appearance instead.")}const t=document.getElementById(e);a(this,Z,t.classList)}get percent(){return r(this,Q)}set percent(e){a(this,Q,X(e,0,100));if(isNaN(e)){r(this,Z).add("indeterminate");return}r(this,Z).remove("indeterminate");G.setProperty("--progressBar-percent",`${r(this,Q)}%`)}setWidth(e){if(!e){return}const t=e.parentNode;const i=t.offsetWidth-e.offsetWidth;if(i>0){G.setProperty("--progressBar-end-offset",`${i}px`)}}hide(){if(!r(this,q)){return}a(this,q,false);r(this,Z).add("hidden")}show(){if(r(this,q)){return}a(this,q,true);r(this,Z).remove("hidden")}}t.ProgressBar=Y;function J(){let e=document;let t=e.activeElement||e.querySelector(":focus");while((i=t)!==null&&i!==void 0&&i.shadowRoot){var i;e=t.shadowRoot;t=e.activeElement||e.querySelector(":focus")}return t}function ee(e){let t=E.VERTICAL,i=S.NONE;switch(e){case"SinglePage":t=E.PAGE;break;case"OneColumn":break;case"TwoPageLeft":t=E.PAGE;case"TwoColumnLeft":i=S.ODD;break;case"TwoPageRight":t=E.PAGE;case"TwoColumnRight":i=S.EVEN;break}return{scrollMode:t,spreadMode:i}}function te(e){switch(e){case"UseNone":return b.NONE;case"UseThumbs":return b.THUMBS;case"UseOutlines":return b.OUTLINE;case"UseAttachments":return b.ATTACHMENTS;case"UseOC":return b.LAYERS}return b.NONE}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.compatibilityParams=t.OptionKind=t.AppOptions=void 0;const l=Object.create(null);t.compatibilityParams=l;{const n=navigator.userAgent||"";const r=navigator.platform||"";const s=navigator.maxTouchPoints||1;const a=/Android/.test(n);const o=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||r==="MacIntel"&&s>1;(function e(){if(o||a){l.maxCanvasPixels=5242880}})()}const d={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=d;const c={annotationEditorMode:{value:-1,kind:d.VIEWER+d.PREFERENCE},annotationMode:{value:2,kind:d.VIEWER+d.PREFERENCE},cursorToolOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},defaultZoomValue:{value:"",kind:d.VIEWER+d.PREFERENCE},disableHistory:{value:false,kind:d.VIEWER},disablePageLabels:{value:false,kind:d.VIEWER+d.PREFERENCE},enablePermissions:{value:false,kind:d.VIEWER+d.PREFERENCE},enablePrintAutoRotate:{value:true,kind:d.VIEWER+d.PREFERENCE},enableScripting:{value:true,kind:d.VIEWER+d.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:d.VIEWER},externalLinkTarget:{value:0,kind:d.VIEWER+d.PREFERENCE},historyUpdateUrl:{value:false,kind:d.VIEWER+d.PREFERENCE},ignoreDestinationZoom:{value:false,kind:d.VIEWER+d.PREFERENCE},imageResourcesPath:{value:"../images/",kind:d.VIEWER},maxCanvasPixels:{value:16777216,kind:d.VIEWER},forcePageColors:{value:false,kind:d.VIEWER+d.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:d.VIEWER+d.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:d.VIEWER+d.PREFERENCE},pdfBugEnabled:{value:false,kind:d.VIEWER+d.PREFERENCE},printResolution:{value:150,kind:d.VIEWER},sidebarViewOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},scrollModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},spreadModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},textLayerMode:{value:1,kind:d.VIEWER+d.PREFERENCE},useOnlyCssZoom:{value:false,kind:d.VIEWER+d.PREFERENCE},viewerCssTheme:{value:0,kind:d.VIEWER+d.PREFERENCE},viewOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},cMapPacked:{value:true,kind:d.API},cMapUrl:{value:"../libs/cmaps/",kind:d.API},disableAutoFetch:{value:false,kind:d.API+d.PREFERENCE},disableFontFace:{value:false,kind:d.API+d.PREFERENCE},disableRange:{value:false,kind:d.API+d.PREFERENCE},disableStream:{value:false,kind:d.API+d.PREFERENCE},docBaseUrl:{value:"",kind:d.API},enableXfa:{value:true,kind:d.API+d.PREFERENCE},fontExtraProperties:{value:false,kind:d.API},isEvalSupported:{value:true,kind:d.API},maxImageSize:{value:-1,kind:d.API},pdfBug:{value:false,kind:d.API},standardFontDataUrl:{value:"../fonts/",kind:d.API},verbosity:{value:1,kind:d.API},workerPort:{value:null,kind:d.WORKER},workerSrc:{value:"./js/libs/pdf.worker.min.js",kind:d.WORKER}};{c.defaultUrl={value:"",kind:d.VIEWER};c.disablePreferences={value:false,kind:d.VIEWER};c.locale={value:navigator.language||"en-US",kind:d.VIEWER};c.renderer={value:"canvas",kind:d.VIEWER+d.PREFERENCE};c.sandboxBundleSrc={value:"./js/libs/pdf.sandbox.js",kind:d.VIEWER}}const h=Object.create(null);class i{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){const t=h[e];if(t!==undefined){return t}const i=c[e];if(i!==undefined){var n;return(n=l[e])!==null&&n!==void 0?n:i.value}return undefined}static getAll(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const t=Object.create(null);for(const n in c){var i;const r=c[n];if(e){if((e&r.kind)===0){continue}if(e===d.PREFERENCE){const a=r.value,o=typeof a;if(o==="boolean"||o==="string"||o==="number"&&Number.isInteger(a)){t[n]=a;continue}throw new Error(`Invalid type for preference: ${n}`)}}const s=h[n];t[n]=s!==undefined?s:(i=l[n])!==null&&i!==void 0?i:r.value}return t}static set(e,t){h[e]=t}static setAll(e){for(const t in e){h[t]=e[t]}}static remove(e){delete h[e]}static _hasUserOptions(){return Object.keys(h).length>0}}t.AppOptions=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.SimpleLinkService=t.PDFLinkService=t.LinkTarget=void 0;var o=i(1);function r(e,t){n(e,t);t.add(e)}function s(e,t,i){n(e,t);t.set(e,i)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function l(e,t,i){a(e,t);return i}function a(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function d(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}function c(e,t){var i=h(e,t,"get");return u(e,i)}function h(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function u(e,t){if(t.get){return t.get.call(e)}return t.value}const f="noopener noreferrer nofollow";const p={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=p;function g(e){let{url:t,target:i,rel:n,enabled:r=true}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!t||typeof t!=="string"){throw new Error('A valid "url" parameter must provided.')}const s=(0,o.removeNullCharacters)(t);if(r){e.href=e.title=s}else{e.href="";e.title=`Disabled: ${s}`;e.onclick=()=>{return false}}let a="";switch(i){case p.NONE:break;case p.SELF:a="_self";break;case p.BLANK:a="_blank";break;case p.PARENT:a="_parent";break;case p.TOP:a="_top";break}e.target=a;e.rel=typeof n==="string"?n:f}var m=new WeakMap;var v=new WeakSet;class w{constructor(){let{eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:n=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};r(this,v);s(this,m,{writable:true,value:new Map});this.eventBus=e;this.externalLinkTarget=t;this.externalLinkRel=i;this.externalLinkEnabled=true;this._ignoreDestinationZoom=n;this.baseUrl=null;this.pdfDocument=null;this.pdfViewer=null;this.pdfHistory=null}setDocument(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.baseUrl=t;this.pdfDocument=e;c(this,m).clear()}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get rotation(){return this.pdfViewer.pagesRotation}set rotation(e){this.pdfViewer.pagesRotation=e}async goToDestination(e){if(!this.pdfDocument){return}let t,i;if(typeof e==="string"){t=e;i=await this.pdfDocument.getDestination(e)}else{t=null;i=await e}if(!Array.isArray(i)){console.error(`PDFLinkService.goToDestination: "${i}" is not `+`a valid destination array, for dest="${e}".`);return}d(this,v,_).call(this,e,t,i)}goToPage(e){if(!this.pdfDocument){return}const t=typeof e==="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.pushPage(t)}this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;g(e,{url:t,target:i?p.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(e){if(typeof e==="string"){if(e.length>0){return this.getAnchorUrl("#"+escape(e))}}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0){return this.getAnchorUrl("#"+escape(t))}}return this.getAnchorUrl("")}getAnchorUrl(e){return(this.baseUrl||"")+e}setHash(e){if(!this.pdfDocument){return}let t,i;if(e.includes("=")){const n=(0,o.parseQueryString)(e);if(n.has("search")){this.eventBus.dispatch("findfromurlhash",{source:this,query:n.get("search").replace(/"/g,""),phraseSearch:n.get("phrase")==="true"})}if(n.has("page")){t=n.get("page")|0||1}if(n.has("zoom")){const r=n.get("zoom").split(",");const s=r[0];const a=parseFloat(s);if(!s.includes("Fit")){i=[null,{name:"XYZ"},r.length>1?r[1]|0:null,r.length>2?r[2]|0:null,a?a/100:s]}else{if(s==="Fit"||s==="FitB"){i=[null,{name:s}]}else if(s==="FitH"||s==="FitBH"||s==="FitV"||s==="FitBV"){i=[null,{name:s},r.length>1?r[1]|0:null]}else if(s==="FitR"){if(r.length!==5){console.error('PDFLinkService.setHash: Not enough parameters for "FitR".')}else{i=[null,{name:s},r[1]|0,r[2]|0,r[3]|0,r[4]|0]}}else{console.error(`PDFLinkService.setHash: "${s}" is not a valid zoom value.`)}}}if(i){this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:true})}else if(t){this.page=t}if(n.has("pagemode")){this.eventBus.dispatch("pagemode",{source:this,mode:n.get("pagemode")})}if(n.has("nameddest")){this.goToDestination(n.get("nameddest"))}}else{i=unescape(e);try{i=JSON.parse(i);if(!Array.isArray(i)){i=i.toString()}}catch(e){}if(typeof i==="string"||l(w,w,b).call(w,i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}}executeNamedAction(e){var t,i;switch(e){case"GoBack":(t=this.pdfHistory)===null||t===void 0?void 0:t.back();break;case"GoForward":(i=this.pdfHistory)===null||i===void 0?void 0:i.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}cachePageRef(e,t){if(!t){return}const i=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;c(this,m).set(i,e)}_cachedPageNumber(e){if(!e){return null}const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,m).get(t)||null}isPageVisible(e){return this.pdfViewer.isPageVisible(e)}isPageCached(e){return this.pdfViewer.isPageCached(e)}}t.PDFLinkService=w;function _(t){let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let n=arguments.length>2?arguments[2]:undefined;const r=n[0];let e;if(typeof r==="object"&&r!==null){e=this._cachedPageNumber(r);if(!e){this.pdfDocument.getPageIndex(r).then(e=>{this.cachePageRef(e+1,r);d(this,v,_).call(this,t,i,n)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${r}" is not `+`a valid page reference, for dest="${t}".`)});return}}else if(Number.isInteger(r)){e=r+1}else{console.error(`PDFLinkService.#goToDestinationHelper: "${r}" is not `+`a valid destination reference, for dest="${t}".`);return}if(!e||e<1||e>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${e}" is not `+`a valid page number, for dest="${t}".`);return}if(this.pdfHistory){this.pdfHistory.pushCurrentPosition();this.pdfHistory.push({namedDest:i,explicitDest:n,pageNumber:e})}this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:n,ignoreDestinationZoom:this._ignoreDestinationZoom})}function b(t){if(!Array.isArray(t)){return false}const i=t.length;if(i<2){return false}const e=t[0];if(!(typeof e==="object"&&Number.isInteger(e.num)&&Number.isInteger(e.gen))&&!(Number.isInteger(e)&&e>=0)){return false}const n=t[1];if(!(typeof n==="object"&&typeof n.name==="string")){return false}let r=true;switch(n.name){case"XYZ":if(i!==5){return false}break;case"Fit":case"FitB":return i===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(i!==3){return false}break;case"FitR":if(i!==6){return false}r=false;break;default:return false}for(let e=2;e<i;e++){const s=t[e];if(!(typeof s==="number"||r&&s===null)){return false}}return true}class y{constructor(){this.externalLinkEnabled=true}get pagesCount(){return 0}get page(){return 0}set page(e){}get rotation(){return 0}set rotation(e){}async goToDestination(e){}goToPage(e){}addLinkAttributes(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;g(e,{url:t,enabled:this.externalLinkEnabled})}getDestinationHash(e){return"#"}getAnchorUrl(e){return"#"}setHash(e){}executeNamedAction(e){}cachePageRef(e,t){}isPageVisible(e){return true}isPageCached(e){return true}}t.SimpleLinkService=y},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFViewerApplication=t.PDFPrintServiceFactory=t.DefaultExternalServices=void 0;var w=i(1);var f=i(5);var _=i(2);var p=i(6);var g=i(7);var m=i(3);var v=i(9);var b=i(10);var y=i(12);var P=i(13);var E=i(15);var S=i(16);var L=i(17);var C=i(19);var T=i(20);var k=i(21);var M=i(22);var I=i(23);var A=i(24);var D=i(25);var x=i(26);var N=i(27);var B=i(29);var O=i(40);var V=i(41);var l=i(42);const s=5e3;const R=1e4;const n=1e3;const F={UNKNOWN:-1,PREVIOUS:0,INITIAL:1};const d={AUTOMATIC:0,LIGHT:1,DARK:2};const W=["1.0","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2.0","2.1","2.2","2.3"];const U=["acrobat distiller","acrobat pdfwriter","adobe livecycle","adobe pdf library","adobe photoshop","ghostscript","tcpdf","cairo","dvipdfm","dvips","pdftex","pdfkit","itext","prince","quarkxpress","mac os x","microsoft","openoffice","oracle","luradocument","pdf-xchange","antenna house","aspose.cells","fpdf"];class r{constructor(){throw new Error("Cannot initialize DefaultExternalServices.")}static updateFindControlState(e){}static updateFindMatchesCount(e){}static initPassiveLoading(e){}static reportTelemetry(e){}static createDownloadManager(e){throw new Error("Not implemented: createDownloadManager")}static createPreferences(){throw new Error("Not implemented: createPreferences")}static createL10n(e){throw new Error("Not implemented: createL10n")}static createScripting(e){throw new Error("Not implemented: createScripting")}static get supportsIntegratedFind(){return(0,f.shadow)(this,"supportsIntegratedFind",false)}static get supportsDocumentFonts(){return(0,f.shadow)(this,"supportsDocumentFonts",true)}static get supportedMouseWheelZoomModifierKeys(){return(0,f.shadow)(this,"supportedMouseWheelZoomModifierKeys",{ctrlKey:true,metaKey:true})}static get isInAutomation(){return(0,f.shadow)(this,"isInAutomation",false)}static updateEditorStates(e){throw new Error("Not implemented: updateEditorStates")}}t.DefaultExternalServices=r;const u={initialBookmark:document.location.hash.substring(1),_initializedCapability:(0,f.createPromiseCapability)(),appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfSidebarResizer:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfLayerViewer:null,pdfCursorTools:null,pdfScriptingManager:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,annotationEditorParams:null,isInitialViewSet:false,downloadComplete:false,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",_downloadUrl:"",externalServices:r,_boundEvents:Object.create(null),documentInfo:null,metadata:null,_contentDispositionFilename:null,_contentLength:null,_saveInProgress:false,_docStats:null,_wheelUnusedTicks:0,_idleCallbacks:new Set,_PDFBug:null,_hasAnnotationEditors:false,_title:document.title,_printAnnotationStoragePromise:null,async initialize(e){this.preferences=this.externalServices.createPreferences();this.appConfig=e;await this._readPreferences();await this._parseHashParameters();this._forceCssTheme();await this._initializeL10n();if(this.isViewerEmbedded&&_.AppOptions.get("externalLinkTarget")===m.LinkTarget.NONE){_.AppOptions.set("externalLinkTarget",m.LinkTarget.TOP)}await this._initializeViewerComponents();this.bindEvents();this.bindWindowEvents();const t=e.appContainer||document.documentElement;this.l10n.translate(t).then(()=>{this.eventBus.dispatch("localized",{source:this})});this._initializedCapability.resolve()},async _readPreferences(){if(_.AppOptions.get("disablePreferences")){return}if(_.AppOptions._hasUserOptions()){console.warn("_readPreferences: The Preferences may override manually set AppOptions; "+'please use the "disablePreferences"-option in order to prevent that.')}try{_.AppOptions.setAll(await this.preferences.getAll())}catch(e){console.error(`_readPreferences: "${e===null||e===void 0?void 0:e.message}".`)}},async _parseHashParameters(){if(!_.AppOptions.get("pdfBugEnabled")){return}const e=document.location.hash.substring(1);if(!e){return}const{mainContainer:t,viewerContainer:i}=this.appConfig,n=(0,w.parseQueryString)(e);if(n.get("disableworker")==="true"){try{await o()}catch(e){console.error(`_parseHashParameters: "${e.message}".`)}}if(n.has("disablerange")){_.AppOptions.set("disableRange",n.get("disablerange")==="true")}if(n.has("disablestream")){_.AppOptions.set("disableStream",n.get("disablestream")==="true")}if(n.has("disableautofetch")){_.AppOptions.set("disableAutoFetch",n.get("disableautofetch")==="true")}if(n.has("disablefontface")){_.AppOptions.set("disableFontFace",n.get("disablefontface")==="true")}if(n.has("disablehistory")){_.AppOptions.set("disableHistory",n.get("disablehistory")==="true")}if(n.has("verbosity")){_.AppOptions.set("verbosity",n.get("verbosity")|0)}if(n.has("textlayer")){switch(n.get("textlayer")){case"off":_.AppOptions.set("textLayerMode",w.TextLayerMode.DISABLE);break;case"visible":case"shadow":case"hover":i.classList.add(`textLayer-${n.get("textlayer")}`);try{await c(this);this._PDFBug.loadCSS()}catch(e){console.error(`_parseHashParameters: "${e.message}".`)}break}}if(n.has("pdfbug")){_.AppOptions.set("pdfBug",true);_.AppOptions.set("fontExtraProperties",true);const r=n.get("pdfbug").split(",");try{await c(this);this._PDFBug.init({OPS:f.OPS},t,r)}catch(e){console.error(`_parseHashParameters: "${e.message}".`)}}if(n.has("locale")){_.AppOptions.set("locale",n.get("locale"))}},async _initializeL10n(){this.l10n=this.externalServices.createL10n({locale:_.AppOptions.get("locale")});const e=await this.l10n.getDirection();document.getElementsByTagName("html")[0].dir=e},_forceCssTheme(){const i=_.AppOptions.get("viewerCssTheme");if(i===d.AUTOMATIC||!Object.values(d).includes(i)){return}try{const r=document.styleSheets[0];const s=(r===null||r===void 0?void 0:r.cssRules)||[];for(let e=0,t=s.length;e<t;e++){var n;const a=s[e];if(a instanceof CSSMediaRule&&((n=a.media)===null||n===void 0?void 0:n[0])==="(prefers-color-scheme: dark)"){if(i===d.LIGHT){r.deleteRule(e);return}const o=/^@media \(prefers-color-scheme: dark\) {\n\s*([\w\s-.,:;/\\{}()]+)\n}$/.exec(a.cssText);if(o!==null&&o!==void 0&&o[1]){r.deleteRule(e);r.insertRule(o[1],e)}return}}}catch(e){console.error(`_forceCssTheme: "${e===null||e===void 0?void 0:e.message}".`)}},async _initializeViewerComponents(){const{appConfig:e,externalServices:t}=this;const i=t.isInAutomation?new p.AutomationEventBus:new p.EventBus;this.eventBus=i;this.overlayManager=new b.OverlayManager;const n=new I.PDFRenderingQueue;n.onIdle=this._cleanup.bind(this);this.pdfRenderingQueue=n;const r=new m.PDFLinkService({eventBus:i,externalLinkTarget:_.AppOptions.get("externalLinkTarget"),externalLinkRel:_.AppOptions.get("externalLinkRel"),ignoreDestinationZoom:_.AppOptions.get("ignoreDestinationZoom")});this.pdfLinkService=r;const s=t.createDownloadManager();this.downloadManager=s;const a=new L.PDFFindController({linkService:r,eventBus:i});this.findController=a;const o=new A.PDFScriptingManager({eventBus:i,sandboxBundleSrc:_.AppOptions.get("sandboxBundleSrc"),scriptingFactory:t,docPropertiesLookup:this._scriptingDocProperties.bind(this)});this.pdfScriptingManager=o;const l=e.mainContainer,d=e.viewerContainer;const c=_.AppOptions.get("annotationEditorMode");const h=_.AppOptions.get("forcePageColors")||window.matchMedia("(forced-colors: active)").matches?{background:_.AppOptions.get("pageColorsBackground"),foreground:_.AppOptions.get("pageColorsForeground")}:null;this.pdfViewer=new B.PDFViewer({container:l,viewer:d,eventBus:i,renderingQueue:n,linkService:r,downloadManager:s,findController:a,scriptingManager:_.AppOptions.get("enableScripting")&&o,renderer:_.AppOptions.get("renderer"),l10n:this.l10n,textLayerMode:_.AppOptions.get("textLayerMode"),annotationMode:_.AppOptions.get("annotationMode"),annotationEditorMode:c,imageResourcesPath:_.AppOptions.get("imageResourcesPath"),enablePrintAutoRotate:_.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:_.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:_.AppOptions.get("maxCanvasPixels"),enablePermissions:_.AppOptions.get("enablePermissions"),pageColors:h});n.setViewer(this.pdfViewer);r.setViewer(this.pdfViewer);o.setViewer(this.pdfViewer);this.pdfThumbnailViewer=new N.PDFThumbnailViewer({container:e.sidebar.thumbnailView,eventBus:i,renderingQueue:n,linkService:r,l10n:this.l10n,pageColors:h});n.setThumbnailViewer(this.pdfThumbnailViewer);if(!this.isViewerEmbedded&&!_.AppOptions.get("disableHistory")){this.pdfHistory=new C.PDFHistory({linkService:r,eventBus:i});r.setHistory(this.pdfHistory)}if(!this.supportsIntegratedFind){this.findBar=new S.PDFFindBar(e.findBar,i,this.l10n)}if(c!==f.AnnotationEditorType.DISABLE){this.annotationEditorParams=new v.AnnotationEditorParams(e.annotationEditorParams,i);for(const u of[document.getElementById("editorModeButtons"),document.getElementById("editorModeSeparator")]){u.classList.remove("hidden")}}this.pdfDocumentProperties=new E.PDFDocumentProperties(e.documentProperties,this.overlayManager,i,this.l10n,()=>{return this._docFilename});this.pdfCursorTools=new g.PDFCursorTools({container:l,eventBus:i,cursorToolOnLoad:_.AppOptions.get("cursorToolOnLoad")});this.toolbar=new V.Toolbar(e.toolbar,i,this.l10n);this.secondaryToolbar=new O.SecondaryToolbar(e.secondaryToolbar,i);if(this.supportsFullscreen){this.pdfPresentationMode=new M.PDFPresentationMode({container:l,pdfViewer:this.pdfViewer,eventBus:i})}this.passwordPrompt=new y.PasswordPrompt(e.passwordOverlay,this.overlayManager,this.l10n,this.isViewerEmbedded);this.pdfOutlineViewer=new k.PDFOutlineViewer({container:e.sidebar.outlineView,eventBus:i,linkService:r});this.pdfAttachmentViewer=new P.PDFAttachmentViewer({container:e.sidebar.attachmentsView,eventBus:i,downloadManager:s});this.pdfLayerViewer=new T.PDFLayerViewer({container:e.sidebar.layersView,eventBus:i,l10n:this.l10n});this.pdfSidebar=new D.PDFSidebar({elements:e.sidebar,pdfViewer:this.pdfViewer,pdfThumbnailViewer:this.pdfThumbnailViewer,eventBus:i,l10n:this.l10n});this.pdfSidebar.onToggled=this.forceRendering.bind(this);this.pdfSidebarResizer=new x.PDFSidebarResizer(e.sidebarResizer,i,this.l10n)},run(e){this.initialize(e).then(H)},get initialized(){return this._initializedCapability.settled},get initializedPromise(){return this._initializedCapability.promise},zoomIn(e){if(this.pdfViewer.isInPresentationMode){return}this.pdfViewer.increaseScale(e)},zoomOut(e){if(this.pdfViewer.isInPresentationMode){return}this.pdfViewer.decreaseScale(e)},zoomReset(){if(this.pdfViewer.isInPresentationMode){return}this.pdfViewer.currentScaleValue=w.DEFAULT_SCALE_VALUE},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(e){this.pdfViewer.currentPageNumber=e},get supportsPrinting(){return Ve.instance.supportsPrinting},get supportsFullscreen(){return(0,f.shadow)(this,"supportsFullscreen",document.fullscreenEnabled)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get loadingBar(){const e=new w.ProgressBar("loadingBar");return(0,f.shadow)(this,"loadingBar",e)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading(){throw new Error("Not implemented: initPassiveLoading")},setTitleUsingUrl(){let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.url=t;this.baseUrl=t.split("#")[0];if(e){this._downloadUrl=e===t?this.baseUrl:e.split("#")[0]}let i=(0,f.getPdfFilenameFromUrl)(t,"");if(!i){try{i=decodeURIComponent((0,f.getFilenameFromUrl)(t))||t}catch(e){i=t}}this.setTitle(i)},setTitle(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._title;this._title=e;if(this.isViewerEmbedded){return}document.title=`${this._hasAnnotationEditors?"* ":""}${e}`},get _docFilename(){return this._contentDispositionFilename||(0,f.getPdfFilenameFromUrl)(this.url)},_hideViewBookmark(){const{toolbar:e,secondaryToolbar:t}=this.appConfig;e.viewBookmark.hidden=true;t.viewBookmarkButton.hidden=true},_cancelIdleCallbacks(){if(!this._idleCallbacks.size){return}for(const e of this._idleCallbacks){window.cancelIdleCallback(e)}this._idleCallbacks.clear()},async close(){var e,t,i,n;this._unblockDocumentLoadEvent();this._hideViewBookmark();const{container:r}=this.appConfig.errorWrapper;r.hidden=true;if(!this.pdfLoadingTask){return}if(((e=this.pdfDocument)===null||e===void 0?void 0:e.annotationStorage.size)>0&&this._annotationStorageModified){try{await this.save()}catch(e){}}const s=[];s.push(this.pdfLoadingTask.destroy());this.pdfLoadingTask=null;if(this.pdfDocument){this.pdfDocument=null;this.pdfThumbnailViewer.setDocument(null);this.pdfViewer.setDocument(null);this.pdfLinkService.setDocument(null);this.pdfDocumentProperties.setDocument(null)}this.pdfLinkService.externalLinkEnabled=true;this.store=null;this.isInitialViewSet=false;this.downloadComplete=false;this.url="";this.baseUrl="";this._downloadUrl="";this.documentInfo=null;this.metadata=null;this._contentDispositionFilename=null;this._contentLength=null;this._saveInProgress=false;this._docStats=null;this._hasAnnotationEditors=false;this._cancelIdleCallbacks();s.push(this.pdfScriptingManager.destroyPromise);this.setTitle();this.pdfSidebar.reset();this.pdfOutlineViewer.reset();this.pdfAttachmentViewer.reset();this.pdfLayerViewer.reset();(t=this.pdfHistory)===null||t===void 0?void 0:t.reset();(i=this.findBar)===null||i===void 0?void 0:i.reset();this.toolbar.reset();this.secondaryToolbar.reset();(n=this._PDFBug)===null||n===void 0?void 0:n.cleanup();await Promise.all(s)},async open(e,t){if(this.pdfLoadingTask){await this.close()}const i=_.AppOptions.getAll(_.OptionKind.WORKER);for(const a in i){f.GlobalWorkerOptions[a]=i[a]}const n=Object.create(null);if(typeof e==="string"){this.setTitleUsingUrl(e,e);n.url=e}else if(e&&"byteLength"in e){n.data=e}else if(e.url&&e.originalUrl){this.setTitleUsingUrl(e.originalUrl,e.url);n.url=e.url}const r=_.AppOptions.getAll(_.OptionKind.API);for(const a in r){let e=r[a];if(a==="docBaseUrl"&&!e){}n[a]=e}if(t){for(const a in t){n[a]=t[a]}}const s=(0,f.getDocument)(n);this.pdfLoadingTask=s;s.onPassword=(e,t)=>{this.pdfLinkService.externalLinkEnabled=false;this.passwordPrompt.setUpdateCallback(e,t);this.passwordPrompt.open()};s.onProgress=e=>{let{loaded:t,total:i}=e;this.progress(t/i)};s.onUnsupportedFeature=this.fallback.bind(this);return s.promise.then(e=>{this.load(e)},t=>{if(s!==this.pdfLoadingTask){return undefined}let e="loading_error";if(t instanceof f.InvalidPDFException){e="invalid_file_error"}else if(t instanceof f.MissingPDFException){e="missing_file_error"}else if(t instanceof f.UnexpectedResponseException){e="unexpected_response_error"}return this.l10n.get(e).then(e=>{this._documentError(e,{message:t===null||t===void 0?void 0:t.message});throw t})})},_ensureDownloadComplete(){if(this.pdfDocument&&this.downloadComplete){return}throw new Error("PDF document not downloaded.")},async download(){const t=this._downloadUrl,i=this._docFilename;try{this._ensureDownloadComplete();const e=await this.pdfDocument.getData();const n=new Blob([e],{type:"application/pdf"});await this.downloadManager.download(n,t,i)}catch(e){await this.downloadManager.downloadUrl(t,i)}},async save(){if(this._saveInProgress){return}this._saveInProgress=true;await this.pdfScriptingManager.dispatchWillSave();const e=this._downloadUrl,t=this._docFilename;try{this._ensureDownloadComplete();const i=await this.pdfDocument.saveDocument();const n=new Blob([i],{type:"application/pdf"});await this.downloadManager.download(n,e,t)}catch(e){console.error(`Error when saving the document: ${e.message}`);await this.download()}finally{await this.pdfScriptingManager.dispatchDidSave();this._saveInProgress=false}if(this._hasAnnotationEditors){this.externalServices.reportTelemetry({type:"editing",data:{type:"save"}})}},downloadOrSave(){var e;if(((e=this.pdfDocument)===null||e===void 0?void 0:e.annotationStorage.size)>0){this.save()}else{this.download()}},fallback(e){this.externalServices.reportTelemetry({type:"unsupportedFeature",featureId:e})},_documentError(e){var t;let i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._unblockDocumentLoadEvent();this._otherError(e,i);this.eventBus.dispatch("documenterror",{source:this,message:e,reason:(t=i===null||i===void 0?void 0:i.message)!==null&&t!==void 0?t:null})},_otherError(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const i=[this.l10n.get("error_version_info",{version:f.version||"?",build:f.build||"?"})];if(t){i.push(this.l10n.get("error_message",{message:t.message}));if(t.stack){i.push(this.l10n.get("error_stack",{stack:t.stack}))}else{if(t.filename){i.push(this.l10n.get("error_file",{file:t.filename}))}if(t.lineNumber){i.push(this.l10n.get("error_line",{line:t.lineNumber}))}}}const n=this.appConfig.errorWrapper;const r=n.container;r.hidden=false;const s=n.errorMessage;s.textContent=e;const a=n.closeButton;a.onclick=function(){r.hidden=true};const o=n.errorMoreInfo;const l=n.moreInfoButton;const d=n.lessInfoButton;l.onclick=function(){o.hidden=false;l.hidden=true;d.hidden=false;o.style.height=o.scrollHeight+"px"};d.onclick=function(){o.hidden=true;l.hidden=false;d.hidden=true};l.oncontextmenu=w.noContextMenuHandler;d.oncontextmenu=w.noContextMenuHandler;a.oncontextmenu=w.noContextMenuHandler;l.hidden=false;d.hidden=true;Promise.all(i).then(e=>{o.value=e.join("\n")})},progress(e){var t,i;if(this.downloadComplete){return}const n=Math.round(e*100);if(n<=this.loadingBar.percent){return}this.loadingBar.percent=n;const r=(t=(i=this.pdfDocument)===null||i===void 0?void 0:i.loadingParams.disableAutoFetch)!==null&&t!==void 0?t:_.AppOptions.get("disableAutoFetch");if(!r||isNaN(n)){return}if(this.disableAutoFetchLoadingBarTimeout){clearTimeout(this.disableAutoFetchLoadingBarTimeout);this.disableAutoFetchLoadingBarTimeout=null}this.loadingBar.show();this.disableAutoFetchLoadingBarTimeout=setTimeout(()=>{this.loadingBar.hide();this.disableAutoFetchLoadingBarTimeout=null},s)},load(g){this.pdfDocument=g;g.getDownloadInfo().then(e=>{let{length:t}=e;this._contentLength=t;this.downloadComplete=true;this.loadingBar.hide();r.then(()=>{this.eventBus.dispatch("documentloaded",{source:this})})});const t=g.getPageLayout().catch(function(){});const i=g.getPageMode().catch(function(){});const n=g.getOpenAction().catch(function(){});this.toolbar.setPagesCount(g.numPages,false);this.secondaryToolbar.setPagesCount(g.numPages);let e;e=null;this.pdfLinkService.setDocument(g,e);this.pdfDocumentProperties.setDocument(g);const m=this.pdfViewer;m.setDocument(g);const{firstPagePromise:r,onePageRendered:s,pagesPromise:v}=m;const a=this.pdfThumbnailViewer;a.setDocument(g);const o=(this.store=new l.ViewHistory(g.fingerprints[0])).getMultiple({page:null,zoom:w.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:w.SidebarView.UNKNOWN,scrollMode:w.ScrollMode.UNKNOWN,spreadMode:w.SpreadMode.UNKNOWN}).catch(()=>{return Object.create(null)});r.then(e=>{this.loadingBar.setWidth(this.appConfig.viewerContainer);this._initializeAnnotationStorageCallbacks(g);Promise.all([w.animationStarted,o,t,i,n]).then(async e=>{let[t,i,n,r,s]=e;const a=_.AppOptions.get("viewOnLoad");this._initializePdfHistory({fingerprint:g.fingerprints[0],viewOnLoad:a,initialDest:s===null||s===void 0?void 0:s.dest});const o=this.initialBookmark;const l=_.AppOptions.get("defaultZoomValue");let d=l?`zoom=${l}`:null;let c=null;let h=_.AppOptions.get("sidebarViewOnLoad");let u=_.AppOptions.get("scrollModeOnLoad");let f=_.AppOptions.get("spreadModeOnLoad");if(i.page&&a!==F.INITIAL){d=`page=${i.page}&zoom=${l||i.zoom},`+`${i.scrollLeft},${i.scrollTop}`;c=parseInt(i.rotation,10);if(h===w.SidebarView.UNKNOWN){h=i.sidebarView|0}if(u===w.ScrollMode.UNKNOWN){u=i.scrollMode|0}if(f===w.SpreadMode.UNKNOWN){f=i.spreadMode|0}}if(r&&h===w.SidebarView.UNKNOWN){h=(0,w.apiPageModeToSidebarView)(r)}if(n&&u===w.ScrollMode.UNKNOWN&&f===w.SpreadMode.UNKNOWN){const p=(0,w.apiPageLayoutToViewerModes)(n);f=p.spreadMode}this.setInitialView(d,{rotation:c,sidebarView:h,scrollMode:u,spreadMode:f});this.eventBus.dispatch("documentinit",{source:this});if(!this.isViewerEmbedded){m.focus()}await Promise.race([v,new Promise(e=>{setTimeout(e,R)})]);if(!o&&!d){return}if(m.hasEqualPageSizes){return}this.initialBookmark=o;m.currentScaleValue=m.currentScaleValue;this.setInitialView(d)}).catch(()=>{this.setInitialView()}).then(function(){m.update()})});v.then(()=>{this._unblockDocumentLoadEvent();this._initializeAutoPrint(g,n)},t=>{this.l10n.get("loading_error").then(e=>{this._documentError(e,{message:t===null||t===void 0?void 0:t.message})})});s.then(e=>{this.externalServices.reportTelemetry({type:"pageInfo",timestamp:e.timestamp});g.getOutline().then(e=>{if(g!==this.pdfDocument){return}this.pdfOutlineViewer.render({outline:e,pdfDocument:g})});g.getAttachments().then(e=>{if(g!==this.pdfDocument){return}this.pdfAttachmentViewer.render({attachments:e})});m.optionalContentConfigPromise.then(e=>{if(g!==this.pdfDocument){return}this.pdfLayerViewer.render({optionalContentConfig:e,pdfDocument:g})});if("requestIdleCallback"in window){const t=window.requestIdleCallback(()=>{this._collectTelemetry(g);this._idleCallbacks.delete(t)},{timeout:1e3});this._idleCallbacks.add(t)}});this._initializePageLabels(g);this._initializeMetadata(g)},async _scriptingDocProperties(e){var t,i;if(!this.documentInfo){await new Promise(e=>{this.eventBus._on("metadataloaded",e,{once:true})});if(e!==this.pdfDocument){return null}}if(!this._contentLength){await new Promise(e=>{this.eventBus._on("documentloaded",e,{once:true})});if(e!==this.pdfDocument){return null}}return{...this.documentInfo,baseURL:this.baseUrl,filesize:this._contentLength,filename:this._docFilename,metadata:(t=this.metadata)===null||t===void 0?void 0:t.getRaw(),authors:(i=this.metadata)===null||i===void 0?void 0:i.get("dc:creator"),numPages:this.pagesCount,URL:this.url}},async _collectTelemetry(e){const t=await this.pdfDocument.getMarkInfo();if(e!==this.pdfDocument){return}const i=(t===null||t===void 0?void 0:t.Marked)||false;this.externalServices.reportTelemetry({type:"tagged",tagged:i})},async _initializeAutoPrint(e,t){const[i,n]=await Promise.all([t,!this.pdfViewer.enableScripting?e.getJavaScript():null]);if(e!==this.pdfDocument){return}let r=false;if((i===null||i===void 0?void 0:i.action)==="Print"){r=true}if(n){n.some(e=>{if(!e){return false}console.warn("Warning: JavaScript support is not enabled");this.fallback(f.UNSUPPORTED_FEATURES.javaScript);return true});if(!r){for(const s of n){if(s&&w.AutoPrintRegExp.test(s)){r=true;break}}}}if(r){this.triggerPrinting()}},async _initializeMetadata(e){var t,i;const{info:n,metadata:r,contentDispositionFilename:s,contentLength:a}=await e.getMetadata();if(e!==this.pdfDocument){return}this.documentInfo=n;this.metadata=r;(t=this._contentDispositionFilename)!==null&&t!==void 0?t:this._contentDispositionFilename=s;(i=this._contentLength)!==null&&i!==void 0?i:this._contentLength=a;console.log(`PDF ${e.fingerprints[0]} [${n.PDFFormatVersion} `+`${(n.Producer||"-").trim()} / ${(n.Creator||"-").trim()}] `+`(PDF.js: ${f.version||"-"})`);let o=n.Title;const l=r===null||r===void 0?void 0:r.get("dc:title");if(l){if(l!=="Untitled"&&!/[\uFFF0-\uFFFF]/g.test(l)){o=l}}if(o){this.setTitle(`${o} - ${this._contentDispositionFilename||this._title}`)}else if(this._contentDispositionFilename){this.setTitle(this._contentDispositionFilename)}if(n.IsXFAPresent&&!n.IsAcroFormPresent&&!e.isPureXfa){if(e.loadingParams.enableXfa){console.warn("Warning: XFA Foreground documents are not supported")}else{console.warn("Warning: XFA support is not enabled")}this.fallback(f.UNSUPPORTED_FEATURES.forms)}else if((n.IsAcroFormPresent||n.IsXFAPresent)&&!this.pdfViewer.renderForms){console.warn("Warning: Interactive form support is not enabled");this.fallback(f.UNSUPPORTED_FEATURES.forms)}if(n.IsSignaturesPresent){console.warn("Warning: Digital signatures validation is not supported");this.fallback(f.UNSUPPORTED_FEATURES.signatures)}let d="other";if(W.includes(n.PDFFormatVersion)){d=`v${n.PDFFormatVersion.replace(".","_")}`}let c="other";if(n.Producer){const u=n.Producer.toLowerCase();U.some(function(e){if(!u.includes(e)){return false}c=e.replace(/[ .-]/g,"_");return true})}let h=null;if(n.IsXFAPresent){h="xfa"}else if(n.IsAcroFormPresent){h="acroform"}this.externalServices.reportTelemetry({type:"documentInfo",version:d,generator:c,formType:h});this.eventBus.dispatch("metadataloaded",{source:this})},async _initializePageLabels(e){const t=await e.getPageLabels();if(e!==this.pdfDocument){return}if(!t||_.AppOptions.get("disablePageLabels")){return}const i=t.length;let n=0,r=0;for(let e=0;e<i;e++){const l=t[e];if(l===(e+1).toString()){n++}else if(l===""){r++}else{break}}if(n>=i||r>=i){return}const{pdfViewer:s,pdfThumbnailViewer:a,toolbar:o}=this;s.setPageLabels(t);a.setPageLabels(t);o.setPagesCount(i,true);o.setPageNumber(s.currentPageNumber,s.currentPageLabel)},_initializePdfHistory(e){let{fingerprint:t,viewOnLoad:i,initialDest:n=null}=e;if(!this.pdfHistory){return}this.pdfHistory.initialize({fingerprint:t,resetHistory:i===F.INITIAL,updateUrl:_.AppOptions.get("historyUpdateUrl")});if(this.pdfHistory.initialBookmark){this.initialBookmark=this.pdfHistory.initialBookmark;this.initialRotation=this.pdfHistory.initialRotation}if(n&&!this.initialBookmark&&i===F.UNKNOWN){this.initialBookmark=JSON.stringify(n);this.pdfHistory.push({explicitDest:n,pageNumber:null})}},_initializeAnnotationStorageCallbacks(e){if(e!==this.pdfDocument){return}const{annotationStorage:t}=e;t.onSetModified=()=>{window.addEventListener("beforeunload",Be);this._annotationStorageModified=true};t.onResetModified=()=>{window.removeEventListener("beforeunload",Be);delete this._annotationStorageModified};t.onAnnotationEditor=e=>{this._hasAnnotationEditors=!!e;this.setTitle();if(e){this.externalServices.reportTelemetry({type:"editing",data:{type:e}})}}},setInitialView(e){let{rotation:t,sidebarView:i,scrollMode:n,spreadMode:r}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const s=e=>{if((0,w.isValidRotation)(e)){this.pdfViewer.pagesRotation=e}};const a=(e,t)=>{if((0,w.isValidScrollMode)(e)){this.pdfViewer.scrollMode=e}if((0,w.isValidSpreadMode)(t)){this.pdfViewer.spreadMode=t}};this.isInitialViewSet=true;this.pdfSidebar.setInitialView(i);a(n,r);if(this.initialBookmark){s(this.initialRotation);delete this.initialRotation;this.pdfLinkService.setHash(this.initialBookmark);this.initialBookmark=null}else if(e){s(t);this.pdfLinkService.setHash(e)}this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);if(!this.pdfViewer.currentScaleValue){this.pdfViewer.currentScaleValue=w.DEFAULT_SCALE_VALUE}},_cleanup(){if(!this.pdfDocument){return}this.pdfViewer.cleanup();this.pdfThumbnailViewer.cleanup();this.pdfDocument.cleanup(this.pdfViewer.renderer===w.RendererType.SVG)},forceRendering(){this.pdfRenderingQueue.printing=!!this.printService;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.visibleView===w.SidebarView.THUMBS;this.pdfRenderingQueue.renderHighestPriority()},beforePrint(){this._printAnnotationStoragePromise=this.pdfScriptingManager.dispatchWillPrint().catch(()=>{}).then(()=>{var e;return(e=this.pdfDocument)===null||e===void 0?void 0:e.annotationStorage.print});if(this.printService){return}if(!this.supportsPrinting){this.l10n.get("printing_not_supported").then(e=>{this._otherError(e)});return}if(!this.pdfViewer.pageViewsReady){this.l10n.get("printing_not_ready").then(e=>{window.alert(e)});return}const e=this.pdfViewer.getPagesOverview();const t=this.appConfig.printContainer;const i=_.AppOptions.get("printResolution");const n=this.pdfViewer.optionalContentConfigPromise;const r=Ve.instance.createPrintService(this.pdfDocument,e,t,i,n,this._printAnnotationStoragePromise,this.l10n);this.printService=r;this.forceRendering();r.layout();this.externalServices.reportTelemetry({type:"print"});if(this._hasAnnotationEditors){this.externalServices.reportTelemetry({type:"editing",data:{type:"print"}})}},afterPrint(){if(this._printAnnotationStoragePromise){this._printAnnotationStoragePromise.then(()=>{this.pdfScriptingManager.dispatchDidPrint()});this._printAnnotationStoragePromise=null}if(this.printService){var e;this.printService.destroy();this.printService=null;(e=this.pdfDocument)===null||e===void 0?void 0:e.annotationStorage.resetModified()}this.forceRendering()},rotatePages(e){this.pdfViewer.pagesRotation+=e},requestPresentationMode(){var e;(e=this.pdfPresentationMode)===null||e===void 0?void 0:e.request()},triggerPrinting(){if(!this.supportsPrinting){return}},bindEvents(){const{eventBus:e,_boundEvents:t}=this;t.beforePrint=this.beforePrint.bind(this);t.afterPrint=this.afterPrint.bind(this);e._on("resize",q);e._on("hashchange",Y);e._on("beforeprint",t.beforePrint);e._on("afterprint",t.afterPrint);e._on("pagerendered",z);e._on("updateviewarea",X);e._on("pagechanging",Ce);e._on("scalechanging",Se);e._on("rotationchanging",Le);e._on("sidebarviewchanged",G);e._on("pagemode",j);e._on("namedaction",$);e._on("presentationmodechanged",K);e._on("presentationmode",te);e._on("switchannotationeditormode",ie);e._on("switchannotationeditorparams",ne);e._on("firstpage",ae);e._on("lastpage",oe);e._on("nextpage",le);e._on("previouspage",de);e._on("zoomin",ce);e._on("zoomout",he);e._on("zoomreset",ue);e._on("pagenumberchanged",fe);e._on("scalechanged",pe);e._on("rotatecw",ge);e._on("rotateccw",me);e._on("optionalcontentconfig",ve);e._on("switchscrollmode",we);e._on("scrollmodechanged",Z);e._on("switchspreadmode",_e);e._on("spreadmodechanged",Q);e._on("documentproperties",be);e._on("findfromurlhash",ye);e._on("updatefindmatchescount",Pe);e._on("updatefindcontrolstate",Ee);if(_.AppOptions.get("pdfBug")){t.reportPageStatsPDFBug=h;e._on("pagerendered",t.reportPageStatsPDFBug);e._on("pagechanging",t.reportPageStatsPDFBug)}e._on("fileinputchange",J);e._on("openfile",ee)},bindWindowEvents(){const{eventBus:t,_boundEvents:i}=this;function n(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(e){Te(e)}const t=window.matchMedia(`(resolution: ${window.devicePixelRatio||1}dppx)`);t.addEventListener("change",n,{once:true});i.removeWindowResolutionChange||(i.removeWindowResolutionChange=function(){t.removeEventListener("change",n);i.removeWindowResolutionChange=null})}n();i.windowResize=()=>{t.dispatch("resize",{source:window})};i.windowHashChange=()=>{t.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})};i.windowBeforePrint=()=>{t.dispatch("beforeprint",{source:window})};i.windowAfterPrint=()=>{t.dispatch("afterprint",{source:window})};i.windowUpdateFromSandbox=e=>{t.dispatch("updatefromsandbox",{source:window,detail:e.detail})};window.addEventListener("visibilitychange",ke);window.addEventListener("wheel",Ae,{passive:false});window.addEventListener("touchstart",De,{passive:false});window.addEventListener("click",xe);window.addEventListener("keydown",Ne);window.addEventListener("resize",i.windowResize);window.addEventListener("hashchange",i.windowHashChange);window.addEventListener("beforeprint",i.windowBeforePrint);window.addEventListener("afterprint",i.windowAfterPrint);window.addEventListener("updatefromsandbox",i.windowUpdateFromSandbox)},unbindEvents(){const{eventBus:e,_boundEvents:t}=this;e._off("resize",q);e._off("hashchange",Y);e._off("beforeprint",t.beforePrint);e._off("afterprint",t.afterPrint);e._off("pagerendered",z);e._off("updateviewarea",X);e._off("pagechanging",Ce);e._off("scalechanging",Se);e._off("rotationchanging",Le);e._off("sidebarviewchanged",G);e._off("pagemode",j);e._off("namedaction",$);e._off("presentationmodechanged",K);e._off("presentationmode",te);e._off("firstpage",ae);e._off("lastpage",oe);e._off("nextpage",le);e._off("previouspage",de);e._off("zoomin",ce);e._off("zoomout",he);e._off("zoomreset",ue);e._off("pagenumberchanged",fe);e._off("scalechanged",pe);e._off("rotatecw",ge);e._off("rotateccw",me);e._off("optionalcontentconfig",ve);e._off("switchscrollmode",we);e._off("scrollmodechanged",Z);e._off("switchspreadmode",_e);e._off("spreadmodechanged",Q);e._off("documentproperties",be);e._off("findfromurlhash",ye);e._off("updatefindmatchescount",Pe);e._off("updatefindcontrolstate",Ee);if(t.reportPageStatsPDFBug){e._off("pagerendered",t.reportPageStatsPDFBug);e._off("pagechanging",t.reportPageStatsPDFBug);t.reportPageStatsPDFBug=null}e._off("fileinputchange",J);e._off("openfile",ee);t.beforePrint=null;t.afterPrint=null},unbindWindowEvents(){var e;const{_boundEvents:t}=this;window.removeEventListener("visibilitychange",ke);window.removeEventListener("wheel",Ae,{passive:false});window.removeEventListener("touchstart",De,{passive:false});window.removeEventListener("click",xe);window.removeEventListener("keydown",Ne);window.removeEventListener("resize",t.windowResize);window.removeEventListener("hashchange",t.windowHashChange);window.removeEventListener("beforeprint",t.windowBeforePrint);window.removeEventListener("afterprint",t.windowAfterPrint);window.removeEventListener("updatefromsandbox",t.windowUpdateFromSandbox);(e=t.removeWindowResolutionChange)===null||e===void 0?void 0:e.call(t);t.windowResize=null;t.windowHashChange=null;t.windowBeforePrint=null;t.windowAfterPrint=null;t.windowUpdateFromSandbox=null},accumulateWheelTicks(e){if(this._wheelUnusedTicks>0&&e<0||this._wheelUnusedTicks<0&&e>0){this._wheelUnusedTicks=0}this._wheelUnusedTicks+=e;const t=Math.sign(this._wheelUnusedTicks)*Math.floor(Math.abs(this._wheelUnusedTicks));this._wheelUnusedTicks-=t;return t},_unblockDocumentLoadEvent(){var e,t;(e=(t=document).blockUnblockOnload)===null||e===void 0?void 0:e.call(t,false);this._unblockDocumentLoadEvent=()=>{}},_reportDocumentStatsTelemetry(){const{stats:e}=this.pdfDocument;if(e!==this._docStats){this._docStats=e;this.externalServices.reportTelemetry({type:"documentStats",stats:e})}},get scriptingReady(){return this.pdfScriptingManager.ready}};t.PDFViewerApplication=u;let a;{const Re=["null","http://mozilla.github.io","https://mozilla.github.io"];a=function(e){if(!e){return}try{const t=new URL(window.location.href).origin||"null";if(Re.includes(t)){return}const i=new URL(e,window.location.href).origin;if(i!==t){throw new Error("file origin does not match viewer's")}}catch(t){u.l10n.get("loading_error").then(e=>{u._documentError(e,{message:t===null||t===void 0?void 0:t.message})});throw t}}}async function o(){f.GlobalWorkerOptions.workerSrc||(f.GlobalWorkerOptions.workerSrc=_.AppOptions.get("workerSrc"));await(0,f.loadScript)(f.PDFWorker.workerSrc)}async function c(e){const{debuggerScriptPath:t}=e.appConfig;const{PDFBug:i}=await import(t);e._PDFBug=i}function h(e){var t,i;let{pageNumber:n}=e;if(!((t=globalThis.Stats)!==null&&t!==void 0&&t.enabled)){return}const r=u.pdfViewer.getPageView(n-1);globalThis.Stats.add(n,r===null||r===void 0?void 0:(i=r.pdfPage)===null||i===void 0?void 0:i.stats)}function H(){var e;const{appConfig:t,eventBus:i}=u;let n;const r=document.location.search.substring(1);const s=(0,w.parseQueryString)(r);n=(e=s.get("file"))!==null&&e!==void 0?e:_.AppOptions.get("defaultUrl");const a=t.openFileInput;a.value=null;a.addEventListener("change",function(e){const{files:t}=e.target;if(!t||t.length===0){return}i.dispatch("fileinputchange",{source:this,fileInput:e.target})});t.mainContainer.addEventListener("dragover",function(e){e.preventDefault();e.dataTransfer.dropEffect=e.dataTransfer.effectAllowed==="copy"?"copy":"move"});t.mainContainer.addEventListener("drop",function(e){e.preventDefault();const{files:t}=e.dataTransfer;if(!t||t.length===0){return}i.dispatch("fileinputchange",{source:this,fileInput:e.dataTransfer})});if(!u.supportsDocumentFonts){_.AppOptions.set("disableFontFace",true);u.l10n.get("web_fonts_disabled").then(e=>{console.warn(e)})}if(!u.supportsPrinting){t.toolbar.print.classList.add("hidden");t.secondaryToolbar.printButton.classList.add("hidden")}if(!u.supportsFullscreen){t.toolbar.presentationModeButton.classList.add("hidden");t.secondaryToolbar.presentationModeButton.classList.add("hidden")}if(u.supportsIntegratedFind){t.toolbar.viewFind.classList.add("hidden")}t.mainContainer.addEventListener("transitionend",function(e){if(e.target===this){i.dispatch("resize",{source:this})}},true);try{if(n){u.open(n)}else{u._hideViewBookmark()}}catch(t){u.l10n.get("loading_error").then(e=>{u._documentError(e,t)})}}function z(e){let{pageNumber:t,error:i}=e;if(t===u.page){u.toolbar.updateLoadingIndicatorState(false)}if(u.pdfSidebar.visibleView===w.SidebarView.THUMBS){const n=u.pdfViewer.getPageView(t-1);const r=u.pdfThumbnailViewer.getThumbnail(t-1);if(n&&r){r.setImage(n)}}if(i){u.l10n.get("rendering_error").then(e=>{u._otherError(e,i)})}u._reportDocumentStatsTelemetry()}function j(e){let{mode:t}=e;let i;switch(t){case"thumbs":i=w.SidebarView.THUMBS;break;case"bookmarks":case"outline":i=w.SidebarView.OUTLINE;break;case"attachments":i=w.SidebarView.ATTACHMENTS;break;case"layers":i=w.SidebarView.LAYERS;break;case"none":i=w.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+t);return}u.pdfSidebar.switchView(i,true)}function $(e){switch(e.action){case"GoToPage":u.appConfig.toolbar.pageNumber.select();break;case"Find":if(!u.supportsIntegratedFind){u.findBar.toggle()}break;case"Print":break;case"SaveAs":break}}function K(e){u.pdfViewer.presentationModeState=e.state}function G(e){let{view:t}=e;u.pdfRenderingQueue.isThumbnailViewEnabled=t===w.SidebarView.THUMBS;if(u.isInitialViewSet){var i;(i=u.store)===null||i===void 0?void 0:i.set("sidebarView",t).catch(()=>{})}}function X(e){let{location:t}=e;if(u.isInitialViewSet){var i;(i=u.store)===null||i===void 0?void 0:i.setMultiple({page:t.pageNumber,zoom:t.scale,scrollLeft:t.left,scrollTop:t.top,rotation:t.rotation}).catch(()=>{})}const n=u.pdfLinkService.getAnchorUrl(t.pdfOpenParams);u.appConfig.toolbar.viewBookmark.href=n;u.appConfig.secondaryToolbar.viewBookmarkButton.href=n;const r=u.pdfViewer.getPageView(u.page-1);const s=(r===null||r===void 0?void 0:r.renderingState)!==w.RenderingStates.FINISHED;u.toolbar.updateLoadingIndicatorState(s)}function Z(e){if(u.isInitialViewSet){var t;(t=u.store)===null||t===void 0?void 0:t.set("scrollMode",e.mode).catch(()=>{})}}function Q(e){if(u.isInitialViewSet){var t;(t=u.store)===null||t===void 0?void 0:t.set("spreadMode",e.mode).catch(()=>{})}}function q(){const{pdfDocument:e,pdfViewer:t,pdfRenderingQueue:i}=u;if(i.printing&&window.matchMedia("print").matches){return}t.updateContainerHeightCss();if(!e){return}const n=t.currentScaleValue;if(n==="auto"||n==="page-fit"||n==="page-width"){t.currentScaleValue=n}t.update()}function Y(e){var t;const i=e.hash;if(!i){return}if(!u.isInitialViewSet){u.initialBookmark=i}else if(!((t=u.pdfHistory)!==null&&t!==void 0&&t.popStateInProgress)){u.pdfLinkService.setHash(i)}}{var J=function(e){var t;if((t=u.pdfViewer)!==null&&t!==void 0&&t.isInPresentationMode){return}const i=e.fileInput.files[0];let n=URL.createObjectURL(i);if(i.name){n={url:n,originalUrl:i.name}}u.open(n)};var ee=function(e){const t=u.appConfig.openFileInput;t.click()}}function te(){u.requestPresentationMode()}function ie(e){u.pdfViewer.annotationEditorMode=e.mode}function ne(e){u.pdfViewer.annotationEditorParams=e}function re(){u.triggerPrinting()}function se(){u.downloadOrSave()}function ae(){if(u.pdfDocument){u.page=1}}function oe(){if(u.pdfDocument){u.page=u.pagesCount}}function le(){u.pdfViewer.nextPage()}function de(){u.pdfViewer.previousPage()}function ce(){u.zoomIn()}function he(){u.zoomOut()}function ue(){u.zoomReset()}function fe(e){const t=u.pdfViewer;if(e.value!==""){u.pdfLinkService.goToPage(e.value)}if(e.value!==t.currentPageNumber.toString()&&e.value!==t.currentPageLabel){u.toolbar.setPageNumber(t.currentPageNumber,t.currentPageLabel)}}function pe(e){u.pdfViewer.currentScaleValue=e.value}function ge(){u.rotatePages(90)}function me(){u.rotatePages(-90)}function ve(e){u.pdfViewer.optionalContentConfigPromise=e.promise}function we(e){u.pdfViewer.scrollMode=e.mode}function _e(e){u.pdfViewer.spreadMode=e.mode}function be(){u.pdfDocumentProperties.open()}function ye(e){u.eventBus.dispatch("find",{source:e.source,type:"",query:e.query,phraseSearch:e.phraseSearch,caseSensitive:false,entireWord:false,highlightAll:true,findPrevious:false,matchDiacritics:true})}function Pe(e){let{matchesCount:t}=e;if(u.supportsIntegratedFind){u.externalServices.updateFindMatchesCount(t)}else{u.findBar.updateResultsCount(t)}}function Ee(e){let{state:t,previous:i,matchesCount:n,rawQuery:r}=e;if(u.supportsIntegratedFind){u.externalServices.updateFindControlState({result:t,findPrevious:i,matchesCount:n,rawQuery:r})}else{u.findBar.updateUIState(t,i,n)}}function Se(e){u.toolbar.setPageScale(e.presetValue,e.scale);u.pdfViewer.update()}function Le(e){u.pdfThumbnailViewer.pagesRotation=e.pagesRotation;u.forceRendering();u.pdfViewer.currentPageNumber=e.pageNumber}function Ce(e){let{pageNumber:t,pageLabel:i}=e;u.toolbar.setPageNumber(t,i);u.secondaryToolbar.setPageNumber(t);if(u.pdfSidebar.visibleView===w.SidebarView.THUMBS){u.pdfThumbnailViewer.scrollThumbnailIntoView(t)}}function Te(e){u.pdfViewer.refresh()}function ke(e){if(document.visibilityState==="visible"){Ie()}}let Me=null;function Ie(){if(Me){clearTimeout(Me)}Me=setTimeout(function(){Me=null},n)}function Ae(t){const{pdfViewer:i,supportedMouseWheelZoomModifierKeys:e}=u;if(i.isInPresentationMode){return}if(t.ctrlKey&&e.ctrlKey||t.metaKey&&e.metaKey){t.preventDefault();if(Me||document.visibilityState==="hidden"){return}const n=t.deltaMode;const r=(0,w.normalizeWheelEventDirection)(t);const s=i.currentScale;let e=0;if(n===WheelEvent.DOM_DELTA_LINE||n===WheelEvent.DOM_DELTA_PAGE){if(Math.abs(r)>=1){e=Math.sign(r)}else{e=u.accumulateWheelTicks(r)}}else{const o=30;e=u.accumulateWheelTicks(r/o)}if(e<0){u.zoomOut(-e)}else if(e>0){u.zoomIn(e)}const a=i.currentScale;if(s!==a){const l=a/s-1;const d=i.container.getBoundingClientRect();const c=t.clientX-d.left;const h=t.clientY-d.top;i.container.scrollLeft+=c*l;i.container.scrollTop+=h*l}}else{Ie()}}function De(e){if(e.touches.length>1){e.preventDefault()}}function xe(e){if(!u.secondaryToolbar.isOpen){return}const t=u.appConfig;if(u.pdfViewer.containsElement(e.target)||t.toolbar.container.contains(e.target)&&e.target!==t.secondaryToolbar.toggleButton){u.secondaryToolbar.close()}}function Ne(i){if(u.overlayManager.active){return}const{eventBus:e,pdfViewer:n}=u;const r=n.isInPresentationMode;let s=false,a=false;const t=(i.ctrlKey?1:0)|(i.altKey?2:0)|(i.shiftKey?4:0)|(i.metaKey?8:0);if(t===1||t===8||t===5||t===12){switch(i.keyCode){case 70:if(!u.supportsIntegratedFind&&!i.shiftKey){u.findBar.open();s=true}break;case 71:if(!u.supportsIntegratedFind){const{state:d}=u.findController;if(d){const c=Object.assign(Object.create(null),d,{source:window,type:"again",findPrevious:t===5||t===12});e.dispatch("find",c)}s=true}break;case 61:case 107:case 187:case 171:if(!r){u.zoomIn()}s=true;break;case 173:case 109:case 189:if(!r){u.zoomOut()}s=true;break;case 48:case 96:if(!r){setTimeout(function(){u.zoomReset()});s=false}break;case 38:if(r||u.page>1){u.page=1;s=true;a=true}break;case 40:if(r||u.page<u.pagesCount){u.page=u.pagesCount;s=true;a=true}break}}if(t===1||t===8){switch(i.keyCode){case 83:s=true;break;case 79:{e.dispatch("openfile",{source:window});s=true}break}}if(t===3||t===10){switch(i.keyCode){case 80:s=true;break;case 71:u.appConfig.toolbar.pageNumber.select();s=true;break}}if(s){if(a&&!r){n.focus()}i.preventDefault();return}const o=(0,w.getActiveOrFocusedElement)();const l=o===null||o===void 0?void 0:o.tagName.toUpperCase();if(l==="INPUT"||l==="TEXTAREA"||l==="SELECT"||o!==null&&o!==void 0&&o.isContentEditable){if(i.keyCode!==27){return}}if(t===0){let e=0,t=false;switch(i.keyCode){case 38:case 33:if(n.isVerticalScrollbarEnabled){t=true}e=-1;break;case 8:if(!r){t=true}e=-1;break;case 37:if(n.isHorizontalScrollbarEnabled){t=true}case 75:case 80:e=-1;break;case 27:if(u.secondaryToolbar.isOpen){u.secondaryToolbar.close();s=true}if(!u.supportsIntegratedFind&&u.findBar.opened){u.findBar.close();s=true}break;case 40:case 34:if(n.isVerticalScrollbarEnabled){t=true}e=1;break;case 13:case 32:if(!r){t=true}e=1;break;case 39:if(n.isHorizontalScrollbarEnabled){t=true}case 74:case 78:e=1;break;case 36:if(r||u.page>1){u.page=1;s=true;a=true}break;case 35:if(r||u.page<u.pagesCount){u.page=u.pagesCount;s=true;a=true}break;case 83:u.pdfCursorTools.switchTool(g.CursorTool.SELECT);break;case 72:u.pdfCursorTools.switchTool(g.CursorTool.HAND);break;case 82:u.rotatePages(90);break;case 115:u.pdfSidebar.toggle();break}if(e!==0&&(!t||n.currentScaleValue==="page-fit")){if(e>0){n.nextPage()}else{n.previousPage()}s=true}}if(t===4){switch(i.keyCode){case 13:case 32:if(!r&&n.currentScaleValue!=="page-fit"){break}n.previousPage();s=true;break;case 82:u.rotatePages(-90);break}}if(!s&&!r){if(i.keyCode>=33&&i.keyCode<=40||i.keyCode===32&&l!=="BUTTON"){a=true}}if(a&&!n.containsElement(o)){n.focus()}if(s){i.preventDefault()}}function Be(e){e.preventDefault();e.returnValue="";return false}function Oe(e){u.externalServices.updateEditorStates(e)}const Ve={instance:{supportsPrinting:false,createPrintService(){throw new Error("Not implemented: createPrintService")}}};t.PDFPrintServiceFactory=Ve},e=>{let t;if(typeof window!=="undefined"&&window["pdfjs-dist/build/pdf"]){t=window["pdfjs-dist/build/pdf"]}else{t=require("./js/libs/pdf.min.js")}e.exports=t},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.WaitOnType=t.EventBus=t.AutomationEventBus=void 0;t.waitOnEventOrTimeout=i;const d={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=d;function i(e){let{target:a,name:o,delay:l=0}=e;return new Promise(function(t,e){if(typeof a!=="object"||!(o&&typeof o==="string")||!(Number.isInteger(l)&&l>=0)){throw new Error("waitOnEventOrTimeout - invalid parameters.")}function i(e){if(a instanceof c){a._off(o,n)}else{a.removeEventListener(o,n)}if(s){clearTimeout(s)}t(e)}const n=i.bind(null,d.EVENT);if(a instanceof c){a._on(o,n)}else{a.addEventListener(o,n)}const r=i.bind(null,d.TIMEOUT);const s=setTimeout(r,l)})}class c{constructor(){this._listeners=Object.create(null)}on(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._on(e,t,{external:true,once:i===null||i===void 0?void 0:i.once})}off(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._off(e,t,{external:true,once:i===null||i===void 0?void 0:i.once})}dispatch(e,t){const i=this._listeners[e];if(!i||i.length===0){return}let n;for(const{listener:r,external:s,once:a}of i.slice(0)){if(a){this._off(e,r)}if(s){(n||(n=[])).push(r);continue}r(t)}if(n){for(const r of n){r(t)}n=null}}_on(e,t){var i;let n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const r=(i=this._listeners)[e]||(i[e]=[]);r.push({listener:t,external:(n===null||n===void 0?void 0:n.external)===true,once:(n===null||n===void 0?void 0:n.once)===true})}_off(e,i){let t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const n=this._listeners[e];if(!n){return}for(let e=0,t=n.length;e<t;e++){if(n[e].listener===i){n.splice(e,1);return}}}}t.EventBus=c;class n extends c{dispatch(e,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}t.AutomationEventBus=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFCursorTools=t.CursorTool=void 0;var r=i(8);var n=i(1);function s(e,t){a(e,t);t.add(e)}function a(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const l={SELECT:0,HAND:1,ZOOM:2};t.CursorTool=l;var d=new WeakSet;var c=new WeakSet;class h{constructor(e){let{container:t,eventBus:i,cursorToolOnLoad:n=l.SELECT}=e;s(this,c);s(this,d);this.container=t;this.eventBus=i;this.active=l.SELECT;this.activeBeforePresentationMode=null;this.handTool=new r.GrabToPan({element:this.container});o(this,c,f).call(this);Promise.resolve().then(()=>{this.switchTool(n)})}get activeTool(){return this.active}switchTool(e){if(this.activeBeforePresentationMode!==null){return}if(e===this.active){return}const t=()=>{switch(this.active){case l.SELECT:break;case l.HAND:this.handTool.deactivate();break;case l.ZOOM:}};switch(e){case l.SELECT:t();break;case l.HAND:t();this.handTool.activate();break;case l.ZOOM:default:console.error(`switchTool: "${e}" is an unsupported value.`);return}this.active=e;o(this,d,u).call(this)}}t.PDFCursorTools=h;function u(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}function f(){this.eventBus._on("switchcursortool",e=>{this.switchTool(e.tool)});this.eventBus._on("presentationmodechanged",e=>{switch(e.state){case n.PresentationModeState.FULLSCREEN:{const t=this.active;this.switchTool(l.SELECT);this.activeBeforePresentationMode=t;break}case n.PresentationModeState.NORMAL:{const t=this.activeBeforePresentationMode;this.activeBeforePresentationMode=null;this.switchTool(t);break}}})}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.GrabToPan=void 0;function i(e,t){n(e,t);t.add(e)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function r(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const s="grab-to-pan-grab";var a=new WeakSet;var o=new WeakSet;var l=new WeakSet;class d{constructor(e){i(this,l);i(this,o);i(this,a);this.element=e.element;this.document=e.element.ownerDocument;if(typeof e.ignoreTarget==="function"){this.ignoreTarget=e.ignoreTarget}this.onActiveChanged=e.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onMouseDown=r(this,a,c).bind(this);this._onMouseMove=r(this,o,h).bind(this);this._endPan=r(this,l,u).bind(this);const t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}activate(){if(!this.active){var e;this.active=true;this.element.addEventListener("mousedown",this._onMouseDown,true);this.element.classList.add(s);(e=this.onActiveChanged)===null||e===void 0?void 0:e.call(this,true)}}deactivate(){if(this.active){var e;this.active=false;this.element.removeEventListener("mousedown",this._onMouseDown,true);this._endPan();this.element.classList.remove(s);(e=this.onActiveChanged)===null||e===void 0?void 0:e.call(this,false)}}toggle(){if(this.active){this.deactivate()}else{this.activate()}}ignoreTarget(e){return e.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}}t.GrabToPan=d;function c(e){if(e.button!==0||this.ignoreTarget(e.target)){return}if(e.originalTarget){try{e.originalTarget.tagName}catch(e){return}}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=e.clientX;this.clientYStart=e.clientY;this.document.addEventListener("mousemove",this._onMouseMove,true);this.document.addEventListener("mouseup",this._endPan,true);this.element.addEventListener("scroll",this._endPan,true);e.preventDefault();e.stopPropagation();const t=document.activeElement;if(t&&!t.contains(e.target)){t.blur()}}function h(e){this.element.removeEventListener("scroll",this._endPan,true);if(!(e.buttons&1)){this._endPan();return}const t=e.clientX-this.clientXStart;const i=e.clientY-this.clientYStart;const n=this.scrollTopStart-i;const r=this.scrollLeftStart-t;if(this.element.scrollTo){this.element.scrollTo({top:n,left:r,behavior:"instant"})}else{this.element.scrollTop=n;this.element.scrollLeft=r}if(!this.overlay.parentNode){document.body.append(this.overlay)}}function u(){this.element.removeEventListener("scroll",this._endPan,true);this.document.removeEventListener("mousemove",this._onMouseMove,true);this.document.removeEventListener("mouseup",this._endPan,true);this.overlay.remove()}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.AnnotationEditorParams=void 0;var l=i(5);function n(e,t){r(e,t);t.add(e)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function s(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var a=new WeakSet;class o{constructor(e,t){n(this,a);this.eventBus=t;s(this,a,d).call(this,e)}}t.AnnotationEditorParams=o;function d(e){let{editorFreeTextFontSize:n,editorFreeTextColor:r,editorInkColor:s,editorInkThickness:a,editorInkOpacity:o}=e;n.addEventListener("input",e=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:l.AnnotationEditorParamsType.FREETEXT_SIZE,value:n.valueAsNumber})});r.addEventListener("input",e=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:l.AnnotationEditorParamsType.FREETEXT_COLOR,value:r.value})});s.addEventListener("input",e=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:l.AnnotationEditorParamsType.INK_COLOR,value:s.value})});a.addEventListener("input",e=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:l.AnnotationEditorParamsType.INK_THICKNESS,value:a.valueAsNumber})});o.addEventListener("input",e=>{this.eventBus.dispatch("switchannotationeditorparams",{source:this,type:l.AnnotationEditorParamsType.INK_OPACITY,value:o.valueAsNumber})});this.eventBus._on("annotationeditorparamschanged",e=>{for(const[t,i]of e.details){switch(t){case l.AnnotationEditorParamsType.FREETEXT_SIZE:n.value=i;break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:r.value=i;break;case l.AnnotationEditorParamsType.INK_COLOR:s.value=i;break;case l.AnnotationEditorParamsType.INK_THICKNESS:a.value=i;break;case l.AnnotationEditorParamsType.INK_OPACITY:o.value=i;break}}})}},(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t.OverlayManager=void 0;function i(e,t,i){n(e,t);t.set(e,i)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function s(e,t,i){var n=l(e,t,"set");a(e,n,i);return i}function a(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}function o(e,t){var i=l(e,t,"get");return d(e,i)}function l(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function d(e,t){if(t.get){return t.get.call(e)}return t.value}var c=new WeakMap;var h=new WeakMap;class u{constructor(){i(this,c,{writable:true,value:new WeakMap});i(this,h,{writable:true,value:null})}get active(){return o(this,h)}async register(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e!=="object"){throw new Error("Not enough parameters.")}else if(o(this,c).has(e)){throw new Error("The overlay is already registered.")}o(this,c).set(e,{canForceClose:t});if(!e.showModal){const i=r(11);i.registerDialog(e);if(!this._dialogPolyfillCSS){this._dialogPolyfillCSS=true;const n=document.createElement("style");n.textContent="dialog {\n  position: absolute;\n  left: 0; right: 0;\n  width: -moz-fit-content;\n  width: -webkit-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  margin: auto;\n  border: solid;\n  padding: 1em;\n  background: white;\n  color: black;\n  display: block;\n}\n\ndialog:not([open]) {\n  display: none;\n}\n\ndialog + .backdrop {\n  position: fixed;\n  top: 0; right: 0; bottom: 0; left: 0;\n  background: rgba(0,0,0,0.1);\n}\n\n._dialog_overlay {\n  position: fixed;\n  top: 0; right: 0; bottom: 0; left: 0;\n}\n\ndialog.fixed {\n  position: fixed;\n  top: 50%;\n  transform: translate(0, -50%);\n}";document.head.prepend(n)}}e.addEventListener("cancel",e=>{s(this,h,null)})}async unregister(e){if(!o(this,c).has(e)){throw new Error("The overlay does not exist.")}else if(o(this,h)===e){throw new Error("The overlay cannot be removed while it is active.")}o(this,c).delete(e)}async open(e){if(!o(this,c).has(e)){throw new Error("The overlay does not exist.")}else if(o(this,h)){if(o(this,h)===e){throw new Error("The overlay is already active.")}else if(o(this,c).get(e).canForceClose){await this.close()}else{throw new Error("Another overlay is currently active.")}}s(this,h,e);e.showModal()}async close(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o(this,h);if(!o(this,c).has(e)){throw new Error("The overlay does not exist.")}else if(!o(this,h)){throw new Error("The overlay is currently not active.")}else if(o(this,h)!==e){throw new Error("Another overlay is currently active.")}e.close();s(this,h,null)}}t.OverlayManager=u},i=>{(function(e,t){true?i.exports=t():0})(void 0,function(){"use strict";var n=window.CustomEvent;if(!n||typeof n==="object"){n=function e(t,i){i=i||{};var n=document.createEvent("CustomEvent");n.initCustomEvent(t,!!i.bubbles,!!i.cancelable,i.detail||null);return n};n.prototype=window.Event.prototype}function r(e,t){var i="on"+t.type.toLowerCase();if(typeof e[i]==="function"){e[i](t)}return e.dispatchEvent(t)}function e(e){while(e&&e!==document.body){var i=window.getComputedStyle(e);var t=function(e,t){return!(i[e]===undefined||i[e]===t)};if(i.opacity<1||t("zIndex","auto")||t("transform","none")||t("mixBlendMode","normal")||t("filter","none")||t("perspective","none")||i["isolation"]==="isolate"||i.position==="fixed"||i.webkitOverflowScrolling==="touch"){return true}e=e.parentElement}return false}function a(e){while(e){if(e.localName==="dialog"){return e}if(e.parentElement){e=e.parentElement}else if(e.parentNode){e=e.parentNode.host}else{e=null}}return null}function s(e){while(e&&e.shadowRoot&&e.shadowRoot.activeElement){e=e.shadowRoot.activeElement}if(e&&e.blur&&e!==document.body){e.blur()}}function d(e,t){for(var i=0;i<e.length;++i){if(e[i]===t){return true}}return false}function o(e){if(!e||!e.hasAttribute("method")){return false}return e.getAttribute("method").toLowerCase()==="dialog"}function l(e){var t=["button","input","keygen","select","textarea"];var i=t.map(function(e){return e+":not([disabled])"});i.push('[tabindex]:not([disabled]):not([tabindex=""])');var n=e.querySelector(i.join(", "));if(!n&&"attachShadow"in Element.prototype){var r=e.querySelectorAll("*");for(var s=0;s<r.length;s++){if(r[s].tagName&&r[s].shadowRoot){n=l(r[s].shadowRoot);if(n){break}}}}return n}function t(e){return e.isConnected||document.body.contains(e)}function c(e){if(e.submitter){return e.submitter}var t=e.target;if(!(t instanceof HTMLFormElement)){return null}var i=u.formSubmitter;if(!i){var n=e.target;var r="getRootNode"in n&&n.getRootNode()||document;i=r.activeElement}if(!i||i.form!==t){return null}return i}function h(e){if(e.defaultPrevented){return}var t=e.target;var i=u.imagemapUseValue;var n=c(e);if(i===null&&n){i=n.value}var r=a(t);if(!r){return}var s=n&&n.getAttribute("formmethod")||t.getAttribute("method");if(s!=="dialog"){return}e.preventDefault();if(i!=null){r.close(i)}else{r.close()}}function i(i){this.dialog_=i;this.replacedStyleTop_=false;this.openAsModal_=false;if(!i.hasAttribute("role")){i.setAttribute("role","dialog")}i.show=this.show.bind(this);i.showModal=this.showModal.bind(this);i.close=this.close.bind(this);i.addEventListener("submit",h,false);if(!("returnValue"in i)){i.returnValue=""}if("MutationObserver"in window){var e=new MutationObserver(this.maybeHideModal.bind(this));e.observe(i,{attributes:true,attributeFilter:["open"]})}else{var n=false;var r=function(){n?this.downgradeModal():this.maybeHideModal();n=false}.bind(this);var s;var t=function(e){if(e.target!==i){return}var t="DOMNodeRemoved";n|=e.type.substr(0,t.length)===t;window.clearTimeout(s);s=window.setTimeout(r,0)};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(e){i.addEventListener(e,t)})}Object.defineProperty(i,"open",{set:this.setOpen.bind(this),get:i.hasAttribute.bind(i,"open")});this.backdrop_=document.createElement("div");this.backdrop_.className="backdrop";this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this));this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this));this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}i.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){if(this.dialog_.hasAttribute("open")&&t(this.dialog_)){return}this.downgradeModal()},downgradeModal:function(){if(!this.openAsModal_){return}this.openAsModal_=false;this.dialog_.style.zIndex="";if(this.replacedStyleTop_){this.dialog_.style.top="";this.replacedStyleTop_=false}this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_);u.dm.removeDialog(this)},setOpen:function(e){if(e){this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open","")}else{this.dialog_.removeAttribute("open");this.maybeHideModal()}},backdropMouseEvent_:function(e){if(!this.dialog_.hasAttribute("tabindex")){var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild);t.tabIndex=-1;t.focus();this.dialog_.removeChild(t)}else{this.dialog_.focus()}var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);this.dialog_.dispatchEvent(i);e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!e&&this.dialog_.tabIndex>=0){e=this.dialog_}if(!e){e=l(this.dialog_)}s(document.activeElement);e&&e.focus()},updateZIndex:function(e,t){if(e<t){throw new Error("dialogZ should never be < backdropZ")}this.dialog_.style.zIndex=e;this.backdrop_.style.zIndex=t},show:function(){if(!this.dialog_.open){this.setOpen(true);this.focus_()}},showModal:function(){if(this.dialog_.hasAttribute("open")){throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.")}if(!t(this.dialog_)){throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.")}if(!u.dm.pushDialog(this)){throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.")}if(e(this.dialog_.parentElement)){console.warn("A dialog is being shown inside a stacking context. "+"This may cause it to be unusable. For more information, see this link: "+"https://github.com/GoogleChrome/dialog-polyfill/#stacking-context")}this.setOpen(true);this.openAsModal_=true;if(u.needsCentering(this.dialog_)){u.reposition(this.dialog_);this.replacedStyleTop_=true}else{this.replacedStyleTop_=false}this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling);this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open")){throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.")}this.setOpen(false);if(e!==undefined){this.dialog_.returnValue=e}var t=new n("close",{bubbles:false,cancelable:false});r(this.dialog_,t)}};var u={};u.reposition=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop;var i=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,i)+"px"};u.isInlinePositionSetByStylesheet=function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t];var n=null;try{n=i.cssRules}catch(e){}if(!n){continue}for(var r=0;r<n.length;++r){var s=n[r];var a=null;try{a=document.querySelectorAll(s.selectorText)}catch(e){}if(!a||!d(a,e)){continue}var o=s.style.getPropertyValue("top");var l=s.style.getPropertyValue("bottom");if(o&&o!=="auto"||l&&l!=="auto"){return true}}}return false};u.needsCentering=function(e){var t=window.getComputedStyle(e);if(t.position!=="absolute"){return false}if(e.style.top!=="auto"&&e.style.top!==""||e.style.bottom!=="auto"&&e.style.bottom!==""){return false}return!u.isInlinePositionSetByStylesheet(e)};u.forceRegisterDialog=function(e){if(window.HTMLDialogElement||e.showModal){console.warn("This browser already supports <dialog>, the polyfill "+"may not work correctly",e)}if(e.localName!=="dialog"){throw new Error("Failed to register dialog: The element is not a dialog.")}new i(e)};u.registerDialog=function(e){if(!e.showModal){u.forceRegisterDialog(e)}};u.DialogManager=function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div");this.overlay.className="_dialog_overlay";this.overlay.addEventListener("click",function(e){this.forwardTab_=undefined;e.stopPropagation();t([])}.bind(this));this.handleKey_=this.handleKey_.bind(this);this.handleFocus_=this.handleFocus_.bind(this);this.zIndexLow_=1e5;this.zIndexHigh_=1e5+150;this.forwardTab_=undefined;if("MutationObserver"in window){this.mo_=new MutationObserver(function(e){var n=[];e.forEach(function(e){for(var t=0,i;i=e.removedNodes[t];++t){if(!(i instanceof Element)){continue}else if(i.localName==="dialog"){n.push(i)}n=n.concat(i.querySelectorAll("dialog"))}});n.length&&t(n)})}};u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,true);document.addEventListener("keydown",this.handleKey_);this.mo_&&this.mo_.observe(document,{childList:true,subtree:true})};u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,true);document.removeEventListener("keydown",this.handleKey_);this.mo_&&this.mo_.disconnect()};u.DialogManager.prototype.updateStacking=function(){var e=this.zIndexHigh_;for(var t=0,i;i=this.pendingDialogStack[t];++t){i.updateZIndex(--e,--e);if(t===0){this.overlay.style.zIndex=--e}}var n=this.pendingDialogStack[0];if(n){var r=n.dialog.parentNode||document.body;r.appendChild(this.overlay)}else if(this.overlay.parentNode){this.overlay.parentNode.removeChild(this.overlay)}};u.DialogManager.prototype.containedByTopDialog_=function(e){while(e=a(e)){for(var t=0,i;i=this.pendingDialogStack[t];++t){if(i.dialog===e){return t===0}}e=e.parentElement}return false};u.DialogManager.prototype.handleFocus_=function(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(this.containedByTopDialog_(t)){return}if(document.activeElement===document.documentElement){return}e.preventDefault();e.stopPropagation();s(t);if(this.forwardTab_===undefined){return}var i=this.pendingDialogStack[0];var n=i.dialog;var r=n.compareDocumentPosition(t);if(r&Node.DOCUMENT_POSITION_PRECEDING){if(this.forwardTab_){i.focus_()}else if(t!==document.documentElement){document.documentElement.focus()}}return false};u.DialogManager.prototype.handleKey_=function(e){this.forwardTab_=undefined;if(e.keyCode===27){e.preventDefault();e.stopPropagation();var t=new n("cancel",{bubbles:false,cancelable:true});var i=this.pendingDialogStack[0];if(i&&r(i.dialog,t)){i.dialog.close()}}else if(e.keyCode===9){this.forwardTab_=!e.shiftKey}};u.DialogManager.prototype.checkDOM_=function(t){var e=this.pendingDialogStack.slice();e.forEach(function(e){if(t.indexOf(e.dialog)!==-1){e.downgradeModal()}else{e.maybeHideModal()}})};u.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;if(this.pendingDialogStack.length>=t){return false}if(this.pendingDialogStack.unshift(e)===1){this.blockDocument()}this.updateStacking();return true};u.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);if(t===-1){return}this.pendingDialogStack.splice(t,1);if(this.pendingDialogStack.length===0){this.unblockDocument()}this.updateStacking()};u.dm=new u.DialogManager;u.formSubmitter=null;u.imagemapUseValue=null;if(window.HTMLDialogElement===undefined){var f=document.createElement("form");f.setAttribute("method","dialog");if(f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var g=p.get;p.get=function(){if(o(this)){return"dialog"}return g.call(this)};var m=p.set;p.set=function(e){if(typeof e==="string"&&e.toLowerCase()==="dialog"){return this.setAttribute("method",e)}return m.call(this,e)};Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(e){u.formSubmitter=null;u.imagemapUseValue=null;if(e.defaultPrevented){return}var t=e.target;if("composedPath"in e){var i=e.composedPath();t=i.shift()||t}if(!t||!o(t.form)){return}var n=t.type==="submit"&&["button","input"].indexOf(t.localName)>-1;if(!n){if(!(t.localName==="input"&&t.type==="image")){return}u.imagemapUseValue=e.offsetX+","+e.offsetY}var r=a(t);if(!r){return}u.formSubmitter=t},false);document.addEventListener("submit",function(e){var t=e.target;var i=a(t);if(i){return}var n=c(e);var r=n&&n.getAttribute("formmethod")||t.getAttribute("method");if(r==="dialog"){e.preventDefault()}});var v=HTMLFormElement.prototype.submit;var w=function(){if(!o(this)){return v.call(this)}var e=a(this);e&&e.close()};HTMLFormElement.prototype.submit=w}return u})},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PasswordPrompt=void 0;var n=i(5);function r(e,t){a(e,t);t.add(e)}function s(e,t,i){a(e,t);t.set(e,i)}function a(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,i){var n=c(e,t,"set");l(e,n,i);return i}function l(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}function d(e,t){var i=c(e,t,"get");return h(e,i)}function c(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function h(e,t){if(t.get){return t.get.call(e)}return t.value}function u(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var f=new WeakMap;var p=new WeakMap;var g=new WeakMap;var m=new WeakSet;var v=new WeakSet;var w=new WeakSet;class _{constructor(e,t,i){let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;r(this,w);r(this,v);r(this,m);s(this,f,{writable:true,value:null});s(this,p,{writable:true,value:null});s(this,g,{writable:true,value:null});this.dialog=e.dialog;this.label=e.label;this.input=e.input;this.submitButton=e.submitButton;this.cancelButton=e.cancelButton;this.overlayManager=t;this.l10n=i;this._isViewerEmbedded=n;this.submitButton.addEventListener("click",u(this,m,b).bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",e=>{if(e.keyCode===13){u(this,m,b).call(this)}});this.overlayManager.register(this.dialog,true);this.dialog.addEventListener("close",u(this,v,y).bind(this))}async open(){if(d(this,f)){await d(this,f).promise}o(this,f,(0,n.createPromiseCapability)());try{await this.overlayManager.open(this.dialog)}catch(e){o(this,f,null);throw e}const e=d(this,g)===n.PasswordResponses.INCORRECT_PASSWORD;if(!this._isViewerEmbedded||e){this.input.focus()}this.label.textContent=await this.l10n.get(`password_${e?"invalid":"label"}`)}async close(){if(this.overlayManager.active===this.dialog){this.overlayManager.close(this.dialog)}}async setUpdateCallback(e,t){if(d(this,f)){await d(this,f).promise}o(this,p,e);o(this,g,t)}}t.PasswordPrompt=_;function b(){const e=this.input.value;if((e===null||e===void 0?void 0:e.length)>0){u(this,w,P).call(this,e)}}function y(){u(this,w,P).call(this,new Error("PasswordPrompt cancelled."));d(this,f).resolve()}function P(e){if(!d(this,p)){return}this.close();this.input.value="";d(this,p).call(this,e);o(this,p,null)}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFAttachmentViewer=void 0;var u=i(5);var n=i(14);var r=i(6);function s(e,t){a(e,t);t.add(e)}function a(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var l=new WeakSet;class d extends n.BaseTreeViewer{constructor(e){super(e);s(this,l);this.downloadManager=e.downloadManager;this.eventBus._on("fileattachmentannotation",o(this,l,c).bind(this))}reset(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;super.reset();this._attachments=null;if(!e){this._renderedCapability=(0,u.createPromiseCapability)()}this._pendingDispatchEvent=false}async _dispatchEvent(e){this._renderedCapability.resolve();if(e===0&&!this._pendingDispatchEvent){this._pendingDispatchEvent=true;await(0,r.waitOnEventOrTimeout)({target:this.eventBus,name:"annotationlayerrendered",delay:1e3});if(!this._pendingDispatchEvent){return}}this._pendingDispatchEvent=false;this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:e})}_bindLink(e,t){let{content:i,filename:n}=t;e.onclick=()=>{this.downloadManager.openOrDownloadData(e,i,n);return false}}render(e){let{attachments:t,keepRenderedCapability:i=false}=e;if(this._attachments){this.reset(i)}this._attachments=t||null;if(!t){this._dispatchEvent(0);return}const n=Object.keys(t).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});const r=document.createDocumentFragment();let s=0;for(const a of n){const o=t[a];const l=o.content,d=(0,u.getFilenameFromUrl)(o.filename);const c=document.createElement("div");c.className="treeItem";const h=document.createElement("a");this._bindLink(h,{content:l,filename:d});h.textContent=this._normalizeTextContent(d);c.append(h);r.append(c);s++}this._finishRendering(r,s)}}t.PDFAttachmentViewer=d;function c(e){let{filename:i,content:n}=e;const r=this._renderedCapability.promise;r.then(()=>{if(r!==this._renderedCapability.promise){return}const e=this._attachments||Object.create(null);for(const t in e){if(i===t){return}}e[i]={filename:i,content:n};this.render({attachments:e,keepRenderedCapability:true})})}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.BaseTreeViewer=void 0;var n=i(1);const r=-100;const s="selected";class a{constructor(e){if(this.constructor===a){throw new Error("Cannot initialize BaseTreeViewer.")}this.container=e.container;this.eventBus=e.eventBus;this.reset()}reset(){this._pdfDocument=null;this._lastToggleIsShow=true;this._currentTreeItem=null;this.container.textContent="";this.container.classList.remove("treeWithDeepNesting")}_dispatchEvent(e){throw new Error("Not implemented: _dispatchEvent")}_bindLink(e,t){throw new Error("Not implemented: _bindLink")}_normalizeTextContent(e){return(0,n.removeNullCharacters)(e,true)||"–"}_addToggleButton(i){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const n=document.createElement("div");n.className="treeItemToggler";if(e){n.classList.add("treeItemsHidden")}n.onclick=e=>{e.stopPropagation();n.classList.toggle("treeItemsHidden");if(e.shiftKey){const t=!n.classList.contains("treeItemsHidden");this._toggleTreeItem(i,t)}};i.prepend(n)}_toggleTreeItem(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._lastToggleIsShow=t;for(const i of e.querySelectorAll(".treeItemToggler")){i.classList.toggle("treeItemsHidden",!t)}}_toggleAllTreeItems(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}_finishRendering(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(i){this.container.classList.add("treeWithDeepNesting");this._lastToggleIsShow=!e.querySelector(".treeItemsHidden")}this.container.append(e);this._dispatchEvent(t)}render(e){throw new Error("Not implemented: render")}_updateCurrentTreeItem(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(this._currentTreeItem){this._currentTreeItem.classList.remove(s);this._currentTreeItem=null}if(e){e.classList.add(s);this._currentTreeItem=e}}_scrollToCurrentTreeItem(e){if(!e){return}let t=e.parentNode;while(t&&t!==this.container){if(t.classList.contains("treeItem")){const i=t.firstElementChild;i===null||i===void 0?void 0:i.classList.remove("treeItemsHidden")}t=t.parentNode}this._updateCurrentTreeItem(e);this.container.scrollTo(e.offsetLeft,e.offsetTop+r)}}t.BaseTreeViewer=a},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFDocumentProperties=void 0;var n=i(5);var f=i(1);function l(e,t){r(e,t);t.add(e)}function d(e,t,i){r(e,t);t.set(e,i)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function u(e,t,i){var n=a(e,t,"set");s(e,n,i);return i}function s(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}function p(e,t){var i=a(e,t,"get");return o(e,i)}function a(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function o(e,t){if(t.get){return t.get.call(e)}return t.value}function g(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const c="-";const h=["en-us","en-lr","my"];const m={"8.5x11":"Letter","8.5x14":"Legal"};const v={"297x420":"A3","210x297":"A4"};function w(e,t,i){const n=t?e.width:e.height;const r=t?e.height:e.width;return i[`${n}x${r}`]}var _=new WeakMap;var b=new WeakSet;var y=new WeakSet;var P=new WeakSet;var E=new WeakSet;var S=new WeakSet;var L=new WeakSet;class C{constructor(e,t,i,n,r){let{dialog:s,fields:a,closeButton:o}=e;l(this,L);l(this,S);l(this,E);l(this,P);l(this,y);l(this,b);d(this,_,{writable:true,value:null});this.dialog=s;this.fields=a;this.overlayManager=t;this.l10n=n;this._fileNameLookup=r;g(this,b,T).call(this);o.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.dialog);i._on("pagechanging",e=>{this._currentPageNumber=e.pageNumber});i._on("rotationchanging",e=>{this._pagesRotation=e.pagesRotation});this._isNonMetricLocale=true;n.getLanguage().then(e=>{this._isNonMetricLocale=h.includes(e)})}async open(){await Promise.all([this.overlayManager.open(this.dialog),this._dataAvailableCapability.promise]);const e=this._currentPageNumber;const t=this._pagesRotation;if(p(this,_)&&e===p(this,_)._currentPageNumber&&t===p(this,_)._pagesRotation){g(this,y,k).call(this);return}const{info:i,contentLength:n}=await this.pdfDocument.getMetadata();const[r,s,a,o,l,d]=await Promise.all([this._fileNameLookup(),g(this,P,M).call(this,n),g(this,S,A).call(this,i.CreationDate),g(this,S,A).call(this,i.ModDate),this.pdfDocument.getPage(e).then(e=>{return g(this,E,I).call(this,(0,f.getPageSizeInches)(e),t)}),g(this,L,D).call(this,i.IsLinearized)]);u(this,_,Object.freeze({fileName:r,fileSize:s,title:i.Title,author:i.Author,subject:i.Subject,keywords:i.Keywords,creationDate:a,modificationDate:o,creator:i.Creator,producer:i.Producer,version:i.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:l,linearized:d,_currentPageNumber:e,_pagesRotation:t}));g(this,y,k).call(this);const{length:c}=await this.pdfDocument.getDownloadInfo();if(n===c){return}const h=Object.assign(Object.create(null),p(this,_));h.fileSize=await g(this,P,M).call(this,c);u(this,_,Object.freeze(h));g(this,y,k).call(this)}async close(){this.overlayManager.close(this.dialog)}setDocument(e){if(this.pdfDocument){g(this,b,T).call(this);g(this,y,k).call(this,true)}if(!e){return}this.pdfDocument=e;this._dataAvailableCapability.resolve()}}t.PDFDocumentProperties=C;function T(){this.pdfDocument=null;u(this,_,null);this._dataAvailableCapability=(0,n.createPromiseCapability)();this._currentPageNumber=1;this._pagesRotation=0}function k(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(e||!p(this,_)){for(const t in this.fields){this.fields[t].textContent=c}return}if(this.overlayManager.active!==this.dialog){return}for(const t in this.fields){const i=p(this,_)[t];this.fields[t].textContent=i||i===0?i:c}}async function M(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;const t=e/1024,i=t/1024;if(!t){return undefined}return this.l10n.get(`document_properties_${i>=1?"mb":"kb"}`,{size_mb:i>=1&&(+i.toPrecision(3)).toLocaleString(),size_kb:i<1&&(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()})}async function I(e,t){if(!e){return undefined}if(t%180!==0){e={width:e.height,height:e.width}}const i=(0,f.isPortraitOrientation)(e);let n={width:Math.round(e.width*100)/100,height:Math.round(e.height*100)/100};let r={width:Math.round(e.width*25.4*10)/10,height:Math.round(e.height*25.4*10)/10};let s=w(n,i,m)||w(r,i,v);if(!s&&!(Number.isInteger(r.width)&&Number.isInteger(r.height))){const h={width:e.width*25.4,height:e.height*25.4};const u={width:Math.round(r.width),height:Math.round(r.height)};if(Math.abs(h.width-u.width)<.1&&Math.abs(h.height-u.height)<.1){s=w(u,i,v);if(s){n={width:Math.round(u.width/25.4*100)/100,height:Math.round(u.height/25.4*100)/100};r=u}}}const[{width:a,height:o},l,d,c]=await Promise.all([this._isNonMetricLocale?n:r,this.l10n.get(`document_properties_page_size_unit_${this._isNonMetricLocale?"inches":"millimeters"}`),s&&this.l10n.get(`document_properties_page_size_name_${s.toLowerCase()}`),this.l10n.get(`document_properties_page_size_orientation_${i?"portrait":"landscape"}`)]);return this.l10n.get(`document_properties_page_size_dimension_${d?"name_":""}string`,{width:a.toLocaleString(),height:o.toLocaleString(),unit:l,name:d,orientation:c})}async function A(e){const t=n.PDFDateString.toDateObject(e);if(!t){return undefined}return this.l10n.get("document_properties_date_string",{date:t.toLocaleDateString(),time:t.toLocaleTimeString()})}function D(e){return this.l10n.get(`document_properties_linearized_${e?"yes":"no"}`)}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFFindBar=void 0;var s=i(17);function n(e,t){r(e,t);t.add(e)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function a(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const o=1e3;var l=new WeakSet;class d{constructor(e,t,i){n(this,l);this.opened=false;this.bar=e.bar;this.toggleButton=e.toggleButton;this.findField=e.findField;this.highlightAll=e.highlightAllCheckbox;this.caseSensitive=e.caseSensitiveCheckbox;this.matchDiacritics=e.matchDiacriticsCheckbox;this.entireWord=e.entireWordCheckbox;this.findMsg=e.findMsg;this.findResultsCount=e.findResultsCount;this.findPreviousButton=e.findPreviousButton;this.findNextButton=e.findNextButton;this.eventBus=t;this.l10n=i;this.toggleButton.addEventListener("click",()=>{this.toggle()});this.findField.addEventListener("input",()=>{this.dispatchEvent("")});this.bar.addEventListener("keydown",e=>{switch(e.keyCode){case 13:if(e.target===this.findField){this.dispatchEvent("again",e.shiftKey)}break;case 27:this.close();break}});this.findPreviousButton.addEventListener("click",()=>{this.dispatchEvent("again",true)});this.findNextButton.addEventListener("click",()=>{this.dispatchEvent("again",false)});this.highlightAll.addEventListener("click",()=>{this.dispatchEvent("highlightallchange")});this.caseSensitive.addEventListener("click",()=>{this.dispatchEvent("casesensitivitychange")});this.entireWord.addEventListener("click",()=>{this.dispatchEvent("entirewordchange")});this.matchDiacritics.addEventListener("click",()=>{this.dispatchEvent("diacriticmatchingchange")});this.eventBus._on("resize",a(this,l,c).bind(this))}reset(){this.updateUIState()}dispatchEvent(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.eventBus.dispatch("find",{source:this,type:e,query:this.findField.value,phraseSearch:true,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:t,matchDiacritics:this.matchDiacritics.checked})}updateUIState(e,t,i){let n=Promise.resolve("");let r="";switch(e){case s.FindState.FOUND:break;case s.FindState.PENDING:r="pending";break;case s.FindState.NOT_FOUND:n=this.l10n.get("find_not_found");r="notFound";break;case s.FindState.WRAPPED:n=this.l10n.get(`find_reached_${t?"top":"bottom"}`);break}this.findField.setAttribute("data-status",r);this.findField.setAttribute("aria-invalid",e===s.FindState.NOT_FOUND);n.then(e=>{this.findMsg.textContent=e;a(this,l,c).call(this)});this.updateResultsCount(i)}updateResultsCount(){let{current:t=0,total:i=0}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const n=o;let r=Promise.resolve("");if(i>0){if(i>n){let e="find_match_count_limit";r=this.l10n.get(e,{limit:n})}else{let e="find_match_count";r=this.l10n.get(e,{current:t,total:i})}}r.then(e=>{this.findResultsCount.textContent=e;a(this,l,c).call(this)})}open(){if(!this.opened){this.opened=true;this.toggleButton.classList.add("toggled");this.toggleButton.setAttribute("aria-expanded","true");this.bar.classList.remove("hidden")}this.findField.select();this.findField.focus();a(this,l,c).call(this)}close(){if(!this.opened){return}this.opened=false;this.toggleButton.classList.remove("toggled");this.toggleButton.setAttribute("aria-expanded","false");this.bar.classList.add("hidden");this.eventBus.dispatch("findbarclose",{source:this})}toggle(){if(this.opened){this.close()}else{this.open()}}}t.PDFFindBar=d;function c(){if(!this.opened){return}this.bar.classList.remove("wrapContainers");const e=this.bar.clientHeight;const t=this.bar.firstElementChild.clientHeight;if(e>t){this.bar.classList.add("wrapContainers")}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFFindController=t.FindState=void 0;var o=i(1);var s=i(5);var l=i(18);function n(e,t,i){a(e,t);t.set(e,i)}function r(e,t){a(e,t);t.add(e)}function a(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function h(e,t){var i=d(e,t,"get");return c(e,i)}function d(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function c(e,t){if(t.get){return t.get.call(e)}return t.value}function u(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const f={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=f;const p=250;const g=-50;const m=-400;const E={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"};const v=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);const w=[...v.values()].map(e=>String.fromCharCode(e)).join("");const S=/\p{M}+/gu;const _=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu;const b=/([^\p{M}])\p{M}*$/u;const y=/^\p{M}*([^\p{M}])/u;const L=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g;const C=new Map;const T="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let k=null;let M=null;function P(e){const p=[];let i;while((i=L.exec(e))!==null){let{index:t}=i;for(const r of i[0]){let e=C.get(r);if(!e){e=r.normalize("NFD").length;C.set(r,e)}p.push([e,t++])}}let t;if(p.length===0&&k){t=k}else if(p.length>0&&M){t=M}else{const s=Object.keys(E).join("");const a=`([${s}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;if(p.length===0){t=k=new RegExp(a+"|(\\u0000)","gum")}else{t=M=new RegExp(a+`|(${T})`,"gum")}}const g=[];while((i=S.exec(e))!==null){g.push([i[0].length,i.index])}let n=e.normalize("NFD");const m=[[0,0]];let v=0;let w=0;let _=0;let b=0;let y=0;let P=false;n=n.replace(t,(e,t,i,n,r,s,a)=>{var o;a-=b;if(t){const d=E[e];const c=d.length;for(let e=1;e<c;e++){m.push([a-_+e,_-e])}_-=c-1;return d}if(i){var l;const h=i.endsWith("\n");const u=h?i.length-2:i.length;P=true;let t=u;if(a+y===((l=g[v])===null||l===void 0?void 0:l[1])){t-=g[v][0];++v}for(let e=1;e<=t;e++){m.push([a-1-_+e,_-e])}_-=t;b+=t;if(h){a+=u-1;m.push([a-_+1,1+_]);_+=1;b+=1;y+=1;return i.slice(0,u)}return i}if(n){m.push([a-_+1,1+_]);_+=1;b+=1;y+=1;return n.charAt(0)}if(r){m.push([a-_+1,_-1]);_-=1;b+=1;y+=1;return" "}if(a+y===((o=p[w])===null||o===void 0?void 0:o[1])){const f=p[w][0]-1;++w;for(let e=1;e<=f;e++){m.push([a-(_-e),_-e])}_-=f;b+=f}return s});m.push([n.length,_]);return[n,m,P]}function I(e,t,i){if(!e){return[t,i]}const n=t;const r=t+i;let s=(0,o.binarySearchFirstItem)(e,e=>e[0]>=n);if(e[s][0]>n){--s}let a=(0,o.binarySearchFirstItem)(e,e=>e[0]>=r,s);if(e[a][0]>r){--a}return[n+e[s][1],i+e[a][1]-e[s][1]]}var A=new WeakSet;var D=new WeakSet;var x=new WeakMap;var N=new WeakSet;var B=new WeakSet;var O=new WeakSet;var V=new WeakSet;var R=new WeakSet;var F=new WeakSet;var W=new WeakSet;var U=new WeakSet;var H=new WeakSet;var z=new WeakSet;var j=new WeakSet;var $=new WeakSet;var K=new WeakSet;var G=new WeakSet;var X=new WeakSet;var Z=new WeakSet;var Q=new WeakSet;class q{constructor(e){let{linkService:t,eventBus:i}=e;r(this,Q);r(this,Z);r(this,X);r(this,G);r(this,K);r(this,$);r(this,j);r(this,z);r(this,H);r(this,U);r(this,W);r(this,F);r(this,R);r(this,V);r(this,O);r(this,B);r(this,N);n(this,x,{get:ee,set:void 0});r(this,D);r(this,A);this._linkService=t;this._eventBus=i;u(this,D,J).call(this);i._on("find",u(this,A,Y).bind(this));i._on("findbarclose",u(this,G,pe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(e){if(this._pdfDocument){u(this,D,J).call(this)}if(!e){return}this._pdfDocument=e;this._firstPageCapability.resolve()}scrollMatchIntoView(e){let{element:t=null,selectedLeft:i=0,pageIndex:n=-1,matchIndex:r=-1}=e;if(!this._scrollMatches||!t){return}else if(r===-1||r!==this._selected.matchIdx){return}else if(n===-1||n!==this._selected.pageIdx){return}this._scrollMatches=false;const s={top:g,left:i+m};(0,o.scrollIntoView)(t,s,true)}}t.PDFFindController=q;function Y(e){if(!e){return}const i=this._pdfDocument;const{type:n}=e;if(this._state===null||u(this,N,te).call(this,e)){this._dirtyMatch=true}this._state=e;if(n!=="highlightallchange"){u(this,Q,ve).call(this,f.PENDING)}this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||i&&this._pdfDocument!==i){return}u(this,F,ae).call(this);const e=!this._highlightMatches;const t=!!this._findTimeout;if(this._findTimeout){clearTimeout(this._findTimeout);this._findTimeout=null}if(!n){this._findTimeout=setTimeout(()=>{u(this,H,de).call(this);this._findTimeout=null},p)}else if(this._dirtyMatch){u(this,H,de).call(this)}else if(n==="again"){u(this,H,de).call(this);if(e&&this._state.highlightAll){u(this,U,le).call(this)}}else if(n==="highlightallchange"){if(t){u(this,H,de).call(this)}else{this._highlightMatches=true}u(this,U,le).call(this)}else{u(this,H,de).call(this)}})}function J(){this._highlightMatches=false;this._scrollMatches=false;this._pdfDocument=null;this._pageMatches=[];this._pageMatchesLength=[];this._state=null;this._selected={pageIdx:-1,matchIdx:-1};this._offset={pageIdx:null,matchIdx:null,wrapped:false};this._extractTextPromises=[];this._pageContents=[];this._pageDiffs=[];this._hasDiacritics=[];this._matchesCountTotal=0;this._pagesToSearch=null;this._pendingFindMatches=new Set;this._resumePageIdx=null;this._dirtyMatch=false;clearTimeout(this._findTimeout);this._findTimeout=null;this._firstPageCapability=(0,s.createPromiseCapability)()}function ee(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;[this._normalizedQuery]=P(this._state.query)}return this._normalizedQuery}function te(e){if(e.query!==this._state.query){return true}switch(e.type){case"again":const t=this._selected.pageIdx+1;const i=this._linkService;if(t>=1&&t<=i.pagesCount&&t!==i.page&&!i.isPageVisible(t)){return true}return false;case"highlightallchange":return false}return true}function ie(e,t,i){let n=e.slice(0,t).match(b);if(n){const r=e.charCodeAt(t);const s=n[1].charCodeAt(0);if((0,l.getCharacterType)(r)===(0,l.getCharacterType)(s)){return false}}n=e.slice(t+i).match(y);if(n){const a=e.charCodeAt(t+i-1);const s=n[1].charCodeAt(0);if((0,l.getCharacterType)(a)===(0,l.getCharacterType)(s)){return false}}return true}function ne(e,t,i,n){const r=[],s=[];const a=this._pageDiffs[i];let o;while((o=e.exec(n))!==null){if(t&&!u(this,B,ie).call(this,n,o.index,o[0].length)){continue}const[l,d]=I(a,o.index,o[0].length);if(d){r.push(l);s.push(d)}}this._pageMatches[i]=r;this._pageMatchesLength[i]=s}function re(e,a){const{matchDiacritics:o}=this._state;let l=false;e=e.replace(_,(e,t,i,n,r,s)=>{if(t){return`[ ]*\\${t}[ ]*`}if(i){return`[ ]*${i}[ ]*`}if(n){return"[ ]+"}if(o){return r||s}if(r){return v.has(r.charCodeAt(0))?r:""}if(a){l=true;return`${s}\\p{M}*`}return s});const t="[ ]*";if(e.endsWith(t)){e=e.slice(0,e.length-t.length)}if(o){if(a){l=true;e=`${e}(?=[${w}]|[^\\p{M}]|$)`}}return[l,e]}function se(e){let t=h(this,x);if(t.length===0){return}const{caseSensitive:i,entireWord:n,phraseSearch:r}=this._state;const s=this._pageContents[e];const a=this._hasDiacritics[e];let o=false;if(r){[o,t]=u(this,V,re).call(this,t,a)}else{const c=t.match(/\S+/g);if(c){t=c.sort().reverse().map(e=>{const[t,i]=u(this,V,re).call(this,e,a);o||(o=t);return`(${i})`}).join("|")}}const l=`g${o?"u":""}${i?"":"i"}`;t=new RegExp(t,l);u(this,O,ne).call(this,t,n,e,s);if(this._state.highlightAll){u(this,W,oe).call(this,e)}if(this._resumePageIdx===e){this._resumePageIdx=null;u(this,j,he).call(this)}const d=this._pageMatches[e].length;if(d>0){this._matchesCountTotal+=d;u(this,Z,me).call(this)}}function ae(){if(this._extractTextPromises.length>0){return}let t=Promise.resolve();for(let n=0,e=this._linkService.pagesCount;n<e;n++){const r=(0,s.createPromiseCapability)();this._extractTextPromises[n]=r.promise;t=t.then(()=>{return this._pdfDocument.getPage(n+1).then(e=>{return e.getTextContent()}).then(e=>{const t=[];for(const i of e.items){t.push(i.str);if(i.hasEOL){t.push("\n")}}[this._pageContents[n],this._pageDiffs[n],this._hasDiacritics[n]]=P(t.join(""));r.resolve()},e=>{console.error(`Unable to get text content for page ${n+1}`,e);this._pageContents[n]="";this._pageDiffs[n]=null;this._hasDiacritics[n]=false;r.resolve()})})}}function oe(e){if(this._scrollMatches&&this._selected.pageIdx===e){this._linkService.page=e+1}this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}function le(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function de(){const e=this._state.findPrevious;const t=this._linkService.page-1;const i=this._linkService.pagesCount;this._highlightMatches=true;if(this._dirtyMatch){this._dirtyMatch=false;this._selected.pageIdx=this._selected.matchIdx=-1;this._offset.pageIdx=t;this._offset.matchIdx=null;this._offset.wrapped=false;this._resumePageIdx=null;this._pageMatches.length=0;this._pageMatchesLength.length=0;this._matchesCountTotal=0;u(this,U,le).call(this);for(let e=0;e<i;e++){if(this._pendingFindMatches.has(e)){continue}this._pendingFindMatches.add(e);this._extractTextPromises[e].then(()=>{this._pendingFindMatches.delete(e);u(this,R,se).call(this,e)})}}if(h(this,x)===""){u(this,Q,ve).call(this,f.FOUND);return}if(this._resumePageIdx){return}const n=this._offset;this._pagesToSearch=i;if(n.matchIdx!==null){const r=this._pageMatches[n.pageIdx].length;if(!e&&n.matchIdx+1<r||e&&n.matchIdx>0){n.matchIdx=e?n.matchIdx-1:n.matchIdx+1;u(this,K,fe).call(this,true);return}u(this,$,ue).call(this,e)}u(this,j,he).call(this)}function ce(e){const t=this._offset;const i=e.length;const n=this._state.findPrevious;if(i){t.matchIdx=n?i-1:0;u(this,K,fe).call(this,true);return true}u(this,$,ue).call(this,n);if(t.wrapped){t.matchIdx=null;if(this._pagesToSearch<0){u(this,K,fe).call(this,false);return true}}return false}function he(){if(this._resumePageIdx!==null){console.error("There can only be one pending page.")}let e=null;do{const t=this._offset.pageIdx;e=this._pageMatches[t];if(!e){this._resumePageIdx=t;break}}while(!u(this,z,ce).call(this,e))}function ue(e){const t=this._offset;const i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1;t.matchIdx=null;this._pagesToSearch--;if(t.pageIdx>=i||t.pageIdx<0){t.pageIdx=e?i-1:0;t.wrapped=true}}function fe(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;let t=f.NOT_FOUND;const i=this._offset.wrapped;this._offset.wrapped=false;if(e){const n=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx;this._selected.matchIdx=this._offset.matchIdx;t=i?f.WRAPPED:f.FOUND;if(n!==-1&&n!==this._selected.pageIdx){u(this,W,oe).call(this,n)}}u(this,Q,ve).call(this,t,this._state.findPrevious);if(this._selected.pageIdx!==-1){this._scrollMatches=true;u(this,W,oe).call(this,this._selected.pageIdx)}}function pe(e){const t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t){return}if(this._findTimeout){clearTimeout(this._findTimeout);this._findTimeout=null}if(this._resumePageIdx){this._resumePageIdx=null;this._dirtyMatch=true}u(this,Q,ve).call(this,f.FOUND);this._highlightMatches=false;u(this,U,le).call(this)})}function ge(){const{pageIdx:t,matchIdx:e}=this._selected;let i=0,n=this._matchesCountTotal;if(e!==-1){for(let e=0;e<t;e++){var r;i+=((r=this._pageMatches[e])===null||r===void 0?void 0:r.length)||0}i+=e+1}if(i<1||i>n){i=n=0}return{current:i,total:n}}function me(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:u(this,X,ge).call(this)})}function ve(e){var t,i;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:n,matchesCount:u(this,X,ge).call(this),rawQuery:(t=(i=this._state)===null||i===void 0?void 0:i.query)!==null&&t!==void 0?t:null})}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.CharacterType=void 0;t.getCharacterType=f;const i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=i;function n(e){return e<11904}function r(e){return(e&65408)===0}function s(e){return e>=97&&e<=122||e>=65&&e<=90}function a(e){return e>=48&&e<=57}function o(e){return e===32||e===9||e===13||e===10}function l(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}function d(e){return e>=12448&&e<=12543}function c(e){return e>=12352&&e<=12447}function h(e){return e>=65376&&e<=65439}function u(e){return(e&65408)===3584}function f(e){if(n(e)){if(r(e)){if(o(e)){return i.SPACE}else if(s(e)||a(e)||e===95){return i.ALPHA_LETTER}return i.PUNCT}else if(u(e)){return i.THAI_LETTER}else if(e===160){return i.SPACE}return i.ALPHA_LETTER}if(l(e)){return i.HAN_LETTER}else if(d(e)){return i.KATAKANA_LETTER}else if(c(e)){return i.HIRAGANA_LETTER}else if(h(e)){return i.HALFWIDTH_KATAKANA_LETTER}return i.ALPHA_LETTER}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFHistory=void 0;t.isDestArraysEqual=o;t.isDestHashesEqual=a;var l=i(1);var d=i(6);const c=1e3;const n=50;const r=1e3;function h(){return document.location.hash}class s{constructor(e){let{linkService:t,eventBus:i}=e;this.linkService=t;this.eventBus=i;this._initialized=false;this._fingerprint="";this.reset();this._boundEvents=null;this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=false;this.eventBus._on("pagesloaded",e=>{this._isPagesLoaded=!!e.pagesCount},{once:true})})}initialize(e){let{fingerprint:t,resetHistory:i=false,updateUrl:n=false}=e;if(!t||typeof t!=="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}if(this._initialized){this.reset()}const r=this._fingerprint!==""&&this._fingerprint!==t;this._fingerprint=t;this._updateUrl=n===true;this._initialized=true;this._bindEvents();const s=window.history.state;this._popStateInProgress=false;this._blockHashChange=0;this._currentHash=h();this._numPositionUpdates=0;this._uid=this._maxUid=0;this._destination=null;this._position=null;if(!this._isValidState(s,true)||i){const{hash:o,page:l,rotation:d}=this._parseCurrentHash(true);if(!o||r||i){this._pushOrReplaceState(null,true);return}this._pushOrReplaceState({hash:o,page:l,rotation:d},true);return}const a=s.destination;this._updateInternalState(a,s.uid,true);if(a.rotation!==undefined){this._initialRotation=a.rotation}if(a.dest){this._initialBookmark=JSON.stringify(a.dest);this._destination.page=null}else if(a.hash){this._initialBookmark=a.hash}else if(a.page){this._initialBookmark=`page=${a.page}`}}reset(){if(this._initialized){this._pageHide();this._initialized=false;this._unbindEvents()}if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._initialBookmark=null;this._initialRotation=null}push(e){let{namedDest:t=null,explicitDest:i,pageNumber:n}=e;if(!this._initialized){return}if(t&&typeof t!=="string"){console.error("PDFHistory.push: "+`"${t}" is not a valid namedDest parameter.`);return}else if(!Array.isArray(i)){console.error("PDFHistory.push: "+`"${i}" is not a valid explicitDest parameter.`);return}else if(!this._isValidPage(n)){if(n!==null||this._destination){console.error("PDFHistory.push: "+`"${n}" is not a valid pageNumber parameter.`);return}}const r=t||JSON.stringify(i);if(!r){return}let s=false;if(this._destination&&(a(this._destination.hash,r)||o(this._destination.dest,i))){if(this._destination.page){return}s=true}if(this._popStateInProgress&&!s){return}this._pushOrReplaceState({dest:i,hash:r,page:n,rotation:this.linkService.rotation},s);if(!this._popStateInProgress){this._popStateInProgress=true;Promise.resolve().then(()=>{this._popStateInProgress=false})}}pushPage(e){var t;if(!this._initialized){return}if(!this._isValidPage(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}if(((t=this._destination)===null||t===void 0?void 0:t.page)===e){return}if(this._popStateInProgress){return}this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation});if(!this._popStateInProgress){this._popStateInProgress=true;Promise.resolve().then(()=>{this._popStateInProgress=false})}}pushCurrentPosition(){if(!this._initialized||this._popStateInProgress){return}this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress){return}const e=window.history.state;if(this._isValidState(e)&&e.uid>0){window.history.back()}}forward(){if(!this._initialized||this._popStateInProgress){return}const e=window.history.state;if(this._isValidState(e)&&e.uid<this._maxUid){window.history.forward()}}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=t||!this._destination;const n={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};this._updateInternalState(e,n.uid);let r;if(this._updateUrl&&e!==null&&e!==void 0&&e.hash){const s=document.location.href.split("#")[0];if(!s.startsWith("file://")){r=`${s}#${e.hash}`}}if(i){window.history.replaceState(n,"",r)}else{window.history.pushState(n,"",r)}}_tryPushCurrentPosition(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this._position){return}let t=this._position;if(e){t=Object.assign(Object.create(null),this._position);t.temporary=true}if(!this._destination){this._pushOrReplaceState(t);return}if(this._destination.temporary){this._pushOrReplaceState(t,true);return}if(this._destination.hash===t.hash){return}if(!this._destination.page&&(n<=0||this._numPositionUpdates<=n)){return}let i=false;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==undefined||!this._destination.first){return}i=true}this._pushOrReplaceState(t,i)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){return false}if(e.fingerprint!==this._fingerprint){if(t){if(typeof e.fingerprint!=="string"||e.fingerprint.length!==this._fingerprint.length){return false}const[i]=performance.getEntriesByType("navigation");if((i===null||i===void 0?void 0:i.type)!=="reload"){return false}}else{return false}}if(!Number.isInteger(e.uid)||e.uid<0){return false}if(e.destination===null||typeof e.destination!=="object"){return false}return true}_updateInternalState(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}if(i&&e!==null&&e!==void 0&&e.temporary){delete e.temporary}this._destination=e;this._uid=t;this._maxUid=Math.max(this._maxUid,t);this._numPositionUpdates=0}_parseCurrentHash(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const t=unescape(h()).substring(1);const i=(0,l.parseQueryString)(t);const n=i.get("nameddest")||"";let r=i.get("page")|0;if(!this._isValidPage(r)||e&&n.length>0){r=null}return{hash:t,page:r,rotation:this.linkService.rotation}}_updateViewarea(e){let{location:t}=e;if(this._updateViewareaTimeout){clearTimeout(this._updateViewareaTimeout);this._updateViewareaTimeout=null}this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation};if(this._popStateInProgress){return}if(n>0&&this._isPagesLoaded&&this._destination&&!this._destination.page){this._numPositionUpdates++}if(r>0){this._updateViewareaTimeout=setTimeout(()=>{if(!this._popStateInProgress){this._tryPushCurrentPosition(true)}this._updateViewareaTimeout=null},r)}}_popState(e){let{state:t}=e;const i=h(),n=this._currentHash!==i;this._currentHash=i;if(!t){this._uid++;const{hash:s,page:a,rotation:o}=this._parseCurrentHash();this._pushOrReplaceState({hash:s,page:a,rotation:o},true);return}if(!this._isValidState(t)){return}this._popStateInProgress=true;if(n){this._blockHashChange++;(0,d.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:c}).then(()=>{this._blockHashChange--})}const r=t.destination;this._updateInternalState(r,t.uid,true);if((0,l.isValidRotation)(r.rotation)){this.linkService.rotation=r.rotation}if(r.dest){this.linkService.goToDestination(r.dest)}else if(r.hash){this.linkService.setHash(r.hash)}else if(r.page){this.linkService.page=r.page}Promise.resolve().then(()=>{this._popStateInProgress=false})}_pageHide(){if(!this._destination||this._destination.temporary){this._tryPushCurrentPosition()}}_bindEvents(){if(this._boundEvents){return}this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)};this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea);window.addEventListener("popstate",this._boundEvents.popState);window.addEventListener("pagehide",this._boundEvents.pageHide)}_unbindEvents(){if(!this._boundEvents){return}this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea);window.removeEventListener("popstate",this._boundEvents.popState);window.removeEventListener("pagehide",this._boundEvents.pageHide);this._boundEvents=null}}t.PDFHistory=s;function a(e,t){if(typeof e!=="string"||typeof t!=="string"){return false}if(e===t){return true}const i=(0,l.parseQueryString)(e).get("nameddest");if(i===t){return true}return false}function o(i,n){function r(e,t){if(typeof e!==typeof t){return false}if(Array.isArray(e)||Array.isArray(t)){return false}if(e!==null&&typeof e==="object"&&t!==null){if(Object.keys(e).length!==Object.keys(t).length){return false}for(const i in e){if(!r(e[i],t[i])){return false}}return true}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!(Array.isArray(i)&&Array.isArray(n))){return false}if(i.length!==n.length){return false}for(let e=0,t=i.length;e<t;e++){if(!r(i[e],n[e])){return false}}return true}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFLayerViewer=void 0;var n=i(14);class r extends n.BaseTreeViewer{constructor(e){super(e);this.l10n=e.l10n;this.eventBus._on("resetlayers",this._resetLayers.bind(this));this.eventBus._on("togglelayerstree",this._toggleAllTreeItems.bind(this))}reset(){super.reset();this._optionalContentConfig=null}_dispatchEvent(e){this.eventBus.dispatch("layersloaded",{source:this,layersCount:e})}_bindLink(t,e){let{groupId:i,input:n}=e;const r=()=>{this._optionalContentConfig.setVisibility(i,n.checked);this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(this._optionalContentConfig)})};t.onclick=e=>{if(e.target===n){r();return true}else if(e.target!==t){return true}n.checked=!n.checked;r();return false}}async _setNestedName(e,t){let{name:i=null}=t;if(typeof i==="string"){e.textContent=this._normalizeTextContent(i);return}e.textContent=await this.l10n.get("additional_layers");e.style.fontStyle="italic"}_addToggleButton(e,t){let{name:i=null}=t;super._addToggleButton(e,i===null)}_toggleAllTreeItems(){if(!this._optionalContentConfig){return}super._toggleAllTreeItems()}render(e){let{optionalContentConfig:t,pdfDocument:i}=e;if(this._optionalContentConfig){this.reset()}this._optionalContentConfig=t||null;this._pdfDocument=i||null;const n=t===null||t===void 0?void 0:t.getOrder();if(!n){this._dispatchEvent(0);return}const r=document.createDocumentFragment(),s=[{parent:r,groups:n}];let a=0,o=false;while(s.length>0){const l=s.shift();for(const d of l.groups){const c=document.createElement("div");c.className="treeItem";const h=document.createElement("a");c.append(h);if(typeof d==="object"){o=true;this._addToggleButton(c,d);this._setNestedName(h,d);const u=document.createElement("div");u.className="treeItems";c.append(u);s.push({parent:u,groups:d.order})}else{const f=t.getGroup(d);const p=document.createElement("input");this._bindLink(h,{groupId:d,input:p});p.type="checkbox";p.checked=f.visible;const g=document.createElement("label");g.textContent=this._normalizeTextContent(f.name);g.append(p);h.append(g);a++}l.parent.append(c)}}this._finishRendering(r,a,o)}async _resetLayers(){if(!this._optionalContentConfig){return}const e=await this._pdfDocument.getOptionalContentConfig();this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(e)});this.render({optionalContentConfig:e,pdfDocument:this._pdfDocument})}}t.PDFLayerViewer=r},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFOutlineViewer=void 0;var n=i(14);var h=i(5);var r=i(1);class s extends n.BaseTreeViewer{constructor(e){super(e);this.linkService=e.linkService;this.eventBus._on("toggleoutlinetree",this._toggleAllTreeItems.bind(this));this.eventBus._on("currentoutlineitem",this._currentOutlineItem.bind(this));this.eventBus._on("pagechanging",e=>{this._currentPageNumber=e.pageNumber});this.eventBus._on("pagesloaded",e=>{this._isPagesLoaded=!!e.pagesCount;if(this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled){this._currentOutlineItemCapability.resolve(this._isPagesLoaded)}});this.eventBus._on("sidebarviewchanged",e=>{this._sidebarView=e.view})}reset(){super.reset();this._outline=null;this._pageNumberToDestHashCapability=null;this._currentPageNumber=1;this._isPagesLoaded=null;if(this._currentOutlineItemCapability&&!this._currentOutlineItemCapability.settled){this._currentOutlineItemCapability.resolve(false)}this._currentOutlineItemCapability=null}_dispatchEvent(e){var t;this._currentOutlineItemCapability=(0,h.createPromiseCapability)();if(e===0||(t=this._pdfDocument)!==null&&t!==void 0&&t.loadingParams.disableAutoFetch){this._currentOutlineItemCapability.resolve(false)}else if(this._isPagesLoaded!==null){this._currentOutlineItemCapability.resolve(this._isPagesLoaded)}this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:e,currentOutlineItemPromise:this._currentOutlineItemCapability.promise})}_bindLink(e,t){let{url:i,newWindow:n,dest:r}=t;const{linkService:s}=this;if(i){s.addLinkAttributes(e,i,n);return}e.href=s.getDestinationHash(r);e.onclick=e=>{this._updateCurrentTreeItem(e.target.parentNode);if(r){s.goToDestination(r)}return false}}_setStyles(e,t){let{bold:i,italic:n}=t;if(i){e.style.fontWeight="bold"}if(n){e.style.fontStyle="italic"}}_addToggleButton(e,t){let{count:i,items:n}=t;let r=false;if(i<0){let e=n.length;if(e>0){const s=[...n];while(s.length>0){const{count:a,items:o}=s.shift();if(a>0&&o.length>0){e+=o.length;s.push(...o)}}}if(Math.abs(i)===e){r=true}}super._addToggleButton(e,r)}_toggleAllTreeItems(){if(!this._outline){return}super._toggleAllTreeItems()}render(e){let{outline:t,pdfDocument:i}=e;if(this._outline){this.reset()}this._outline=t||null;this._pdfDocument=i||null;if(!t){this._dispatchEvent(0);return}const n=document.createDocumentFragment();const r=[{parent:n,items:t}];let s=0,a=false;while(r.length>0){const o=r.shift();for(const l of o.items){const d=document.createElement("div");d.className="treeItem";const c=document.createElement("a");this._bindLink(c,l);this._setStyles(c,l);c.textContent=this._normalizeTextContent(l.title);d.append(c);if(l.items.length>0){a=true;this._addToggleButton(d,l);const h=document.createElement("div");h.className="treeItems";d.append(h);r.push({parent:h,items:l.items})}o.parent.append(d);s++}}this._finishRendering(n,s,a)}async _currentOutlineItem(){if(!this._isPagesLoaded){throw new Error("_currentOutlineItem: All pages have not been loaded.")}if(!this._outline||!this._pdfDocument){return}const t=await this._getPageNumberToDestHash(this._pdfDocument);if(!t){return}this._updateCurrentTreeItem(null);if(this._sidebarView!==r.SidebarView.OUTLINE){return}for(let e=this._currentPageNumber;e>0;e--){const i=t.get(e);if(!i){continue}const n=this.container.querySelector(`a[href="${i}"]`);if(!n){continue}this._scrollToCurrentTreeItem(n.parentNode);break}}async _getPageNumberToDestHash(i){if(this._pageNumberToDestHashCapability){return this._pageNumberToDestHashCapability.promise}this._pageNumberToDestHashCapability=(0,h.createPromiseCapability)();const n=new Map,r=new Map;const s=[{nesting:0,items:this._outline}];while(s.length>0){const e=s.shift(),a=e.nesting;for(const{dest:o,items:l}of e.items){let e,t;if(typeof o==="string"){e=await i.getDestination(o);if(i!==this._pdfDocument){return null}}else{e=o}if(Array.isArray(e)){const[d]=e;if(typeof d==="object"&&d!==null){t=this.linkService._cachedPageNumber(d);if(!t){try{t=await i.getPageIndex(d)+1;if(i!==this._pdfDocument){return null}this.linkService.cachePageRef(t,d)}catch(e){}}}else if(Number.isInteger(d)){t=d+1}if(Number.isInteger(t)&&(!n.has(t)||a>r.get(t))){const c=this.linkService.getDestinationHash(o);n.set(t,c);r.set(t,a)}}if(l.length>0){s.push({nesting:a+1,items:l})}}}this._pageNumberToDestHashCapability.resolve(n.size>0?n:null);return this._pageNumberToDestHashCapability.promise}}t.PDFOutlineViewer=s},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFPresentationMode=void 0;var a=i(1);var n=i(5);function r(e,t){o(e,t);t.add(e)}function s(e,t,i){o(e,t);t.set(e,i)}function o(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function l(e,t){var i=h(e,t,"get");return d(e,i)}function d(e,t){if(t.get){return t.get.call(e)}return t.value}function c(e,t,i){var n=h(e,t,"set");u(e,n,i);return i}function h(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function u(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}function f(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const p=3e3;const g="pdfPresentationMode";const m="pdfPresentationModeControls";const v=50;const w=.1;const _=50;const b=Math.PI/6;var y=new WeakMap;var P=new WeakMap;var E=new WeakSet;var S=new WeakSet;var L=new WeakSet;var C=new WeakSet;var T=new WeakSet;var k=new WeakSet;var M=new WeakSet;var I=new WeakSet;var A=new WeakSet;var D=new WeakSet;var x=new WeakSet;var N=new WeakSet;var B=new WeakSet;var O=new WeakSet;var V=new WeakSet;class R{constructor(e){let{container:t,pdfViewer:i,eventBus:n}=e;r(this,V);r(this,O);r(this,B);r(this,N);r(this,x);r(this,D);r(this,A);r(this,I);r(this,M);r(this,k);r(this,T);r(this,C);r(this,L);r(this,S);r(this,E);s(this,y,{writable:true,value:a.PresentationModeState.UNKNOWN});s(this,P,{writable:true,value:null});this.container=t;this.pdfViewer=i;this.eventBus=n;this.contextMenuOpen=false;this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0;this.touchSwipeState=null}async request(){const{container:e,pdfViewer:t}=this;if(this.active||!t.pagesCount||!e.requestFullscreen){return false}f(this,O,Y).call(this);f(this,S,W).call(this,a.PresentationModeState.CHANGING);const i=e.requestFullscreen();c(this,P,{pageNumber:t.currentPageNumber,scaleValue:t.currentScaleValue,scrollMode:t.scrollMode,spreadMode:null,annotationEditorMode:null});if(t.spreadMode!==a.SpreadMode.NONE&&!(t.pageViewsReady&&t.hasEqualPageSizes)){console.warn("Ignoring Spread modes when entering PresentationMode, "+"since the document may contain varying page sizes.");l(this,P).spreadMode=t.spreadMode}if(t.annotationEditorMode!==n.AnnotationEditorType.DISABLE){l(this,P).annotationEditorMode=t.annotationEditorMode}try{await i;t.focus();return true}catch(e){f(this,V,J).call(this);f(this,S,W).call(this,a.PresentationModeState.NORMAL)}return false}get active(){return l(this,y)===a.PresentationModeState.CHANGING||l(this,y)===a.PresentationModeState.FULLSCREEN}}t.PDFPresentationMode=R;function F(e){if(!this.active){return}e.preventDefault();const t=(0,a.normalizeWheelEventDelta)(e);const i=Date.now();const n=this.mouseScrollTimeStamp;if(i>n&&i-n<v){return}if(this.mouseScrollDelta>0&&t<0||this.mouseScrollDelta<0&&t>0){f(this,A,G).call(this)}this.mouseScrollDelta+=t;if(Math.abs(this.mouseScrollDelta)>=w){const r=this.mouseScrollDelta;f(this,A,G).call(this);const s=r>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage();if(s){this.mouseScrollTimeStamp=i}}}function W(e){c(this,y,e);this.eventBus.dispatch("presentationmodechanged",{source:this,state:e})}function U(){f(this,S,W).call(this,a.PresentationModeState.FULLSCREEN);this.container.classList.add(g);setTimeout(()=>{this.pdfViewer.scrollMode=a.ScrollMode.PAGE;if(l(this,P).spreadMode!==null){this.pdfViewer.spreadMode=a.SpreadMode.NONE}this.pdfViewer.currentPageNumber=l(this,P).pageNumber;this.pdfViewer.currentScaleValue="page-fit";if(l(this,P).annotationEditorMode!==null){this.pdfViewer.annotationEditorMode=n.AnnotationEditorType.NONE}},0);f(this,x,Z).call(this);f(this,M,$).call(this);this.contextMenuOpen=false;window.getSelection().removeAllRanges()}function H(){const e=this.pdfViewer.currentPageNumber;this.container.classList.remove(g);setTimeout(()=>{f(this,V,J).call(this);f(this,S,W).call(this,a.PresentationModeState.NORMAL);this.pdfViewer.scrollMode=l(this,P).scrollMode;if(l(this,P).spreadMode!==null){this.pdfViewer.spreadMode=l(this,P).spreadMode}this.pdfViewer.currentScaleValue=l(this,P).scaleValue;this.pdfViewer.currentPageNumber=e;if(l(this,P).annotationEditorMode!==null){this.pdfViewer.annotationEditorMode=l(this,P).annotationEditorMode}c(this,P,null)},0);f(this,N,Q).call(this);f(this,I,K).call(this);f(this,A,G).call(this);this.contextMenuOpen=false}function z(e){if(this.contextMenuOpen){this.contextMenuOpen=false;e.preventDefault();return}if(e.button===0){const t=e.target.href&&e.target.classList.contains("internalLink");if(!t){e.preventDefault();if(e.shiftKey){this.pdfViewer.previousPage()}else{this.pdfViewer.nextPage()}}}}function j(){this.contextMenuOpen=true}function $(){if(this.controlsTimeout){clearTimeout(this.controlsTimeout)}else{this.container.classList.add(m)}this.controlsTimeout=setTimeout(()=>{this.container.classList.remove(m);delete this.controlsTimeout},p)}function K(){if(!this.controlsTimeout){return}clearTimeout(this.controlsTimeout);this.container.classList.remove(m);delete this.controlsTimeout}function G(){this.mouseScrollTimeStamp=0;this.mouseScrollDelta=0}function X(t){if(!this.active){return}if(t.touches.length>1){this.touchSwipeState=null;return}switch(t.type){case"touchstart":this.touchSwipeState={startX:t.touches[0].pageX,startY:t.touches[0].pageY,endX:t.touches[0].pageX,endY:t.touches[0].pageY};break;case"touchmove":if(this.touchSwipeState===null){return}this.touchSwipeState.endX=t.touches[0].pageX;this.touchSwipeState.endY=t.touches[0].pageY;t.preventDefault();break;case"touchend":if(this.touchSwipeState===null){return}let e=0;const i=this.touchSwipeState.endX-this.touchSwipeState.startX;const n=this.touchSwipeState.endY-this.touchSwipeState.startY;const r=Math.abs(Math.atan2(n,i));if(Math.abs(i)>_&&(r<=b||r>=Math.PI-b)){e=i}else if(Math.abs(n)>_&&Math.abs(r-Math.PI/2)<=b){e=n}if(e>0){this.pdfViewer.previousPage()}else if(e<0){this.pdfViewer.nextPage()}break}}function Z(){this.showControlsBind=f(this,M,$).bind(this);this.mouseDownBind=f(this,T,z).bind(this);this.mouseWheelBind=f(this,E,F).bind(this);this.resetMouseScrollStateBind=f(this,A,G).bind(this);this.contextMenuBind=f(this,k,j).bind(this);this.touchSwipeBind=f(this,D,X).bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind,{passive:false});window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}function Q(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind,{passive:false});window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}function q(){if(document.fullscreenElement){f(this,L,U).call(this)}else{f(this,C,H).call(this)}}function Y(){this.fullscreenChangeBind=f(this,B,q).bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind)}function J(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFRenderingQueue=void 0;var n=i(5);var r=i(1);const s=3e4;class a{constructor(){this.pdfViewer=null;this.pdfThumbnailViewer=null;this.onIdle=null;this.highestPriorityPage=null;this.idleTimeout=null;this.printing=false;this.isThumbnailViewEnabled=false}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(e){var t;if(this.idleTimeout){clearTimeout(this.idleTimeout);this.idleTimeout=null}if(this.pdfViewer.forceRendering(e)){return}if(this.isThumbnailViewEnabled&&(t=this.pdfThumbnailViewer)!==null&&t!==void 0&&t.forceRendering()){return}if(this.printing){return}if(this.onIdle){this.idleTimeout=setTimeout(this.onIdle.bind(this),s)}}getHighestPriority(e,i,n){let t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;const r=e.views,s=r.length;if(s===0){return null}for(let e=0;e<s;e++){const c=r[e].view;if(!this.isViewFinished(c)){return c}}const a=e.first.id,o=e.last.id;if(o-a+1>s){const h=e.ids;for(let e=1,t=o-a;e<t;e++){const u=n?a+e:o-e;if(h.has(u)){continue}const f=i[u-1];if(!this.isViewFinished(f)){return f}}}let l=n?o:a-2;let d=i[l];if(d&&!this.isViewFinished(d)){return d}if(t){l+=n?1:-1;d=i[l];if(d&&!this.isViewFinished(d)){return d}}return null}isViewFinished(e){return e.renderingState===r.RenderingStates.FINISHED}renderView(e){switch(e.renderingState){case r.RenderingStates.FINISHED:return false;case r.RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId;e.resume();break;case r.RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case r.RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId;e.draw().finally(()=>{this.renderHighestPriority()}).catch(e=>{if(e instanceof n.RenderingCancelledException){return}console.error(`renderView: "${e}"`)});break}return true}}t.PDFRenderingQueue=a},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFScriptingManager=void 0;var h=i(1);var o=i(5);class n{constructor(e){let{eventBus:t,sandboxBundleSrc:i=null,scriptingFactory:n=null,docPropertiesLookup:r=null}=e;this._pdfDocument=null;this._pdfViewer=null;this._closeCapability=null;this._destroyCapability=null;this._scripting=null;this._mouseState=Object.create(null);this._ready=false;this._eventBus=t;this._sandboxBundleSrc=i;this._scriptingFactory=n;this._docPropertiesLookup=r}setViewer(e){this._pdfViewer=e}async setDocument(e){var t;if(this._pdfDocument){await this._destroyScripting()}this._pdfDocument=e;if(!e){return}const[i,n,r]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!i&&!r){await this._destroyScripting();return}if(e!==this._pdfDocument){return}try{this._scripting=this._createScripting()}catch(e){console.error(`PDFScriptingManager.setDocument: "${e===null||e===void 0?void 0:e.message}".`);await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",e=>{if((e===null||e===void 0?void 0:e.source)!==window){return}this._updateFromSandbox(e.detail)});this._internalEvents.set("dispatcheventinsandbox",e=>{var t;(t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox(e.detail)});this._internalEvents.set("pagechanging",e=>{let{pageNumber:t,previous:i}=e;if(t===i){return}this._dispatchPageClose(i);this._dispatchPageOpen(t)});this._internalEvents.set("pagerendered",e=>{let{pageNumber:t}=e;if(!this._pageOpenPending.has(t)){return}if(t!==this._pdfViewer.currentPageNumber){return}this._dispatchPageOpen(t)});this._internalEvents.set("pagesdestroy",async e=>{var t,i;await this._dispatchPageClose(this._pdfViewer.currentPageNumber);await((t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillClose"}));(i=this._closeCapability)===null||i===void 0?void 0:i.resolve()});this._domEvents.set("mousedown",e=>{this._mouseState.isDown=true});this._domEvents.set("mouseup",e=>{this._mouseState.isDown=false});for(const[s,a]of this._internalEvents){this._eventBus._on(s,a)}for(const[s,a]of this._domEvents){window.addEventListener(s,a,true)}try{const o=await this._getDocProperties();if(e!==this._pdfDocument){return}await this._scripting.createSandbox({objects:i,calculationOrder:n,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...o,actions:r}});this._eventBus.dispatch("sandboxcreated",{source:this})}catch(e){console.error(`PDFScriptingManager.setDocument: "${e===null||e===void 0?void 0:e.message}".`);await this._destroyScripting();return}await((t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"doc",name:"Open"}));await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,true);Promise.resolve().then(()=>{if(e===this._pdfDocument){this._ready=true}})}async dispatchWillSave(e){var t;return(t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(e){var t;return(t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(e){var t;return(t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(e){var t;return(t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var e;return((e=this._destroyCapability)===null||e===void 0?void 0:e.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,o.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,o.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,o.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,o.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(e){const t=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode;const{id:i,siblings:n,command:r,value:s}=e;if(!i){switch(r){case"clear":console.clear();break;case"error":console.error(s);break;case"layout":if(t){return}const l=(0,h.apiPageLayoutToViewerModes)(s);this._pdfViewer.spreadMode=l.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=s+1;break;case"print":await this._pdfViewer.pagesPromise;this._eventBus.dispatch("print",{source:this});break;case"println":console.log(s);break;case"zoom":if(t){return}this._pdfViewer.currentScaleValue=s;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(t){return}this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(t){return}this._pdfViewer.decreaseScale();break}return}if(t){if(e.focus){return}}delete e.id;delete e.siblings;const a=n?[i,...n]:[i];for(const d of a){const c=document.querySelector(`[data-element-id="${d}"]`);if(c){c.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e}))}else{var o;(o=this._pdfDocument)===null||o===void 0?void 0:o.annotationStorage.setValue(d,e)}}}async _dispatchPageOpen(n){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const r=this._pdfDocument,s=this._visitedPages;if(e){this._closeCapability=(0,o.createPromiseCapability)()}if(!this._closeCapability){return}const a=this._pdfViewer.getPageView(n-1);if((a===null||a===void 0?void 0:a.renderingState)!==h.RenderingStates.FINISHED){this._pageOpenPending.add(n);return}this._pageOpenPending.delete(n);const t=(async()=>{var e,t;const i=await(!s.has(n)?(e=a.pdfPage)===null||e===void 0?void 0:e.getJSActions():null);if(r!==this._pdfDocument){return}await((t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:i}))})();s.set(n,t)}async _dispatchPageClose(e){var t;const i=this._pdfDocument,n=this._visitedPages;if(!this._closeCapability){return}if(this._pageOpenPending.has(e)){return}const r=n.get(e);if(!r){return}n.set(e,null);await r;if(i!==this._pdfDocument){return}await((t=this._scripting)===null||t===void 0?void 0:t.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e}))}async _getDocProperties(){if(this._docPropertiesLookup){return this._docPropertiesLookup(this._pdfDocument)}throw new Error("_getDocProperties: Unable to lookup properties.")}_createScripting(){this._destroyCapability=(0,o.createPromiseCapability)();if(this._scripting){throw new Error("_createScripting: Scripting already exists.")}if(this._scriptingFactory){return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc})}throw new Error("_createScripting: Cannot create scripting.")}async _destroyScripting(){var e;if(!this._scripting){var t;this._pdfDocument=null;(t=this._destroyCapability)===null||t===void 0?void 0:t.resolve();return}if(this._closeCapability){await Promise.race([this._closeCapability.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(e=>{});this._closeCapability=null}this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch(e){}for(const[i,n]of this._internalEvents){this._eventBus._off(i,n)}this._internalEvents.clear();for(const[i,n]of this._domEvents){window.removeEventListener(i,n,true)}this._domEvents.clear();this._pageOpenPending.clear();this._visitedPages.clear();this._scripting=null;delete this._mouseState.isDown;this._ready=false;(e=this._destroyCapability)===null||e===void 0?void 0:e.resolve()}}t.PDFScriptingManager=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFSidebar=void 0;var l=i(1);function a(e,t){n(e,t);t.add(e)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function d(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const r="pdfSidebarNotification";var c=new WeakSet;var h=new WeakSet;var u=new WeakSet;var o=new WeakSet;var f=new WeakSet;var p=new WeakSet;class s{constructor(e){let{elements:t,pdfViewer:i,pdfThumbnailViewer:n,eventBus:r,l10n:s}=e;a(this,p);a(this,f);a(this,o);a(this,u);a(this,h);a(this,c);this.isOpen=false;this.active=l.SidebarView.THUMBS;this.isInitialViewSet=false;this.isInitialEventDispatched=false;this.onToggled=null;this.pdfViewer=i;this.pdfThumbnailViewer=n;this.outerContainer=t.outerContainer;this.sidebarContainer=t.sidebarContainer;this.toggleButton=t.toggleButton;this.thumbnailButton=t.thumbnailButton;this.outlineButton=t.outlineButton;this.attachmentsButton=t.attachmentsButton;this.layersButton=t.layersButton;this.thumbnailView=t.thumbnailView;this.outlineView=t.outlineView;this.attachmentsView=t.attachmentsView;this.layersView=t.layersView;this._outlineOptionsContainer=t.outlineOptionsContainer;this._currentOutlineItemButton=t.currentOutlineItemButton;this.eventBus=r;this.l10n=s;d(this,p,b).call(this)}reset(){this.isInitialViewSet=false;this.isInitialEventDispatched=false;d(this,f,_).call(this,true);this.switchView(l.SidebarView.THUMBS);this.outlineButton.disabled=false;this.attachmentsButton.disabled=false;this.layersButton.disabled=false;this._currentOutlineItemButton.disabled=true}get visibleView(){return this.isOpen?this.active:l.SidebarView.NONE}setInitialView(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:l.SidebarView.NONE;if(this.isInitialViewSet){return}this.isInitialViewSet=true;if(e===l.SidebarView.NONE||e===l.SidebarView.UNKNOWN){d(this,c,g).call(this);return}this.switchView(e,true);if(!this.isInitialEventDispatched){d(this,c,g).call(this)}}switchView(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=e!==this.active;let n=false;switch(e){case l.SidebarView.NONE:if(this.isOpen){this.close()}return;case l.SidebarView.THUMBS:if(this.isOpen&&i){n=true}break;case l.SidebarView.OUTLINE:if(this.outlineButton.disabled){return}break;case l.SidebarView.ATTACHMENTS:if(this.attachmentsButton.disabled){return}break;case l.SidebarView.LAYERS:if(this.layersButton.disabled){return}break;default:console.error(`PDFSidebar.switchView: "${e}" is not a valid view.`);return}this.active=e;const r=e===l.SidebarView.THUMBS,s=e===l.SidebarView.OUTLINE,a=e===l.SidebarView.ATTACHMENTS,o=e===l.SidebarView.LAYERS;this.thumbnailButton.classList.toggle("toggled",r);this.outlineButton.classList.toggle("toggled",s);this.attachmentsButton.classList.toggle("toggled",a);this.layersButton.classList.toggle("toggled",o);this.thumbnailButton.setAttribute("aria-checked",r);this.outlineButton.setAttribute("aria-checked",s);this.attachmentsButton.setAttribute("aria-checked",a);this.layersButton.setAttribute("aria-checked",o);this.thumbnailView.classList.toggle("hidden",!r);this.outlineView.classList.toggle("hidden",!s);this.attachmentsView.classList.toggle("hidden",!a);this.layersView.classList.toggle("hidden",!o);this._outlineOptionsContainer.classList.toggle("hidden",!s);if(t&&!this.isOpen){this.open();return}if(n){d(this,u,v).call(this);d(this,h,m).call(this)}if(i){d(this,c,g).call(this)}}open(){if(this.isOpen){return}this.isOpen=true;this.toggleButton.classList.add("toggled");this.toggleButton.setAttribute("aria-expanded","true");this.outerContainer.classList.add("sidebarMoving","sidebarOpen");if(this.active===l.SidebarView.THUMBS){d(this,u,v).call(this)}d(this,h,m).call(this);d(this,c,g).call(this);d(this,f,_).call(this)}close(){if(!this.isOpen){return}this.isOpen=false;this.toggleButton.classList.remove("toggled");this.toggleButton.setAttribute("aria-expanded","false");this.outerContainer.classList.add("sidebarMoving");this.outerContainer.classList.remove("sidebarOpen");d(this,h,m).call(this);d(this,c,g).call(this)}toggle(){if(this.isOpen){this.close()}else{this.open()}}}t.PDFSidebar=s;function g(){if(this.isInitialViewSet&&!this.isInitialEventDispatched){this.isInitialEventDispatched=true}this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}function m(){if(this.onToggled){this.onToggled()}else{this.pdfViewer.forceRendering();this.pdfThumbnailViewer.forceRendering()}}function v(){const{pdfViewer:t,pdfThumbnailViewer:i}=this;const n=t.pagesCount;for(let e=0;e<n;e++){const r=t.getPageView(e);if((r===null||r===void 0?void 0:r.renderingState)===l.RenderingStates.FINISHED){const s=i.getThumbnail(e);s.setImage(r)}}i.scrollThumbnailIntoView(t.currentPageNumber)}function w(){this.l10n.get("toggle_sidebar_notification2.title").then(e=>{this.toggleButton.title=e});if(!this.isOpen){this.toggleButton.classList.add(r)}}function _(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.isOpen||e){this.toggleButton.classList.remove(r)}if(e){this.l10n.get("toggle_sidebar.title").then(e=>{this.toggleButton.title=e})}}function b(){this.sidebarContainer.addEventListener("transitionend",e=>{if(e.target===this.sidebarContainer){this.outerContainer.classList.remove("sidebarMoving")}});this.toggleButton.addEventListener("click",()=>{this.toggle()});this.thumbnailButton.addEventListener("click",()=>{this.switchView(l.SidebarView.THUMBS)});this.outlineButton.addEventListener("click",()=>{this.switchView(l.SidebarView.OUTLINE)});this.outlineButton.addEventListener("dblclick",()=>{this.eventBus.dispatch("toggleoutlinetree",{source:this})});this.attachmentsButton.addEventListener("click",()=>{this.switchView(l.SidebarView.ATTACHMENTS)});this.layersButton.addEventListener("click",()=>{this.switchView(l.SidebarView.LAYERS)});this.layersButton.addEventListener("dblclick",()=>{this.eventBus.dispatch("resetlayers",{source:this})});this._currentOutlineItemButton.addEventListener("click",()=>{this.eventBus.dispatch("currentoutlineitem",{source:this})});const t=(e,t,i)=>{t.disabled=!e;if(e){d(this,o,w).call(this)}else if(this.active===i){this.switchView(l.SidebarView.THUMBS)}};this.eventBus._on("outlineloaded",e=>{t(e.outlineCount,this.outlineButton,l.SidebarView.OUTLINE);e.currentOutlineItemPromise.then(e=>{if(!this.isInitialViewSet){return}this._currentOutlineItemButton.disabled=!e})});this.eventBus._on("attachmentsloaded",e=>{t(e.attachmentsCount,this.attachmentsButton,l.SidebarView.ATTACHMENTS)});this.eventBus._on("layersloaded",e=>{t(e.layersCount,this.layersButton,l.SidebarView.LAYERS)});this.eventBus._on("presentationmodechanged",e=>{if(e.state===l.PresentationModeState.NORMAL&&this.visibleView===l.SidebarView.THUMBS){d(this,u,v).call(this)}})}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFSidebarResizer=void 0;var n=i(1);const r="--sidebar-width";const s=200;const a="sidebarResizing";class o{constructor(e,t,i){this.isRTL=false;this.sidebarOpen=false;this._width=null;this._outerContainerWidth=null;this._boundEvents=Object.create(null);this.outerContainer=e.outerContainer;this.resizer=e.resizer;this.eventBus=t;i.getDirection().then(e=>{this.isRTL=e==="rtl"});this._addEventListeners()}get outerContainerWidth(){return this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth)}_updateWidth(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;const t=Math.floor(this.outerContainerWidth/2);if(e>t){e=t}if(e<s){e=s}if(e===this._width){return false}this._width=e;n.docStyle.setProperty(r,`${e}px`);return true}_mouseMove(e){let t=e.clientX;if(this.isRTL){t=this.outerContainerWidth-t}this._updateWidth(t)}_mouseUp(e){this.outerContainer.classList.remove(a);this.eventBus.dispatch("resize",{source:this});const t=this._boundEvents;window.removeEventListener("mousemove",t.mouseMove);window.removeEventListener("mouseup",t.mouseUp)}_addEventListeners(){const t=this._boundEvents;t.mouseMove=this._mouseMove.bind(this);t.mouseUp=this._mouseUp.bind(this);this.resizer.addEventListener("mousedown",e=>{if(e.button!==0){return}this.outerContainer.classList.add(a);window.addEventListener("mousemove",t.mouseMove);window.addEventListener("mouseup",t.mouseUp)});this.eventBus._on("sidebarviewchanged",e=>{this.sidebarOpen=!!(e!==null&&e!==void 0&&e.view)});this.eventBus._on("resize",e=>{if((e===null||e===void 0?void 0:e.source)!==window){return}this._outerContainerWidth=null;if(!this._width){return}if(!this.sidebarOpen){this._updateWidth(this._width);return}this.outerContainer.classList.add(a);const t=this._updateWidth(this._width);Promise.resolve().then(()=>{this.outerContainer.classList.remove(a);if(t){this.eventBus.dispatch("resize",{source:this})}})})}}t.PDFSidebarResizer=o},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFThumbnailViewer=void 0;var l=i(1);var d=i(28);function o(e,t){n(e,t);t.add(e)}function n(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function r(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const c=-19;const h="selected";var u=new WeakSet;var f=new WeakSet;class s{constructor(e){let{container:t,eventBus:i,linkService:n,renderingQueue:r,l10n:s,pageColors:a}=e;o(this,f);o(this,u);this.container=t;this.linkService=n;this.renderingQueue=r;this.l10n=s;this.pageColors=a||null;if(this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))){if(this.pageColors.background||this.pageColors.foreground){console.warn("PDFThumbnailViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used.")}this.pageColors=null}this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}_scrollUpdated(){this.renderingQueue.renderHighestPriority()}getThumbnail(e){return this._thumbnails[e]}_getVisibleThumbs(){return(0,l.getVisibleElements)({scrollEl:this.container,views:this._thumbnails})}scrollThumbnailIntoView(t){if(!this.pdfDocument){return}const i=this._thumbnails[t-1];if(!i){console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.');return}if(t!==this._currentPageNumber){const e=this._thumbnails[this._currentPageNumber-1];e.div.classList.remove(h);i.div.classList.add(h)}const{first:n,last:r,views:s}=this._getVisibleThumbs();if(s.length>0){let e=false;if(t<=n.id||t>=r.id){e=true}else{for(const{id:a,percent:o}of s){if(a!==t){continue}e=o<100;break}}if(e){(0,l.scrollIntoView)(i.div,{top:c})}}this._currentPageNumber=t}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,l.isValidRotation)(e)){throw new Error("Invalid thumbnails rotation angle.")}if(!this.pdfDocument){return}if(this._pagesRotation===e){return}this._pagesRotation=e;const t={rotation:e};for(const i of this._thumbnails){i.update(t)}}cleanup(){for(const e of this._thumbnails){if(e.renderingState!==l.RenderingStates.FINISHED){e.reset()}}d.TempImageFactory.destroyCanvas()}_resetView(){this._thumbnails=[];this._currentPageNumber=1;this._pageLabels=null;this._pagesRotation=0;this.container.textContent=""}setDocument(a){if(this.pdfDocument){this._cancelRendering();this._resetView()}this.pdfDocument=a;if(!a){return}const e=a.getPage(1);const o=a.getOptionalContentConfig();e.then(e=>{const t=a.numPages;const i=e.getViewport({scale:1});for(let e=1;e<=t;++e){const s=new d.PDFThumbnailView({container:this.container,id:e,defaultViewport:i.clone(),optionalContentConfigPromise:o,linkService:this.linkService,renderingQueue:this.renderingQueue,l10n:this.l10n,pageColors:this.pageColors});this._thumbnails.push(s)}const n=this._thumbnails[0];if(n){n.setPdfPage(e)}const r=this._thumbnails[this._currentPageNumber-1];r.div.classList.add(h)}).catch(e=>{console.error("Unable to initialize thumbnail viewer",e)})}_cancelRendering(){for(const e of this._thumbnails){e.cancelRendering()}}setPageLabels(e){if(!this.pdfDocument){return}if(!e){this._pageLabels=null}else if(!(Array.isArray(e)&&this.pdfDocument.numPages===e.length)){this._pageLabels=null;console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")}else{this._pageLabels=e}for(let e=0,t=this._thumbnails.length;e<t;e++){var i,n;this._thumbnails[e].setPageLabel((i=(n=this._pageLabels)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:null)}}forceRendering(){const e=this._getVisibleThumbs();const t=r(this,f,p).call(this,e);const i=this.renderingQueue.getHighestPriority(e,this._thumbnails,t);if(i){r(this,u,a).call(this,i).then(()=>{this.renderingQueue.renderView(i)});return true}return false}}t.PDFThumbnailViewer=s;async function a(e){if(e.pdfPage){return e.pdfPage}try{const t=await this.pdfDocument.getPage(e.id);if(!e.pdfPage){e.setPdfPage(t)}return t}catch(e){console.error("Unable to get page for thumb view",e);return null}}function p(e){var t,i;if(((t=e.first)===null||t===void 0?void 0:t.id)===1){return true}else if(((i=e.last)===null||i===void 0?void 0:i.id)===this._thumbnails.length){return false}return this.scroll.down}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.TempImageFactory=t.PDFThumbnailView=void 0;var m=i(1);var h=i(5);function r(e,t,i,n){l(e,t);o(i,"set");s(e,i,n);return n}function s(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}function a(e,t,i){l(e,t);o(i,"get");return n(e,i)}function o(e,t){if(e===undefined){throw new TypeError("attempted to "+t+" private static field before its declaration")}}function l(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function n(e,t){if(t.get){return t.get.call(e)}return t.value}const u=2;const d=3;const v=1;const w=98;class c{static getCanvas(e,t){const i=a(this,c,f)||r(this,c,f,document.createElement("canvas"));i.width=e;i.height=t;const n=i.getContext("2d",{alpha:false});n.save();n.fillStyle="rgb(255, 255, 255)";n.fillRect(0,0,e,t);n.restore();return[i,i.getContext("2d")]}static destroyCanvas(){const e=a(this,c,f);if(e){e.width=0;e.height=0}r(this,c,f,null)}}t.TempImageFactory=c;var f={writable:true,value:null};class p{constructor(e){let{container:t,id:i,defaultViewport:n,optionalContentConfigPromise:r,linkService:s,renderingQueue:a,l10n:o,pageColors:l}=e;this.id=i;this.renderingId="thumbnail"+i;this.pageLabel=null;this.pdfPage=null;this.rotation=0;this.viewport=n;this.pdfPageRotate=n.rotation;this._optionalContentConfigPromise=r||null;this.pageColors=l||null;this.linkService=s;this.renderingQueue=a;this.renderTask=null;this.renderingState=m.RenderingStates.INITIAL;this.resume=null;const d=this.viewport.width,c=this.viewport.height,h=d/c;this.canvasWidth=w;this.canvasHeight=this.canvasWidth/h|0;this.scale=this.canvasWidth/d;this.l10n=o;const u=document.createElement("a");u.href=s.getAnchorUrl("#page="+i);this._thumbPageTitle.then(e=>{u.title=e});u.onclick=function(){s.goToPage(i);return false};this.anchor=u;const f=document.createElement("div");f.className="thumbnail";f.setAttribute("data-page-number",this.id);this.div=f;const p=document.createElement("div");p.className="thumbnailSelectionRing";const g=2*v;p.style.width=this.canvasWidth+g+"px";p.style.height=this.canvasHeight+g+"px";this.ring=p;f.append(p);u.append(f);t.append(u)}setPdfPage(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:1,rotation:t});this.reset()}reset(){this.cancelRendering();this.renderingState=m.RenderingStates.INITIAL;const e=this.viewport.width,t=this.viewport.height,i=e/t;this.canvasHeight=this.canvasWidth/i|0;this.scale=this.canvasWidth/e;this.div.removeAttribute("data-loaded");const n=this.ring;n.textContent="";const r=2*v;n.style.width=this.canvasWidth+r+"px";n.style.height=this.canvasHeight+r+"px";if(this.canvas){this.canvas.width=0;this.canvas.height=0;delete this.canvas}if(this.image){this.image.removeAttribute("src");delete this.image}}update(e){let{rotation:t=null}=e;if(typeof t==="number"){this.rotation=t}const i=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:i});this.reset()}cancelRendering(){if(this.renderTask){this.renderTask.cancel();this.renderTask=null}this.resume=null}_getPageDrawContext(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;const t=document.createElement("canvas");const i=t.getContext("2d",{alpha:false});const n=new m.OutputScale;t.width=e*this.canvasWidth*n.sx|0;t.height=e*this.canvasHeight*n.sy|0;const r=n.scaled?[n.sx,0,0,n.sy,0,0]:null;return{ctx:i,canvas:t,transform:r}}_convertCanvasToImage(e){if(this.renderingState!==m.RenderingStates.FINISHED){throw new Error("_convertCanvasToImage: Rendering has not finished.")}const t=this._reduceImage(e);const i=document.createElement("img");i.className="thumbnailImage";this._thumbPageCanvas.then(e=>{i.setAttribute("aria-label",e)});i.style.width=this.canvasWidth+"px";i.style.height=this.canvasHeight+"px";i.src=t.toDataURL();this.image=i;this.div.setAttribute("data-loaded",true);this.ring.append(i);t.width=0;t.height=0}draw(){var t=this;if(this.renderingState!==m.RenderingStates.INITIAL){console.error("Must be in new state before drawing");return Promise.resolve()}const{pdfPage:e}=this;if(!e){this.renderingState=m.RenderingStates.FINISHED;return Promise.reject(new Error("pdfPage is not loaded"))}this.renderingState=m.RenderingStates.RUNNING;const i=async function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(d===t.renderTask){t.renderTask=null}if(e instanceof h.RenderingCancelledException){return}t.renderingState=m.RenderingStates.FINISHED;t._convertCanvasToImage(r);if(e){throw e}};const{ctx:n,canvas:r,transform:s}=this._getPageDrawContext(u);const a=this.viewport.clone({scale:u*this.scale});const o=e=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=m.RenderingStates.PAUSED;this.resume=()=>{this.renderingState=m.RenderingStates.RUNNING;e()};return}e()};const l={canvasContext:n,transform:s,viewport:a,optionalContentConfigPromise:this._optionalContentConfigPromise,pageColors:this.pageColors};const d=this.renderTask=e.render(l);d.onContinue=o;const c=d.promise.then(function(){return i(null)},function(e){return i(e)});c.finally(()=>{r.width=0;r.height=0;const e=this.linkService.isPageCached(this.id);if(!e){var t;(t=this.pdfPage)===null||t===void 0?void 0:t.cleanup()}});return c}setImage(e){if(this.renderingState!==m.RenderingStates.INITIAL){return}const{thumbnailCanvas:t,pdfPage:i,scale:n}=e;if(!t){return}if(!this.pdfPage){this.setPdfPage(i)}if(n<this.scale){return}this.renderingState=m.RenderingStates.FINISHED;this._convertCanvasToImage(t)}_reduceImage(e){const{ctx:t,canvas:i}=this._getPageDrawContext();if(e.width<=2*i.width){t.drawImage(e,0,0,e.width,e.height,0,0,i.width,i.height);return i}let n=i.width<<d;let r=i.height<<d;const[s,a]=c.getCanvas(n,r);while(n>e.width||r>e.height){n>>=1;r>>=1}a.drawImage(e,0,0,e.width,e.height,0,0,n,r);while(n>2*i.width){a.drawImage(s,0,0,n,r,0,0,n>>1,r>>1);n>>=1;r>>=1}t.drawImage(s,0,0,n,r,0,0,i.width,i.height);return i}get _thumbPageTitle(){var e;return this.l10n.get("thumb_page_title",{page:(e=this.pageLabel)!==null&&e!==void 0?e:this.id})}get _thumbPageCanvas(){var e;return this.l10n.get("thumb_page_canvas",{page:(e=this.pageLabel)!==null&&e!==void 0?e:this.id})}setPageLabel(e){this.pageLabel=typeof e==="string"?e:null;this._thumbPageTitle.then(e=>{this.anchor.title=e});if(this.renderingState!==m.RenderingStates.FINISHED){return}this._thumbPageCanvas.then(e=>{var t;(t=this.image)===null||t===void 0?void 0:t.setAttribute("aria-label",e)})}}t.PDFThumbnailView=p},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFViewer=t.PDFSinglePageViewer=void 0;var n=i(1);var r=i(30);class s extends r.BaseViewer{}t.PDFViewer=s;class a extends r.BaseViewer{_resetView(){super._resetView();this._scrollMode=n.ScrollMode.PAGE;this._spreadMode=n.SpreadMode.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}t.PDFSinglePageViewer=a},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PagesCountLimit=t.PDFPageViewBuffer=t.BaseViewer=void 0;var y=i(5);var P=i(1);var l=i(31);var v=i(33);var w=i(32);var _=i(34);var o=i(23);var d=i(3);var n=i(36);var r=i(37);var c=i(38);var s=i(39);let a;function h(e,t){f(e,t);t.add(e)}function u(e,t,i){f(e,t);t.set(e,i)}function f(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function E(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}function b(e,t){var i=g(e,t,"get");return p(e,i)}function p(e,t){if(t.get){return t.get.call(e)}return t.value}function S(e,t,i){var n=g(e,t,"set");m(e,n,i);return i}function g(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function m(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}const L=10;const C="enablePermissions";const T={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};t.PagesCountLimit=T;function k(e){return Object.values(y.AnnotationEditorType).includes(e)&&e!==y.AnnotationEditorType.DISABLE}var M=new WeakMap;var I=new WeakMap;var A=new WeakSet;a=Symbol.iterator;class D{constructor(e){h(this,A);u(this,M,{writable:true,value:new Set});u(this,I,{writable:true,value:0});S(this,I,e)}push(e){const t=b(this,M);if(t.has(e)){t.delete(e)}t.add(e);if(t.size>b(this,I)){E(this,A,x).call(this)}}resize(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;S(this,I,e);const i=b(this,M);if(t){const n=i.size;let e=1;for(const r of i){if(t.has(r.id)){i.delete(r);i.add(r)}if(++e>n){break}}}while(i.size>b(this,I)){E(this,A,x).call(this)}}has(e){return b(this,M).has(e)}[a](){return b(this,M).keys()}}t.PDFPageViewBuffer=D;function x(){const e=b(this,M).keys().next().value;e===null||e===void 0?void 0:e.destroy();b(this,M).delete(e)}var N=new WeakMap;var B=new WeakMap;var O=new WeakMap;var V=new WeakMap;var R=new WeakMap;var F=new WeakMap;var W=new WeakMap;var U=new WeakMap;var H=new WeakSet;var z=new WeakSet;var j=new WeakSet;var $=new WeakSet;var K=new WeakSet;var G=new WeakSet;var X=new WeakSet;var Z=new WeakSet;var Q=new WeakSet;class q{constructor(e){var t,i,n,r,s;h(this,Q);h(this,Z);h(this,X);h(this,G);h(this,K);h(this,$);h(this,j);h(this,z);h(this,H);u(this,N,{writable:true,value:null});u(this,B,{writable:true,value:y.AnnotationEditorType.DISABLE});u(this,O,{writable:true,value:null});u(this,V,{writable:true,value:y.AnnotationMode.ENABLE_FORMS});u(this,R,{writable:true,value:false});u(this,F,{writable:true,value:0});u(this,W,{writable:true,value:null});u(this,U,{writable:true,value:null});if(this.constructor===q){throw new Error("Cannot initialize BaseViewer.")}const a="2.16.105";if(y.version!==a){throw new Error(`The API version "${y.version}" does not match the Viewer version "${a}".`)}this.container=e.container;this.viewer=e.viewer||e.container.firstElementChild;if(!(((t=this.container)===null||t===void 0?void 0:t.tagName.toUpperCase())==="DIV"&&((i=this.viewer)===null||i===void 0?void 0:i.tagName.toUpperCase())==="DIV")){throw new Error("Invalid `container` and/or `viewer` option.")}if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute"){throw new Error("The `container` must be absolutely positioned.")}this.eventBus=e.eventBus;this.linkService=e.linkService||new d.SimpleLinkService;this.downloadManager=e.downloadManager||null;this.findController=e.findController||null;this._scriptingManager=e.scriptingManager||null;this.removePageBorders=e.removePageBorders||false;this.textLayerMode=(n=e.textLayerMode)!==null&&n!==void 0?n:P.TextLayerMode.ENABLE;S(this,V,(r=e.annotationMode)!==null&&r!==void 0?r:y.AnnotationMode.ENABLE_FORMS);S(this,B,(s=e.annotationEditorMode)!==null&&s!==void 0?s:y.AnnotationEditorType.DISABLE);this.imageResourcesPath=e.imageResourcesPath||"";this.enablePrintAutoRotate=e.enablePrintAutoRotate||false;this.renderer=e.renderer||P.RendererType.CANVAS;this.useOnlyCssZoom=e.useOnlyCssZoom||false;this.maxCanvasPixels=e.maxCanvasPixels;this.l10n=e.l10n||w.NullL10n;S(this,R,e.enablePermissions||false);this.pageColors=e.pageColors||null;if(this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))){if(this.pageColors.background||this.pageColors.foreground){console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used.")}this.pageColors=null}this.defaultRenderingQueue=!e.renderingQueue;if(this.defaultRenderingQueue){this.renderingQueue=new o.PDFRenderingQueue;this.renderingQueue.setViewer(this)}else{this.renderingQueue=e.renderingQueue}this.scroll=(0,P.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=P.PresentationModeState.UNKNOWN;this._onBeforeDraw=this._onAfterDraw=null;this._resetView();if(this.removePageBorders){this.viewer.classList.add("removePageBorders")}this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}get pageViewsReady(){if(!this._pagesCapability.settled){return false}return this._pages.every(function(e){return e===null||e===void 0?void 0:e.pdfPage})}get renderForms(){return b(this,V)===y.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e)){throw new Error("Invalid page number.")}if(!this.pdfDocument){return}if(!this._setCurrentPageNumber(e,true)){console.error(`currentPageNumber: "${e}" is not a valid page.`)}}_setCurrentPageNumber(e){var t,i;let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._currentPageNumber===e){if(n){E(this,G,ne).call(this)}return true}if(!(0<e&&e<=this.pagesCount)){return false}const r=this._currentPageNumber;this._currentPageNumber=e;this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:(t=(i=this._pageLabels)===null||i===void 0?void 0:i[e-1])!==null&&t!==void 0?t:null,previous:r});if(n){E(this,G,ne).call(this)}return true}get currentPageLabel(){var e,t;return(e=(t=this._pageLabels)===null||t===void 0?void 0:t[this._currentPageNumber-1])!==null&&e!==void 0?e:null}set currentPageLabel(e){if(!this.pdfDocument){return}let t=e|0;if(this._pageLabels){const i=this._pageLabels.indexOf(e);if(i>=0){t=i+1}}if(!this._setCurrentPageNumber(t,true)){console.error(`currentPageLabel: "${e}" is not a valid page.`)}}get currentScale(){return this._currentScale!==P.UNKNOWN_SCALE?this._currentScale:P.DEFAULT_SCALE}set currentScale(e){if(isNaN(e)){throw new Error("Invalid numeric scale.")}if(!this.pdfDocument){return}this._setScale(e,false)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){if(!this.pdfDocument){return}this._setScale(e,false)}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,P.isValidRotation)(e)){throw new Error("Invalid pages rotation angle.")}if(!this.pdfDocument){return}e%=360;if(e<0){e+=360}if(this._pagesRotation===e){return}this._pagesRotation=e;const t=this._currentPageNumber;const i={rotation:e};for(const n of this._pages){n.update(i)}if(this._currentScaleValue){this._setScale(this._currentScaleValue,true)}this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t});if(this.defaultRenderingQueue){this.update()}}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(g){if(this.pdfDocument){this.eventBus.dispatch("pagesdestroy",{source:this});this._cancelRendering();this._resetView();if(this.findController){this.findController.setDocument(null)}if(this._scriptingManager){this._scriptingManager.setDocument(null)}if(b(this,O)){b(this,O).destroy();S(this,O,null)}}this.pdfDocument=g;if(!g){return}const m=g.isPureXfa;const v=g.numPages;const e=g.getPage(1);const w=g.getOptionalContentConfig();const t=b(this,R)?g.getPermissions():Promise.resolve();if(v>T.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const i=this._scrollMode=P.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:i})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:v})},()=>{});this._onBeforeDraw=e=>{const t=this._pages[e.pageNumber-1];if(!t){return}b(this,N).push(t)};this.eventBus._on("pagerender",this._onBeforeDraw);this._onAfterDraw=e=>{if(e.cssTransform||this._onePageRenderedCapability.settled){return}this._onePageRenderedCapability.resolve({timestamp:e.timestamp});this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null;if(b(this,U)){document.removeEventListener("visibilitychange",b(this,U));S(this,U,null)}};this.eventBus._on("pagerendered",this._onAfterDraw);Promise.all([e,t]).then(e=>{let[t,i]=e;if(g!==this.pdfDocument){return}this._firstPageCapability.resolve(t);this._optionalContentConfigPromise=w;const{annotationEditorMode:n,annotationMode:r,textLayerMode:s}=E(this,H,Y).call(this,i);if(n!==y.AnnotationEditorType.DISABLE){const e=n;if(m){console.warn("Warning: XFA-editing is not implemented.")}else if(k(e)){S(this,O,new y.AnnotationEditorUIManager(this.container,this.eventBus));if(e!==y.AnnotationEditorType.NONE){b(this,O).updateMode(e)}}else{console.error(`Invalid AnnotationEditor mode: ${e}`)}}const a=this._scrollMode===P.ScrollMode.PAGE?null:this.viewer;const o=this.currentScale;const l=t.getViewport({scale:o*y.PixelsPerInch.PDF_TO_CSS_UNITS});const d=s!==P.TextLayerMode.DISABLE&&!m?this:null;const c=r!==y.AnnotationMode.DISABLE?this:null;const h=m?this:null;const u=b(this,O)?this:null;for(let e=1;e<=v;++e){const p=new _.PDFPageView({container:a,eventBus:this.eventBus,id:e,scale:o,defaultViewport:l.clone(),optionalContentConfigPromise:w,renderingQueue:this.renderingQueue,textLayerFactory:d,textLayerMode:s,annotationLayerFactory:c,annotationMode:r,xfaLayerFactory:h,annotationEditorLayerFactory:u,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(p)}const f=this._pages[0];if(f){f.setPdfPage(t);this.linkService.cachePageRef(1,t.ref)}if(this._scrollMode===P.ScrollMode.PAGE){E(this,j,ee).call(this)}else if(this._spreadMode!==P.SpreadMode.NONE){this._updateSpreadMode()}E(this,z,J).call(this).then(async()=>{if(this.findController){this.findController.setDocument(g)}if(this._scriptingManager){this._scriptingManager.setDocument(g)}if(b(this,O)){this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:b(this,B)})}if(g.loadingParams.disableAutoFetch||v>T.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let n=v-1;if(n<=0){this._pagesCapability.resolve();return}for(let i=2;i<=v;++i){const e=g.getPage(i).then(e=>{const t=this._pages[i-1];if(!t.pdfPage){t.setPdfPage(e)}this.linkService.cachePageRef(i,e.ref);if(--n===0){this._pagesCapability.resolve()}},e=>{console.error(`Unable to get page ${i} to initialize viewer`,e);if(--n===0){this._pagesCapability.resolve()}});if(i%T.PAUSE_EAGER_PAGE_INIT===0){await e}}});this.eventBus.dispatch("pagesinit",{source:this});g.getMetadata().then(e=>{let{info:t}=e;if(g!==this.pdfDocument){return}if(t.Language){this.viewer.lang=t.Language}});if(this.defaultRenderingQueue){this.update()}}).catch(e=>{console.error("Unable to initialize viewer",e);this._pagesCapability.reject(e)})}setPageLabels(e){if(!this.pdfDocument){return}if(!e){this._pageLabels=null}else if(!(Array.isArray(e)&&this.pdfDocument.numPages===e.length)){this._pageLabels=null;console.error(`setPageLabels: Invalid page labels.`)}else{this._pageLabels=e}for(let e=0,t=this._pages.length;e<t;e++){var i,n;this._pages[e].setPageLabel((i=(n=this._pageLabels)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:null)}}_resetView(){this._pages=[];this._currentPageNumber=1;this._currentScale=P.UNKNOWN_SCALE;this._currentScaleValue=null;this._pageLabels=null;S(this,N,new D(L));this._location=null;this._pagesRotation=0;this._optionalContentConfigPromise=null;this._firstPageCapability=(0,y.createPromiseCapability)();this._onePageRenderedCapability=(0,y.createPromiseCapability)();this._pagesCapability=(0,y.createPromiseCapability)();this._scrollMode=P.ScrollMode.VERTICAL;this._previousScrollMode=P.ScrollMode.UNKNOWN;this._spreadMode=P.SpreadMode.NONE;S(this,W,{previousPageNumber:1,scrollDown:true,pages:[]});if(this._onBeforeDraw){this.eventBus._off("pagerender",this._onBeforeDraw);this._onBeforeDraw=null}if(this._onAfterDraw){this.eventBus._off("pagerendered",this._onAfterDraw);this._onAfterDraw=null}if(b(this,U)){document.removeEventListener("visibilitychange",b(this,U));S(this,U,null)}this.viewer.textContent="";this._updateScrollMode();this.viewer.removeAttribute("lang");this.viewer.classList.remove(C)}_scrollUpdate(){if(this.pagesCount===0){return}this.update()}_setScaleUpdatePages(e,t){let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;let n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this._currentScaleValue=t.toString();if(E(this,K,ie).call(this,e)){if(n){this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t})}return}P.docStyle.setProperty("--scale-factor",e*y.PixelsPerInch.PDF_TO_CSS_UNITS);const r={scale:e};for(const s of this._pages){s.update(r)}this._currentScale=e;if(!i){let e=this._currentPageNumber,t;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)){e=this._location.pageNumber;t=[null,{name:"XYZ"},this._location.left,this._location.top,null]}this.scrollPageIntoView({pageNumber:e,destArray:t,allowNegativeOffset:true})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:n?t:undefined});if(this.defaultRenderingQueue){this.update()}this.updateContainerHeightCss()}get _pageWidthScaleFactor(){if(this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL){return 2}return 1}_setScale(i){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let r=parseFloat(i);if(r>0){this._setScaleUpdatePages(r,i,n,false)}else{const s=this._pages[this._currentPageNumber-1];if(!s){return}let e=P.SCROLLBAR_PADDING,t=P.VERTICAL_PADDING;if(this.isInPresentationMode){e=t=4}else if(this.removePageBorders){e=t=0}else if(this._scrollMode===P.ScrollMode.HORIZONTAL){[e,t]=[t,e]}const a=(this.container.clientWidth-e)/s.width*s.scale/this._pageWidthScaleFactor;const o=(this.container.clientHeight-t)/s.height*s.scale;switch(i){case"page-actual":r=1;break;case"page-width":r=a;break;case"page-height":r=o;break;case"page-fit":r=Math.min(a,o);break;case"auto":const l=(0,P.isPortraitOrientation)(s)?a:Math.min(o,a);r=Math.min(P.MAX_AUTO_SCALE,l);break;default:console.error(`_setScale: "${i}" is an unknown zoom value.`);return}this._setScaleUpdatePages(r,i,n,true)}}pageLabelToPageNumber(e){if(!this._pageLabels){return null}const t=this._pageLabels.indexOf(e);if(t<0){return null}return t+1}scrollPageIntoView(e){let{pageNumber:t,destArray:i=null,allowNegativeOffset:n=false,ignoreDestinationZoom:r=false}=e;if(!this.pdfDocument){return}const s=Number.isInteger(t)&&this._pages[t-1];if(!s){console.error(`scrollPageIntoView: "${t}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!i){this._setCurrentPageNumber(t,true);return}let a=0,o=0;let l=0,d=0,c,h;const u=s.rotation%180!==0;const f=(u?s.height:s.width)/s.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS;const p=(u?s.width:s.height)/s.scale/y.PixelsPerInch.PDF_TO_CSS_UNITS;let g=0;switch(i[1].name){case"XYZ":a=i[2];o=i[3];g=i[4];a=a!==null?a:0;o=o!==null?o:p;break;case"Fit":case"FitB":g="page-fit";break;case"FitH":case"FitBH":o=i[2];g="page-width";if(o===null&&this._location){a=this._location.left;o=this._location.top}else if(typeof o!=="number"||o<0){o=p}break;case"FitV":case"FitBV":a=i[2];l=f;d=p;g="page-height";break;case"FitR":a=i[2];o=i[3];l=i[4]-a;d=i[5]-o;const _=this.removePageBorders?0:P.SCROLLBAR_PADDING;const b=this.removePageBorders?0:P.VERTICAL_PADDING;c=(this.container.clientWidth-_)/l/y.PixelsPerInch.PDF_TO_CSS_UNITS;h=(this.container.clientHeight-b)/d/y.PixelsPerInch.PDF_TO_CSS_UNITS;g=Math.min(Math.abs(c),Math.abs(h));break;default:console.error(`scrollPageIntoView: "${i[1].name}" is not a valid destination type.`);return}if(!r){if(g&&g!==this._currentScale){this.currentScaleValue=g}else if(this._currentScale===P.UNKNOWN_SCALE){this.currentScaleValue=P.DEFAULT_SCALE_VALUE}}if(g==="page-fit"&&!i[4]){E(this,$,te).call(this,s);return}const m=[s.viewport.convertToViewportPoint(a,o),s.viewport.convertToViewportPoint(a+l,o+d)];let v=Math.min(m[0][0],m[1][0]);let w=Math.min(m[0][1],m[1][1]);if(!n){v=Math.max(v,0);w=Math.max(w,0)}E(this,$,te).call(this,s,{left:v,top:w})}_updateLocation(e){const t=this._currentScale;const i=this._currentScaleValue;const n=parseFloat(i)===t?Math.round(t*1e4)/100:i;const r=e.id;const s=this._pages[r-1];const a=this.container;const o=s.getPagePoint(a.scrollLeft-e.x,a.scrollTop-e.y);const l=Math.round(o[0]);const d=Math.round(o[1]);let c=`#page=${r}`;if(!this.isInPresentationMode){c+=`&zoom=${n},${l},${d}`}this._location={pageNumber:r,scale:n,top:d,left:l,rotation:this._pagesRotation,pdfOpenParams:c}}update(){const e=this._getVisiblePages();const t=e.views,i=t.length;if(i===0){return}const n=Math.max(L,2*i+1);b(this,N).resize(n,e.ids);this.renderingQueue.renderHighestPriority(e);const r=this._spreadMode===P.SpreadMode.NONE&&(this._scrollMode===P.ScrollMode.PAGE||this._scrollMode===P.ScrollMode.VERTICAL);const s=this._currentPageNumber;let a=false;for(const o of t){if(o.percent<100){break}if(o.id===s&&r){a=true;break}}this._setCurrentPageNumber(a?s:t[0].id);this._updateLocation(e.first);this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===P.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===P.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?false:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?false:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===P.ScrollMode.PAGE?b(this,W).pages:this._pages,t=this._scrollMode===P.ScrollMode.HORIZONTAL,i=t&&this._isContainerRtl;return(0,P.getVisibleElements)({scrollEl:this.container,views:e,sortByVisibility:true,horizontal:t,rtl:i})}isPageVisible(e){if(!this.pdfDocument){return false}if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount)){console.error(`isPageVisible: "${e}" is not a valid page.`);return false}return this._getVisiblePages().ids.has(e)}isPageCached(e){if(!this.pdfDocument){return false}if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount)){console.error(`isPageCached: "${e}" is not a valid page.`);return false}const t=this._pages[e-1];return b(this,N).has(t)}cleanup(){for(const e of this._pages){if(e.renderingState!==P.RenderingStates.FINISHED){e.reset()}}}_cancelRendering(){for(const e of this._pages){e.cancelRendering()}}forceRendering(e){const t=e||this._getVisiblePages();const i=E(this,Z,se).call(this,t);const n=this._spreadMode!==P.SpreadMode.NONE&&this._scrollMode!==P.ScrollMode.HORIZONTAL;const r=this.renderingQueue.getHighestPriority(t,this._pages,i,n);E(this,Q,ae).call(this,t.ids);if(r){E(this,X,re).call(this,r).then(()=>{this.renderingQueue.renderView(r)});return true}return false}createTextLayerBuilder(e){let{textLayerDiv:t,pageIndex:i,viewport:n,enhanceTextSelection:r=false,eventBus:s,highlighter:a,accessibilityManager:o=null}=e;return new c.TextLayerBuilder({textLayerDiv:t,eventBus:s,pageIndex:i,viewport:n,enhanceTextSelection:this.isInPresentationMode?false:r,highlighter:a,accessibilityManager:o})}createTextHighlighter(e){let{pageIndex:t,eventBus:i}=e;return new r.TextHighlighter({eventBus:i,pageIndex:t,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(e){var t,i,n,r;let{pageDiv:s,pdfPage:a,annotationStorage:o=(t=this.pdfDocument)===null||t===void 0?void 0:t.annotationStorage,imageResourcesPath:l="",renderForms:d=true,l10n:c=w.NullL10n,enableScripting:h=this.enableScripting,hasJSActionsPromise:u=(i=this.pdfDocument)===null||i===void 0?void 0:i.hasJSActions(),mouseState:f=(n=this._scriptingManager)===null||n===void 0?void 0:n.mouseState,fieldObjectsPromise:p=(r=this.pdfDocument)===null||r===void 0?void 0:r.getFieldObjects(),annotationCanvasMap:g=null,accessibilityManager:m=null}=e;return new v.AnnotationLayerBuilder({pageDiv:s,pdfPage:a,annotationStorage:o,imageResourcesPath:l,renderForms:d,linkService:this.linkService,downloadManager:this.downloadManager,l10n:c,enableScripting:h,hasJSActionsPromise:u,mouseState:f,fieldObjectsPromise:p,annotationCanvasMap:g,accessibilityManager:m})}createAnnotationEditorLayerBuilder(e){var t;let{uiManager:i=b(this,O),pageDiv:n,pdfPage:r,accessibilityManager:s=null,l10n:a,annotationStorage:o=(t=this.pdfDocument)===null||t===void 0?void 0:t.annotationStorage}=e;return new l.AnnotationEditorLayerBuilder({uiManager:i,pageDiv:n,pdfPage:r,annotationStorage:o,accessibilityManager:s,l10n:a})}createXfaLayerBuilder(e){var t;let{pageDiv:i,pdfPage:n,annotationStorage:r=(t=this.pdfDocument)===null||t===void 0?void 0:t.annotationStorage}=e;return new s.XfaLayerBuilder({pageDiv:i,pdfPage:n,annotationStorage:r,linkService:this.linkService})}createStructTreeLayerBuilder(e){let{pdfPage:t}=e;return new n.StructTreeLayerBuilder({pdfPage:t})}get hasEqualPageSizes(){const i=this._pages[0];for(let e=1,t=this._pages.length;e<t;++e){const n=this._pages[e];if(n.width!==i.width||n.height!==i.height){return false}}return true}getPagesOverview(){return this._pages.map(e=>{const t=e.pdfPage.getViewport({scale:1});if(!this.enablePrintAutoRotate||(0,P.isPortraitOrientation)(t)){return{width:t.width,height:t.height,rotation:t.rotation}}return{width:t.height,height:t.width,rotation:(t.rotation-90)%360}})}get optionalContentConfigPromise(){if(!this.pdfDocument){return Promise.resolve(null)}if(!this._optionalContentConfigPromise){console.error("optionalContentConfigPromise: Not initialized yet.");return this.pdfDocument.getOptionalContentConfig()}return this._optionalContentConfigPromise}set optionalContentConfigPromise(e){if(!(e instanceof Promise)){throw new Error(`Invalid optionalContentConfigPromise: ${e}`)}if(!this.pdfDocument){return}if(!this._optionalContentConfigPromise){return}this._optionalContentConfigPromise=e;const t={optionalContentConfigPromise:e};for(const i of this._pages){i.update(t)}this.update();this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode===e){return}if(!(0,P.isValidScrollMode)(e)){throw new Error(`Invalid scroll mode: ${e}`)}if(this.pagesCount>T.FORCE_SCROLL_MODE_PAGE){return}this._previousScrollMode=this._scrollMode;this._scrollMode=e;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e});this._updateScrollMode(this._currentPageNumber)}_updateScrollMode(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;const t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===P.ScrollMode.HORIZONTAL);i.classList.toggle("scrollWrapped",t===P.ScrollMode.WRAPPED);if(!this.pdfDocument||!e){return}if(t===P.ScrollMode.PAGE){E(this,j,ee).call(this)}else if(this._previousScrollMode===P.ScrollMode.PAGE){this._updateSpreadMode()}if(this._currentScaleValue&&isNaN(this._currentScaleValue)){this._setScale(this._currentScaleValue,true)}this._setCurrentPageNumber(e,true);this.update()}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode===e){return}if(!(0,P.isValidSpreadMode)(e)){throw new Error(`Invalid spread mode: ${e}`)}this._spreadMode=e;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e});this._updateSpreadMode(this._currentPageNumber)}_updateSpreadMode(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!this.pdfDocument){return}const n=this.viewer,r=this._pages;if(this._scrollMode===P.ScrollMode.PAGE){E(this,j,ee).call(this)}else{n.textContent="";if(this._spreadMode===P.SpreadMode.NONE){for(const t of this._pages){n.append(t.div)}}else{const s=this._spreadMode-1;let i=null;for(let e=0,t=r.length;e<t;++e){if(i===null){i=document.createElement("div");i.className="spread";n.append(i)}else if(e%2===s){i=i.cloneNode(false);n.append(i)}i.append(r[e].div)}}}if(!e){return}if(this._currentScaleValue&&isNaN(this._currentScaleValue)){this._setScale(this._currentScaleValue,true)}this._setCurrentPageNumber(e,true);this.update()}_getPageAdvance(i){let e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;switch(this._scrollMode){case P.ScrollMode.WRAPPED:{const{views:t}=this._getVisiblePages(),n=new Map;for(const{id:r,y:s,percent:a,widthPercent:o}of t){if(a===0||o<100){continue}let e=n.get(s);if(!e){n.set(s,e||(e=[]))}e.push(r)}for(const l of n.values()){const d=l.indexOf(i);if(d===-1){continue}const c=l.length;if(c===1){break}if(e){for(let e=d-1,t=0;e>=t;e--){const h=l[e],u=l[e+1]-1;if(h<u){return i-u}}}else{for(let e=d+1,t=c;e<t;e++){const h=l[e],u=l[e-1]+1;if(h>u){return u-i}}}if(e){const f=l[0];if(f<i){return i-f+1}}else{const p=l[c-1];if(p>i){return p-i+1}}break}break}case P.ScrollMode.HORIZONTAL:{break}case P.ScrollMode.PAGE:case P.ScrollMode.VERTICAL:{if(this._spreadMode===P.SpreadMode.NONE){break}const g=this._spreadMode-1;if(e&&i%2!==g){break}else if(!e&&i%2===g){break}const{views:t}=this._getVisiblePages(),u=e?i-1:i+1;for(const{id:r,percent:a,widthPercent:o}of t){if(r!==u){continue}if(a>0&&o===100){return 2}break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t){return false}const i=this._getPageAdvance(e,false)||1;this.currentPageNumber=Math.min(e+i,t);return true}previousPage(){const e=this._currentPageNumber;if(e<=1){return false}const t=this._getPageAdvance(e,true)||1;this.currentPageNumber=Math.max(e-t,1);return true}increaseScale(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let t=this._currentScale;do{t=(t*P.DEFAULT_SCALE_DELTA).toFixed(2);t=Math.ceil(t*10)/10;t=Math.min(P.MAX_SCALE,t)}while(--e>0&&t<P.MAX_SCALE);this.currentScaleValue=t}decreaseScale(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let t=this._currentScale;do{t=(t/P.DEFAULT_SCALE_DELTA).toFixed(2);t=Math.floor(t*10)/10;t=Math.max(P.MIN_SCALE,t)}while(--e>0&&t>P.MIN_SCALE);this.currentScaleValue=t}updateContainerHeightCss(){const e=this.container.clientHeight;if(e!==b(this,F)){S(this,F,e);P.docStyle.setProperty("--viewer-container-height",`${e}px`)}}get annotationEditorMode(){return b(this,O)?b(this,B):y.AnnotationEditorType.DISABLE}set annotationEditorMode(e){if(!b(this,O)){throw new Error(`The AnnotationEditor is not enabled.`)}if(b(this,B)===e){return}if(!k(e)){throw new Error(`Invalid AnnotationEditor mode: ${e}`)}if(!this.pdfDocument){return}S(this,B,e);this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e});b(this,O).updateMode(e)}set annotationEditorParams(e){let{type:t,value:i}=e;if(!b(this,O)){throw new Error(`The AnnotationEditor is not enabled.`)}b(this,O).updateParams(t,i)}refresh(){if(!this.pdfDocument){return}const e={};for(const t of this._pages){t.update(e)}this.update()}}t.BaseViewer=q;function Y(e){const t={annotationEditorMode:b(this,B),annotationMode:b(this,V),textLayerMode:this.textLayerMode};if(!e){return t}if(!e.includes(y.PermissionFlag.COPY)){this.viewer.classList.add(C)}if(!e.includes(y.PermissionFlag.MODIFY_CONTENTS)){t.annotationEditorMode=y.AnnotationEditorType.DISABLE}if(!e.includes(y.PermissionFlag.MODIFY_ANNOTATIONS)&&!e.includes(y.PermissionFlag.FILL_INTERACTIVE_FORMS)&&b(this,V)===y.AnnotationMode.ENABLE_FORMS){t.annotationMode=y.AnnotationMode.ENABLE}return t}function J(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0){return Promise.resolve()}const e=new Promise(e=>{S(this,U,()=>{if(document.visibilityState!=="hidden"){return}e();document.removeEventListener("visibilitychange",b(this,U));S(this,U,null)});document.addEventListener("visibilitychange",b(this,U))});return Promise.race([this._onePageRenderedCapability.promise,e])}function ee(){if(this._scrollMode!==P.ScrollMode.PAGE){throw new Error("#ensurePageViewVisible: Invalid scrollMode value.")}const e=this._currentPageNumber,t=b(this,W),i=this.viewer;i.textContent="";t.pages.length=0;if(this._spreadMode===P.SpreadMode.NONE&&!this.isInPresentationMode){const n=this._pages[e-1];i.append(n.div);t.pages.push(n)}else{const r=new Set,s=this._spreadMode-1;if(s===-1){r.add(e-1)}else if(e%2!==s){r.add(e-1);r.add(e)}else{r.add(e-2);r.add(e-1)}const a=document.createElement("div");a.className="spread";if(this.isInPresentationMode){const o=document.createElement("div");o.className="dummyPage";a.append(o)}for(const l of r){const n=this._pages[l];if(!n){continue}a.append(n.div);t.pages.push(n)}i.append(a)}t.scrollDown=e>=t.previousPageNumber;t.previousPageNumber=e}function te(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;const{div:i,id:n}=e;if(this._scrollMode===P.ScrollMode.PAGE){this._setCurrentPageNumber(n);E(this,j,ee).call(this);this.update()}if(!t&&!this.isInPresentationMode){const r=i.offsetLeft+i.clientLeft,s=r+i.clientWidth;const{scrollLeft:a,clientWidth:o}=this.container;if(this._scrollMode===P.ScrollMode.HORIZONTAL||r<a||s>a+o){t={left:0,top:0}}}(0,P.scrollIntoView)(i,t)}function ie(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}function ne(){const e=this._pages[this._currentPageNumber-1];if(this.isInPresentationMode){this._setScale(this._currentScaleValue,true)}E(this,$,te).call(this,e)}async function re(e){if(e.pdfPage){return e.pdfPage}try{var t,i;const n=await this.pdfDocument.getPage(e.id);if(!e.pdfPage){e.setPdfPage(n)}if(!((t=(i=this.linkService)._cachedPageNumber)!==null&&t!==void 0&&t.call(i,n.ref))){this.linkService.cachePageRef(e.id,n.ref)}return n}catch(e){console.error("Unable to get page for page view",e);return null}}function se(e){var t,i;if(((t=e.first)===null||t===void 0?void 0:t.id)===1){return true}else if(((i=e.last)===null||i===void 0?void 0:i.id)===this.pagesCount){return false}switch(this._scrollMode){case P.ScrollMode.PAGE:return b(this,W).scrollDown;case P.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function ae(e){for(const t of e){const i=this._pages[t-1];i===null||i===void 0?void 0:i.toggleLoadingIconSpinner(true)}for(const i of b(this,N)){if(e.has(i.id)){continue}i.toggleLoadingIconSpinner(false)}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.AnnotationEditorLayerBuilder=void 0;var r=i(5);var n=i(32);function s(e,t,i){a(e,t);t.set(e,i)}function a(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function o(e,t){var i=c(e,t,"get");return l(e,i)}function l(e,t){if(t.get){return t.get.call(e)}return t.value}function d(e,t,i){var n=c(e,t,"set");h(e,n,i);return i}function c(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function h(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}var u=new WeakMap;class f{constructor(e){s(this,u,{writable:true,value:void 0});this.pageDiv=e.pageDiv;this.pdfPage=e.pdfPage;this.annotationStorage=e.annotationStorage||null;this.accessibilityManager=e.accessibilityManager;this.l10n=e.l10n||n.NullL10n;this.annotationEditorLayer=null;this.div=null;this._cancelled=false;d(this,u,e.uiManager)}async render(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"display";if(t!=="display"){return}if(this._cancelled){return}const i=e.clone({dontFlip:true});if(this.div){this.annotationEditorLayer.update({viewport:i});this.show();return}this.div=document.createElement("div");this.div.className="annotationEditorLayer";this.div.tabIndex=0;this.pageDiv.append(this.div);this.annotationEditorLayer=new r.AnnotationEditorLayer({uiManager:o(this,u),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:i});const n={viewport:i,div:this.div,annotations:null,intent:t};this.annotationEditorLayer.render(n)}cancel(){this._cancelled=true;this.destroy()}hide(){if(!this.div){return}this.div.hidden=true}show(){if(!this.div){return}this.div.hidden=false}destroy(){if(!this.div){return}this.pageDiv=null;this.annotationEditorLayer.destroy();this.div.remove()}}t.AnnotationEditorLayerBuilder=f},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.NullL10n=void 0;t.fixupLangCode=s;t.getL10nFallback=n;const i={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading…",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text…",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function n(e,t){switch(e){case"find_match_count":e=`find_match_count[${t.total===1?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${t.limit===1?"one":"other"}]`;break}return i[e]||""}const r={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function s(e){return r[e===null||e===void 0?void 0:e.toLowerCase()]||e}function a(e,i){if(!i){return e}return e.replace(/\{\{\s*(\w+)\s*\}\}/g,(e,t)=>{return t in i?i[t]:"{{"+t+"}}"})}const o={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:n(e,t);return a(i,t)},async translate(e){}};t.NullL10n=o},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.AnnotationLayerBuilder=void 0;var a=i(5);var g=i(32);class n{constructor(e){let{pageDiv:t,pdfPage:i,linkService:n,downloadManager:r,annotationStorage:s=null,imageResourcesPath:a="",renderForms:o=true,l10n:l=g.NullL10n,enableScripting:d=false,hasJSActionsPromise:c=null,fieldObjectsPromise:h=null,mouseState:u=null,annotationCanvasMap:f=null,accessibilityManager:p=null}=e;this.pageDiv=t;this.pdfPage=i;this.linkService=n;this.downloadManager=r;this.imageResourcesPath=a;this.renderForms=o;this.l10n=l;this.annotationStorage=s;this.enableScripting=d;this._hasJSActionsPromise=c;this._fieldObjectsPromise=h;this._mouseState=u;this._annotationCanvasMap=f;this._accessibilityManager=p;this.div=null;this._cancelled=false}async render(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"display";const[i,n=false,r=null]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||i.length===0){return}const s={viewport:e.clone({dontFlip:true}),div:this.div,annotations:i,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:n,fieldObjects:r,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};if(this.div){a.AnnotationLayer.update(s)}else{this.div=document.createElement("div");this.div.className="annotationLayer";this.pageDiv.append(this.div);s.div=this.div;a.AnnotationLayer.render(s);this.l10n.translate(this.div)}}cancel(){this._cancelled=true}hide(){if(!this.div){return}this.div.hidden=true}}t.AnnotationLayerBuilder=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFPageView=void 0;var k=i(5);var M=i(1);var n=i(2);var d=i(32);var I=i(35);function c(e,t,i){r(e,t);t.set(e,i)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function A(e,t){var i=a(e,t,"get");return s(e,i)}function s(e,t){if(t.get){return t.get.call(e)}return t.value}function h(e,t,i){var n=a(e,t,"set");o(e,n,i);return i}function a(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function o(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}const u=n.compatibilityParams.maxCanvasPixels||16777216;var D=new WeakMap;var x=new WeakMap;class l{constructor(e){var t,i,n,r;c(this,D,{writable:true,value:k.AnnotationMode.ENABLE_FORMS});c(this,x,{writable:true,value:{initialOptionalContent:true,regularAnnotations:true}});const s=e.container;const a=e.defaultViewport;this.id=e.id;this.renderingId="page"+this.id;this.pdfPage=null;this.pageLabel=null;this.rotation=0;this.scale=e.scale||M.DEFAULT_SCALE;this.viewport=a;this.pdfPageRotate=a.rotation;this._optionalContentConfigPromise=e.optionalContentConfigPromise||null;this.hasRestrictedScaling=false;this.textLayerMode=(t=e.textLayerMode)!==null&&t!==void 0?t:M.TextLayerMode.ENABLE;h(this,D,(i=e.annotationMode)!==null&&i!==void 0?i:k.AnnotationMode.ENABLE_FORMS);this.imageResourcesPath=e.imageResourcesPath||"";this.useOnlyCssZoom=e.useOnlyCssZoom||false;this.maxCanvasPixels=e.maxCanvasPixels||u;this.pageColors=e.pageColors||null;this.eventBus=e.eventBus;this.renderingQueue=e.renderingQueue;this.textLayerFactory=e.textLayerFactory;this.annotationLayerFactory=e.annotationLayerFactory;this.annotationEditorLayerFactory=e.annotationEditorLayerFactory;this.xfaLayerFactory=e.xfaLayerFactory;this.textHighlighter=(n=e.textHighlighterFactory)===null||n===void 0?void 0:n.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus});this.structTreeLayerFactory=e.structTreeLayerFactory;this.renderer=e.renderer||M.RendererType.CANVAS;this.l10n=e.l10n||d.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=M.RenderingStates.INITIAL;this.resume=null;this._renderError=null;this._isStandalone=!((r=this.renderingQueue)!==null&&r!==void 0&&r.hasViewer());this._annotationCanvasMap=null;this.annotationLayer=null;this.annotationEditorLayer=null;this.textLayer=null;this.zoomLayer=null;this.xfaLayer=null;this.structTreeLayer=null;const o=document.createElement("div");o.className="page";o.style.width=Math.floor(this.viewport.width)+"px";o.style.height=Math.floor(this.viewport.height)+"px";o.setAttribute("data-page-number",this.id);o.setAttribute("role","region");this.l10n.get("page_landmark",{page:this.id}).then(e=>{o.setAttribute("aria-label",e)});this.div=o;s===null||s===void 0?void 0:s.append(o);if(this._isStandalone){const{optionalContentConfigPromise:l}=e;if(l){l.then(e=>{if(l!==this._optionalContentConfigPromise){return}A(this,x).initialOptionalContent=e.hasInitialVisibility})}}}setPdfPage(e){this.pdfPage=e;this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*k.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:t});this.reset()}destroy(){this.reset();if(this.pdfPage){this.pdfPage.cleanup()}}async _renderAnnotationLayer(){let t=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(e){console.error(`_renderAnnotationLayer: "${e}".`);t=e}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t})}}async _renderAnnotationEditorLayer(){let t=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(e){console.error(`_renderAnnotationEditorLayer: "${e}".`);t=e}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:t})}}async _renderXfaLayer(){let t=null;try{const e=await this.xfaLayer.render(this.viewport,"display");if(this.textHighlighter){this._buildXfaTextContentItems(e.textDivs)}}catch(e){console.error(`_renderXfaLayer: "${e}".`);t=e}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:t})}}async _buildXfaTextContentItems(e){const t=await this.pdfPage.getTextContent();const i=[];for(const n of t.items){i.push(n.str)}this.textHighlighter.setTextMapping(e,i);this.textHighlighter.enable()}_resetZoomLayer(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.zoomLayer){return}const t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t);t.width=0;t.height=0;if(e){this.zoomLayer.remove()}this.zoomLayer=null}reset(){var e,t,i;let{keepZoomLayer:n=false,keepAnnotationLayer:r=false,keepAnnotationEditorLayer:s=false,keepXfaLayer:a=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:r,keepAnnotationEditorLayer:s,keepXfaLayer:a});this.renderingState=M.RenderingStates.INITIAL;const o=this.div;o.style.width=Math.floor(this.viewport.width)+"px";o.style.height=Math.floor(this.viewport.height)+"px";const l=o.childNodes,d=n&&this.zoomLayer||null,c=r&&((e=this.annotationLayer)===null||e===void 0?void 0:e.div)||null,h=s&&((t=this.annotationEditorLayer)===null||t===void 0?void 0:t.div)||null,u=a&&((i=this.xfaLayer)===null||i===void 0?void 0:i.div)||null;for(let e=l.length-1;e>=0;e--){const p=l[e];switch(p){case d:case c:case h:case u:continue}p.remove()}o.removeAttribute("data-loaded");if(c){this.annotationLayer.hide()}if(h){this.annotationEditorLayer.hide()}else{var f;(f=this.annotationEditorLayer)===null||f===void 0?void 0:f.destroy()}if(u){this.xfaLayer.hide()}if(!d){if(this.canvas){this.paintedViewportMap.delete(this.canvas);this.canvas.width=0;this.canvas.height=0;delete this.canvas}this._resetZoomLayer()}if(this.svg){this.paintedViewportMap.delete(this.svg);delete this.svg}this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon notVisible";if(this._isStandalone){this.toggleLoadingIconSpinner(true)}this.loadingIconDiv.setAttribute("role","img");this.l10n.get("loading").then(e=>{var t;(t=this.loadingIconDiv)===null||t===void 0?void 0:t.setAttribute("aria-label",e)});o.append(this.loadingIconDiv)}update(e){let{scale:t=0,rotation:i=null,optionalContentConfigPromise:n=null}=e;this.scale=t||this.scale;if(typeof i==="number"){this.rotation=i}if(n instanceof Promise){this._optionalContentConfigPromise=n;n.then(e=>{if(n!==this._optionalContentConfigPromise){return}A(this,x).initialOptionalContent=e.hasInitialVisibility})}const r=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*k.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:r});if(this._isStandalone){M.docStyle.setProperty("--scale-factor",this.viewport.scale)}if(this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:true,redrawAnnotationEditorLayer:true,redrawXfaLayer:true});this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:true,timestamp:performance.now(),error:this._renderError});return}let s=false;if(this.canvas&&this.maxCanvasPixels>0){const a=this.outputScale;if((Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>this.maxCanvasPixels){s=true}}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&s){this.cssTransform({target:this.canvas,redrawAnnotationLayer:true,redrawAnnotationEditorLayer:true,redrawXfaLayer:true});this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:true,timestamp:performance.now(),error:this._renderError});return}if(!this.zoomLayer&&!this.canvas.hidden){this.zoomLayer=this.canvas.parentNode;this.zoomLayer.style.position="absolute"}}if(this.zoomLayer){this.cssTransform({target:this.zoomLayer.firstChild})}this.reset({keepZoomLayer:true,keepAnnotationLayer:true,keepAnnotationEditorLayer:true,keepXfaLayer:true})}cancelRendering(){let{keepAnnotationLayer:e=false,keepAnnotationEditorLayer:t=false,keepXfaLayer:i=false}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.paintTask){this.paintTask.cancel();this.paintTask=null}this.resume=null;if(this.textLayer){this.textLayer.cancel();this.textLayer=null}if(this.annotationLayer&&(!e||!this.annotationLayer.div)){this.annotationLayer.cancel();this.annotationLayer=null;this._annotationCanvasMap=null}if(this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)){this.annotationEditorLayer.cancel();this.annotationEditorLayer=null}if(this.xfaLayer&&(!i||!this.xfaLayer.div)){var n;this.xfaLayer.cancel();this.xfaLayer=null;(n=this.textHighlighter)===null||n===void 0?void 0:n.disable()}if(this._onTextLayerRendered){this.eventBus._off("textlayerrendered",this._onTextLayerRendered);this._onTextLayerRendered=null}}cssTransform(e){let{target:t,redrawAnnotationLayer:i=false,redrawAnnotationEditorLayer:n=false,redrawXfaLayer:r=false}=e;const s=this.viewport.width;const a=this.viewport.height;const o=this.div;t.style.width=t.parentNode.style.width=o.style.width=Math.floor(s)+"px";t.style.height=t.parentNode.style.height=o.style.height=Math.floor(a)+"px";const l=this.viewport.rotation-this.paintedViewportMap.get(t).rotation;const d=Math.abs(l);let c=1,h=1;if(d===90||d===270){c=a/s;h=s/a}t.style.transform=`rotate(${l}deg) scale(${c}, ${h})`;if(this.textLayer){const u=this.textLayer.viewport;const f=this.viewport.rotation-u.rotation;const p=Math.abs(f);let e=s/u.width;if(p===90||p===270){e=s/u.height}const g=this.textLayer.textLayerDiv;let t,i;switch(p){case 0:t=i=0;break;case 90:t=0;i="-"+g.style.height;break;case 180:t="-"+g.style.width;i="-"+g.style.height;break;case 270:t="-"+g.style.width;i=0;break;default:console.error("Bad rotation value.");break}g.style.transform=`rotate(${p}deg) `+`scale(${e}) `+`translate(${t}, ${i})`;g.style.transformOrigin="0% 0%"}if(i&&this.annotationLayer){this._renderAnnotationLayer()}if(n&&this.annotationEditorLayer){this._renderAnnotationEditorLayer()}if(r&&this.xfaLayer){this._renderXfaLayer()}}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}toggleLoadingIconSpinner(){var e;let t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;(e=this.loadingIconDiv)===null||e===void 0?void 0:e.classList.toggle("notVisible",!t)}draw(){var e,t,i,n=this;if(this.renderingState!==M.RenderingStates.INITIAL){console.error("Must be in new state before drawing");this.reset()}const{div:r,pdfPage:s}=this;if(!s){this.renderingState=M.RenderingStates.FINISHED;if(this.loadingIconDiv){this.loadingIconDiv.remove();delete this.loadingIconDiv}return Promise.reject(new Error("pdfPage is not loaded"))}this.renderingState=M.RenderingStates.RUNNING;const a=document.createElement("div");a.style.width=r.style.width;a.style.height=r.style.height;a.classList.add("canvasWrapper");const o=((e=this.annotationLayer)===null||e===void 0?void 0:e.div)||((t=this.annotationEditorLayer)===null||t===void 0?void 0:t.div);if(o){o.before(a)}else{r.append(a)}let l=null;if(this.textLayerMode!==M.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new I.TextAccessibilityManager);const T=document.createElement("div");T.className="textLayer";T.style.width=a.style.width;T.style.height=a.style.height;if(o){o.before(T)}else{r.append(T)}var d=document.createElement("div");d.className="cover";function c(e){if(e<10){e="0"+e}return e}function h(){const e=new Date;const t=e.getFullYear();const i=c(e.getMonth()+1);const n=c(e.getDate());const r=c(e.getHours());const s=c(e.getMinutes());return t+"/"+i+"/"+n+" "+r+":"+s}let e;e="互配金属制品（广东）有限公司"+h();var u={watermark_txt:e,watermark_x:100,watermark_y:150,watermark_rows:16,watermark_cols:16,watermark_x_space:100,watermark_y_space:100,watermark_color:"blue",watermark_alpha:.1,watermark_fontsize:"12px",watermark_font:"微软雅黑",watermark_width:180,watermark_height:60,watermark_angle:30};var f=document.createDocumentFragment();var p=parseInt(a.style.width);var g=parseInt(a.style.height);if(u.watermark_cols==0||parseInt(u.watermark_x+u.watermark_width*u.watermark_cols+u.watermark_x_space*(u.watermark_cols-1))>p){u.watermark_cols=parseInt((p-u.watermark_x+u.watermark_x_space)/(u.watermark_width+u.watermark_x_space));u.watermark_x_space=parseInt((p-u.watermark_x-u.watermark_width*u.watermark_cols)/(u.watermark_cols-1))}if(u.watermark_rows==0||parseInt(u.watermark_y+u.watermark_height*u.watermark_rows+u.watermark_y_space*(u.watermark_rows-1))>g){u.watermark_rows=parseInt((u.watermark_y_space+g-u.watermark_y)/(u.watermark_height+u.watermark_y_space));u.watermark_y_space=parseInt((g-u.watermark_y-u.watermark_height*u.watermark_rows)/(u.watermark_rows-1))}var m;var v;for(var w=0;w<u.watermark_rows;w++){v=u.watermark_y+(u.watermark_y_space+u.watermark_height)*w;for(var _=0;_<u.watermark_cols;_++){m=u.watermark_x+(u.watermark_width+u.watermark_x_space)*_;var b=document.createElement("div");var y=document.createElement("img");b.id="mask_div"+w+_;b.className="mask_div";y.className="mask_img";b.appendChild(document.createTextNode(u.watermark_txt));y.src=u.watermark_img;if(u.watermark_img==""||!u.watermark_img){b.remove(y)}else{b.append(y)}b.style.webkitTransform="rotate(-"+u.watermark_angle+"deg)";b.style.MozTransform="rotate(-"+u.watermark_angle+"deg)";b.style.msTransform="rotate(-"+u.watermark_angle+"deg)";b.style.OTransform="rotate(-"+u.watermark_angle+"deg)";b.style.transform="rotate(-"+u.watermark_angle+"deg)";b.style.visibility="";b.style.position="absolute";if(w%2!=0){b.style.left=m+100+"px"}else{b.style.left=m+"px"}b.style.top=v+"px";b.style.overflow="hidden";b.style.opacity=u.watermark_alpha;b.style.fontSize=u.watermark_fontsize;b.style.fontFamily=u.watermark_font;b.style.color=u.watermark_color;b.style.textAlign="center";b.style.width=u.watermark_width+"px";b.style.height=u.watermark_width+"px";y.style.width=u.watermark_width+"px";y.style.height=u.watermark_height+"px";b.style.display="block";f.appendChild(b)}}d.appendChild(f);if(this.annotationLayer&&this.annotationLayer.div){r.insertBefore(T,this.annotationLayer.div);r.appendChild(d)}else{r.appendChild(T);r.appendChild(d)}if(this.annotationLayer?.div){r.insertBefore(T,this.annotationLayer.div)}else{r.appendChild(T)}var d=document.getElementsByClassName("cover");for(var w=0,P=d.length;w<P;w++){d[w].style.width=Math.max(document.body.scrollWidth,document.body.clientWidth);d[w].style.height=Math.max(document.body.scrollHeight,document.body.clientHeight)}l=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:T,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===M.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=l;if(A(this,D)!==k.AnnotationMode.DISABLE&&this.annotationLayerFactory){this._annotationCanvasMap||(this._annotationCanvasMap=new Map);this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:r,pdfPage:s,imageResourcesPath:this.imageResourcesPath,renderForms:A(this,D)===k.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))}if((i=this.xfaLayer)!==null&&i!==void 0&&i.div){r.append(this.xfaLayer.div)}let E=null;if(this.renderingQueue){E=e=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=M.RenderingStates.PAUSED;this.resume=()=>{this.renderingState=M.RenderingStates.RUNNING;e()};return}e()}}const S=async function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(L===n.paintTask){n.paintTask=null}if(e instanceof k.RenderingCancelledException){n._renderError=null;return}n._renderError=e;n.renderingState=M.RenderingStates.FINISHED;if(n.loadingIconDiv){n.loadingIconDiv.remove();delete n.loadingIconDiv}n._resetZoomLayer(true);A(n,x).regularAnnotations=!L.separateAnnots;n.eventBus.dispatch("pagerendered",{source:n,pageNumber:n.id,cssTransform:false,timestamp:performance.now(),error:n._renderError});if(e){throw e}};const L=this.renderer===M.RendererType.SVG?this.paintOnSvg(a):this.paintOnCanvas(a);L.onRenderContinue=E;this.paintTask=L;const C=L.promise.then(()=>{return S(null).then(()=>{if(l){const e=s.streamTextContent({includeMarkedContent:true});l.setTextContentStream(e);l.render()}if(this.annotationLayer){this._renderAnnotationLayer().then(()=>{if(this.annotationEditorLayerFactory){this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:r,pdfPage:s,l10n:this.l10n,accessibilityManager:this._accessibilityManager}));this._renderAnnotationEditorLayer()}})}})},function(e){return S(e)});if(this.xfaLayerFactory){this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:r,pdfPage:s}));this._renderXfaLayer()}if(this.structTreeLayerFactory&&this.textLayer&&this.canvas){this._onTextLayerRendered=e=>{if(e.pageNumber!==this.id){return}this.eventBus._off("textlayerrendered",this._onTextLayerRendered);this._onTextLayerRendered=null;if(!this.canvas){return}this.pdfPage.getStructTree().then(e=>{if(!e){return}if(!this.canvas){return}const t=this.structTreeLayer.render(e);t.classList.add("structTree");this.canvas.append(t)})};this.eventBus._on("textlayerrendered",this._onTextLayerRendered);this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:s})}r.setAttribute("data-loaded",true);this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id});return C}paintOnCanvas(e){const t=(0,k.createPromiseCapability)();const i={promise:t.promise,onRenderContinue(e){e()},cancel(){f.cancel()},get separateAnnots(){return f.separateAnnots}};const n=this.viewport;const r=document.createElement("canvas");r.setAttribute("role","presentation");r.hidden=true;let s=true;const a=function(){if(s){r.hidden=false;s=false}};e.append(r);this.canvas=r;const o=r.getContext("2d",{alpha:false});const l=this.outputScale=new M.OutputScale;if(this.useOnlyCssZoom){const p=n.clone({scale:k.PixelsPerInch.PDF_TO_CSS_UNITS});l.sx*=p.width/n.width;l.sy*=p.height/n.height}if(this.maxCanvasPixels>0){const g=n.width*n.height;const m=Math.sqrt(this.maxCanvasPixels/g);if(l.sx>m||l.sy>m){l.sx=m;l.sy=m;this.hasRestrictedScaling=true}else{this.hasRestrictedScaling=false}}const d=(0,M.approximateFraction)(l.sx);const c=(0,M.approximateFraction)(l.sy);r.width=(0,M.roundToDivide)(n.width*l.sx,d[0]);r.height=(0,M.roundToDivide)(n.height*l.sy,c[0]);r.style.width=(0,M.roundToDivide)(n.width,d[1])+"px";r.style.height=(0,M.roundToDivide)(n.height,c[1])+"px";this.paintedViewportMap.set(r,n);const h=l.scaled?[l.sx,0,0,l.sy,0,0]:null;const u={canvasContext:o,transform:h,viewport:this.viewport,annotationMode:A(this,D),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors};const f=this.pdfPage.render(u);f.onContinue=function(e){a();if(i.onRenderContinue){i.onRenderContinue(e)}else{e()}};f.promise.then(function(){a();t.resolve()},function(e){a();t.reject(e)});return i}paintOnSvg(i){let e=false;const n=()=>{if(e){throw new k.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")}};const r=this.pdfPage;const s=this.viewport.clone({scale:k.PixelsPerInch.PDF_TO_CSS_UNITS});const t=r.getOperatorList({annotationMode:A(this,D)}).then(e=>{n();const t=new k.SVGGraphics(r.commonObjs,r.objs);return t.getSVG(e,s).then(e=>{n();this.svg=e;this.paintedViewportMap.set(e,s);e.style.width=i.style.width;e.style.height=i.style.height;this.renderingState=M.RenderingStates.FINISHED;i.append(e)})});return{promise:t,onRenderContinue(e){e()},cancel(){e=true},get separateAnnots(){return false}}}setPageLabel(e){this.pageLabel=typeof e==="string"?e:null;if(this.pageLabel!==null){this.div.setAttribute("data-page-label",this.pageLabel)}else{this.div.removeAttribute("data-page-label")}}get thumbnailCanvas(){const{initialOptionalContent:e,regularAnnotations:t}=A(this,x);return e&&t?this.canvas:null}}t.PDFPageView=l},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.TextAccessibilityManager=void 0;var o=i(1);function n(e,t){s(e,t);t.add(e)}function r(e,t,i){s(e,t);t.set(e,i)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function a(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}function l(e,t,i){d(e,t);return i}function d(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function c(e,t){var i=f(e,t,"get");return h(e,i)}function h(e,t){if(t.get){return t.get.call(e)}return t.value}function u(e,t,i){var n=f(e,t,"set");p(e,n,i);return i}function f(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function p(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}var g=new WeakMap;var m=new WeakMap;var v=new WeakMap;var w=new WeakMap;var _=new WeakSet;class b{constructor(){n(this,_);r(this,g,{writable:true,value:false});r(this,m,{writable:true,value:null});r(this,v,{writable:true,value:new Map});r(this,w,{writable:true,value:new Map})}setTextMapping(e){u(this,m,e)}enable(){if(c(this,g)){throw new Error("TextAccessibilityManager is already enabled.")}if(!c(this,m)){throw new Error("Text divs and strings have not been set.")}u(this,g,true);u(this,m,c(this,m).slice());c(this,m).sort(l(b,b,y));if(c(this,v).size>0){const e=c(this,m);for(const[t,i]of c(this,v)){const n=document.getElementById(t);if(!n){c(this,v).delete(t);continue}a(this,_,P).call(this,t,e[i])}}for(const[n,r]of c(this,w)){this.addPointerInTextLayer(n,r)}c(this,w).clear()}disable(){if(!c(this,g)){return}c(this,w).clear();u(this,m,null);u(this,g,false)}removePointerInTextLayer(e){var t;if(!c(this,g)){c(this,w).delete(e);return}const i=c(this,m);if(!i||i.length===0){return}const{id:n}=e;const r=c(this,v).get(n);if(r===undefined){return}const s=i[r];c(this,v).delete(n);let a=s.getAttribute("aria-owns");if((t=a)!==null&&t!==void 0&&t.includes(n)){a=a.split(" ").filter(e=>e!==n).join(" ");if(a){s.setAttribute("aria-owns",a)}else{s.removeAttribute("aria-owns");s.setAttribute("role","presentation")}}}addPointerInTextLayer(t,e){const{id:i}=t;if(!i){return}if(!c(this,g)){c(this,w).set(t,e);return}if(e){this.removePointerInTextLayer(t)}const n=c(this,m);if(!n||n.length===0){return}const r=(0,o.binarySearchFirstItem)(n,e=>l(b,b,y).call(b,t,e)<0);const s=Math.max(0,r-1);a(this,_,P).call(this,i,n[s]);c(this,v).set(i,s)}moveElementInDOM(e,t,i,n){this.addPointerInTextLayer(i,n);if(!e.hasChildNodes()){e.append(t);return}const r=Array.from(e.childNodes).filter(e=>e!==t);if(r.length===0){return}const s=i||t;const a=(0,o.binarySearchFirstItem)(r,e=>l(b,b,y).call(b,s,e)<0);if(a===0){r[0].before(t)}else{r[a-1].after(t)}}}t.TextAccessibilityManager=b;function y(e,t){const i=e.getBoundingClientRect();const n=t.getBoundingClientRect();if(i.width===0&&i.height===0){return+1}if(n.width===0&&n.height===0){return-1}const r=i.y;const s=i.y+i.height;const a=i.y+i.height/2;const o=n.y;const l=n.y+n.height;const d=n.y+n.height/2;if(a<=o&&d>=s){return-1}if(d<=r&&a>=l){return+1}const c=i.x+i.width/2;const h=n.x+n.width/2;return c-h}function P(e,t){const i=t.getAttribute("aria-owns");if(!(i!==null&&i!==void 0&&i.includes(e))){t.setAttribute("aria-owns",i?`${i} ${e}`:e)}t.removeAttribute("role")}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.StructTreeLayerBuilder=void 0;const s={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null};const a=/^H(\d+)$/;class i{constructor(e){let{pdfPage:t}=e;this.pdfPage=t}render(e){return this._walk(e)}_setAttributes(e,t){if(e.alt!==undefined){t.setAttribute("aria-label",e.alt)}if(e.id!==undefined){t.setAttribute("aria-owns",e.id)}if(e.lang!==undefined){t.setAttribute("lang",e.lang)}}_walk(e){if(!e){return null}const t=document.createElement("span");if("role"in e){const{role:i}=e;const n=i.match(a);if(n){t.setAttribute("role","heading");t.setAttribute("aria-level",n[1])}else if(s[i]){t.setAttribute("role",s[i])}}this._setAttributes(e,t);if(e.children){if(e.children.length===1&&"id"in e.children[0]){this._setAttributes(e.children[0],t)}else{for(const r of e.children){t.append(this._walk(r))}}}return t}}t.StructTreeLayerBuilder=i},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.TextHighlighter=void 0;class i{constructor(e){let{findController:t,eventBus:i,pageIndex:n}=e;this.findController=t;this.matches=[];this.eventBus=i;this.pageIdx=n;this._onUpdateTextLayerMatches=null;this.textDivs=null;this.textContentItemsStr=null;this.enabled=false}setTextMapping(e,t){this.textDivs=e;this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr){throw new Error("Text divs and strings have not been set.")}if(this.enabled){throw new Error("TextHighlighter is already enabled.")}this.enabled=true;if(!this._onUpdateTextLayerMatches){this._onUpdateTextLayerMatches=e=>{if(e.pageIndex===this.pageIdx||e.pageIndex===-1){this._updateMatches()}};this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)}this._updateMatches()}disable(){if(!this.enabled){return}this.enabled=false;if(this._onUpdateTextLayerMatches){this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches);this._onUpdateTextLayerMatches=null}}_convertMatches(i,n){if(!i){return[]}const{textContentItemsStr:r}=this;let s=0,a=0;const o=r.length-1;const l=[];for(let t=0,e=i.length;t<e;t++){let e=i[t];while(s!==o&&e>=a+r[s].length){a+=r[s].length;s++}if(s===r.length){console.error("Could not find a matching mapping")}const d={begin:{divIdx:s,offset:e-a}};e+=n[t];while(s!==o&&e>a+r[s].length){a+=r[s].length;s++}d.end={divIdx:s,offset:e-a};l.push(d)}return l}_renderMatches(i){if(i.length===0){return}const{findController:n,pageIdx:r}=this;const{textContentItemsStr:l,textDivs:d}=this;const s=r===n.selected.pageIdx;const a=n.selected.matchIdx;const e=n.state.highlightAll;let o=null;const c={divIdx:-1,offset:undefined};function h(e,t){const i=e.divIdx;d[i].textContent="";return u(i,0,e.offset,t)}function u(e,t,i,n){let r=d[e];if(r.nodeType===Node.TEXT_NODE){const o=document.createElement("span");r.before(o);o.append(r);d[e]=o;r=o}const s=l[e].substring(t,i);const a=document.createTextNode(s);if(n){const o=document.createElement("span");o.className=`${n} appended`;o.append(a);r.append(o);return n.includes("selected")?o.offsetLeft:0}r.append(a);return 0}let f=a,p=f+1;if(e){f=0;p=i.length}else if(!s){return}for(let t=f;t<p;t++){const g=i[t];const m=g.begin;const v=g.end;const w=s&&t===a;const _=w?" selected":"";let e=0;if(!o||m.divIdx!==o.divIdx){if(o!==null){u(o.divIdx,o.offset,c.offset)}h(m)}else{u(o.divIdx,o.offset,m.offset)}if(m.divIdx===v.divIdx){e=u(m.divIdx,m.offset,v.offset,"highlight"+_)}else{e=u(m.divIdx,m.offset,c.offset,"highlight begin"+_);for(let e=m.divIdx+1,t=v.divIdx;e<t;e++){d[e].className="highlight middle"+_}h(v,"highlight end"+_)}o=v;if(w){n.scrollMatchIntoView({element:d[m.divIdx],selectedLeft:e,pageIndex:r,matchIndex:a})}}if(o){u(o.divIdx,o.offset,c.offset)}}_updateMatches(){if(!this.enabled){return}const{findController:e,matches:i,pageIdx:t}=this;const{textContentItemsStr:n,textDivs:r}=this;let s=-1;for(let e=0,t=i.length;e<t;e++){const l=i[e];const d=Math.max(s,l.begin.divIdx);for(let e=d,t=l.end.divIdx;e<=t;e++){const c=r[e];c.textContent=n[e];c.className=""}s=l.end.divIdx+1}if(!(e!==null&&e!==void 0&&e.highlightMatches)){return}const a=e.pageMatches[t]||null;const o=e.pageMatchesLength[t]||null;this.matches=this._convertMatches(a,o);this._renderMatches(this.matches)}}t.TextHighlighter=i},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.TextLayerBuilder=void 0;var r=i(5);const n=300;class s{constructor(e){let{textLayerDiv:t,eventBus:i,pageIndex:n,viewport:r,highlighter:s=null,enhanceTextSelection:a=false,accessibilityManager:o=null}=e;this.textLayerDiv=t;this.eventBus=i;this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=false;this.pageNumber=n+1;this.viewport=r;this.textDivs=[];this.textLayerRenderTask=null;this.highlighter=s;this.enhanceTextSelection=a;this.accessibilityManager=o;this._bindMouse()}_finishRendering(){this.renderingDone=true;if(!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent";this.textLayerDiv.append(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var e,t;let i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone){return}this.cancel();this.textDivs.length=0;(e=this.highlighter)===null||e===void 0?void 0:e.setTextMapping(this.textDivs,this.textContentItemsStr);(t=this.accessibilityManager)===null||t===void 0?void 0:t.setTextMapping(this.textDivs);const n=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:i,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(()=>{var e,t;this.textLayerDiv.append(n);this._finishRendering();(e=this.highlighter)===null||e===void 0?void 0:e.enable();(t=this.accessibilityManager)===null||t===void 0?void 0:t.enable()},function(e){})}cancel(){var e,t;if(this.textLayerRenderTask){this.textLayerRenderTask.cancel();this.textLayerRenderTask=null}(e=this.highlighter)===null||e===void 0?void 0:e.disable();(t=this.accessibilityManager)===null||t===void 0?void 0:t.disable()}setTextContentStream(e){this.cancel();this.textContentStream=e}setTextContent(e){this.cancel();this.textContent=e}_bindMouse(){const s=this.textLayerDiv;let a=null;s.addEventListener("mousedown",e=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(true);if(a){clearTimeout(a);a=null}return}const t=s.querySelector(".endOfContent");if(!t){return}let i=e.target!==s;i=i&&window.getComputedStyle(t).getPropertyValue("-moz-user-select")!=="none";if(i){const n=s.getBoundingClientRect();const r=Math.max(0,(e.pageY-n.top)/n.height);t.style.top=(r*100).toFixed(2)+"%"}t.classList.add("active")});s.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){a=setTimeout(()=>{if(this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(false)}a=null},n);return}const e=s.querySelector(".endOfContent");if(!e){return}e.style.top="";e.classList.remove("active")})}}t.TextLayerBuilder=s},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.XfaLayerBuilder=void 0;var s=i(5);class n{constructor(e){let{pageDiv:t,pdfPage:i,annotationStorage:n=null,linkService:r,xfaHtml:s=null}=e;this.pageDiv=t;this.pdfPage=i;this.annotationStorage=n;this.linkService=r;this.xfaHtml=s;this.div=null;this._cancelled=false}render(i){let n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"display";if(n==="print"){const e={viewport:i.clone({dontFlip:true}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};const t=document.createElement("div");this.pageDiv.append(t);e.div=t;const r=s.XfaLayer.render(e);return Promise.resolve(r)}return this.pdfPage.getXfa().then(e=>{if(this._cancelled||!e){return{textDivs:[]}}const t={viewport:i.clone({dontFlip:true}),div:this.div,xfaHtml:e,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};if(this.div){return s.XfaLayer.update(t)}this.div=document.createElement("div");this.pageDiv.append(this.div);t.div=this.div;return s.XfaLayer.render(t)}).catch(e=>{console.error(e)})}cancel(){this._cancelled=true}hide(){if(!this.div){return}this.div.hidden=true}}t.XfaLayerBuilder=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.SecondaryToolbar=void 0;var p=i(1);var a=i(7);var g=i(30);function n(e,t){r(e,t);t.add(e)}function r(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function s(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var o=new WeakSet;var l=new WeakSet;var d=new WeakSet;var c=new WeakSet;var h=new WeakSet;class u{constructor(e,t){n(this,h);n(this,c);n(this,d);n(this,l);n(this,o);this.toolbar=e.toolbar;this.toggleButton=e.toggleButton;this.buttons=[{element:e.presentationModeButton,eventName:"presentationmode",close:true},{element:e.printButton,eventName:"print",close:true},{element:e.downloadButton,eventName:"download",close:true},{element:e.viewBookmarkButton,eventName:null,close:true},{element:e.firstPageButton,eventName:"firstpage",close:true},{element:e.lastPageButton,eventName:"lastpage",close:true},{element:e.pageRotateCwButton,eventName:"rotatecw",close:false},{element:e.pageRotateCcwButton,eventName:"rotateccw",close:false},{element:e.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:a.CursorTool.SELECT},close:true},{element:e.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:a.CursorTool.HAND},close:true},{element:e.scrollPageButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.PAGE},close:true},{element:e.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.VERTICAL},close:true},{element:e.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.HORIZONTAL},close:true},{element:e.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.WRAPPED},close:true},{element:e.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:p.SpreadMode.NONE},close:true},{element:e.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:p.SpreadMode.ODD},close:true},{element:e.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:p.SpreadMode.EVEN},close:true},{element:e.documentPropertiesButton,eventName:"documentproperties",close:true}];this.buttons.push({element:e.openFileButton,eventName:"openfile",close:true});this.items={firstPage:e.firstPageButton,lastPage:e.lastPageButton,pageRotateCw:e.pageRotateCwButton,pageRotateCcw:e.pageRotateCcwButton};this.eventBus=t;this.opened=false;s(this,l,m).call(this);s(this,d,v).call(this,e);s(this,c,w).call(this,e);s(this,h,_).call(this,e);this.reset()}get isOpen(){return this.opened}setPageNumber(e){this.pageNumber=e;s(this,o,f).call(this)}setPagesCount(e){this.pagesCount=e;s(this,o,f).call(this)}reset(){this.pageNumber=0;this.pagesCount=0;s(this,o,f).call(this);this.eventBus.dispatch("secondarytoolbarreset",{source:this})}open(){if(this.opened){return}this.opened=true;this.toggleButton.classList.add("toggled");this.toggleButton.setAttribute("aria-expanded","true");this.toolbar.classList.remove("hidden")}close(){if(!this.opened){return}this.opened=false;this.toolbar.classList.add("hidden");this.toggleButton.classList.remove("toggled");this.toggleButton.setAttribute("aria-expanded","false")}toggle(){if(this.opened){this.close()}else{this.open()}}}t.SecondaryToolbar=u;function f(){this.items.firstPage.disabled=this.pageNumber<=1;this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;this.items.pageRotateCw.disabled=this.pagesCount===0;this.items.pageRotateCcw.disabled=this.pagesCount===0}function m(){this.toggleButton.addEventListener("click",this.toggle.bind(this));for(const{element:e,eventName:n,close:r,eventDetails:s}of this.buttons){e.addEventListener("click",e=>{if(n!==null){const t={source:this};for(const i in s){t[i]=s[i]}this.eventBus.dispatch(n,t)}if(r){this.close()}})}}function v(e){let{cursorSelectToolButton:r,cursorHandToolButton:s}=e;this.eventBus._on("cursortoolchanged",function(e){let{tool:t}=e;const i=t===a.CursorTool.SELECT,n=t===a.CursorTool.HAND;r.classList.toggle("toggled",i);s.classList.toggle("toggled",n);r.setAttribute("aria-checked",i);s.setAttribute("aria-checked",n)})}function w(e){let{scrollPageButton:o,scrollVerticalButton:l,scrollHorizontalButton:d,scrollWrappedButton:c,spreadNoneButton:h,spreadOddButton:u,spreadEvenButton:f}=e;const t=e=>{let{mode:t}=e;const i=t===p.ScrollMode.PAGE,n=t===p.ScrollMode.VERTICAL,r=t===p.ScrollMode.HORIZONTAL,s=t===p.ScrollMode.WRAPPED;o.classList.toggle("toggled",i);l.classList.toggle("toggled",n);d.classList.toggle("toggled",r);c.classList.toggle("toggled",s);o.setAttribute("aria-checked",i);l.setAttribute("aria-checked",n);d.setAttribute("aria-checked",r);c.setAttribute("aria-checked",s);const a=this.pagesCount>g.PagesCountLimit.FORCE_SCROLL_MODE_PAGE;o.disabled=a;l.disabled=a;d.disabled=a;c.disabled=a;h.disabled=r;u.disabled=r;f.disabled=r};this.eventBus._on("scrollmodechanged",t);this.eventBus._on("secondarytoolbarreset",e=>{if(e.source===this){t({mode:p.ScrollMode.VERTICAL})}})}function _(e){let{spreadNoneButton:s,spreadOddButton:a,spreadEvenButton:o}=e;function t(e){let{mode:t}=e;const i=t===p.SpreadMode.NONE,n=t===p.SpreadMode.ODD,r=t===p.SpreadMode.EVEN;s.classList.toggle("toggled",i);a.classList.toggle("toggled",n);o.classList.toggle("toggled",r);s.setAttribute("aria-checked",i);a.setAttribute("aria-checked",n);o.setAttribute("aria-checked",r)}this.eventBus._on("spreadmodechanged",t);this.eventBus._on("secondarytoolbarreset",e=>{if(e.source===this){t({mode:p.SpreadMode.NONE})}})}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.Toolbar=void 0;var h=i(1);var u=i(5);function n(e,t){s(e,t);t.add(e)}function r(e,t,i){s(e,t);t.set(e,i)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function a(e,t){var i=d(e,t,"get");return o(e,i)}function o(e,t){if(t.get){return t.get.call(e)}return t.value}function l(e,t,i){var n=d(e,t,"set");c(e,n,i);return i}function d(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function c(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}function f(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}const p="visiblePageIsLoading";var g=new WeakMap;var m=new WeakSet;var v=new WeakSet;var w=new WeakSet;var _=new WeakSet;class b{constructor(t,e,i){n(this,_);n(this,w);n(this,v);n(this,m);r(this,g,{writable:true,value:false});this.toolbar=t.container;this.eventBus=e;this.l10n=i;this.buttons=[{element:t.previous,eventName:"previouspage"},{element:t.next,eventName:"nextpage"},{element:t.zoomIn,eventName:"zoomin"},{element:t.zoomOut,eventName:"zoomout"},{element:t.print,eventName:"print"},{element:t.presentationModeButton,eventName:"presentationmode"},{element:t.download,eventName:"download"},{element:t.viewBookmark,eventName:null},{element:t.editorFreeTextButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:e}=t.editorFreeTextButton;return e.contains("toggled")?u.AnnotationEditorType.NONE:u.AnnotationEditorType.FREETEXT}}},{element:t.editorInkButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){const{classList:e}=t.editorInkButton;return e.contains("toggled")?u.AnnotationEditorType.NONE:u.AnnotationEditorType.INK}}}];this.buttons.push({element:t.openFile,eventName:"openfile"});this.items={numPages:t.numPages,pageNumber:t.pageNumber,scaleSelect:t.scaleSelect,customScaleOption:t.customScaleOption,previous:t.previous,next:t.next,zoomIn:t.zoomIn,zoomOut:t.zoomOut};f(this,m,y).call(this,t);this.reset()}setPageNumber(e,t){this.pageNumber=e;this.pageLabel=t;f(this,w,E).call(this,false)}setPagesCount(e,t){this.pagesCount=e;this.hasPageLabels=t;f(this,w,E).call(this,true)}setPageScale(e,t){this.pageScaleValue=(e||t).toString();this.pageScale=t;f(this,w,E).call(this,false)}reset(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=false;this.pagesCount=0;this.pageScaleValue=h.DEFAULT_SCALE_VALUE;this.pageScale=h.DEFAULT_SCALE;f(this,w,E).call(this,true);this.updateLoadingIndicatorState();this.eventBus.dispatch("toolbarreset",{source:this})}updateLoadingIndicatorState(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;const{pageNumber:t}=this.items;t.classList.toggle(p,e)}}t.Toolbar=b;function y(e){const{pageNumber:t,scaleSelect:i}=this.items;const n=this;for(const{element:r,eventName:s,eventDetails:a}of this.buttons){r.addEventListener("click",e=>{if(s!==null){const t={source:this};if(a){for(const i in a){t[i]=a[i]}}this.eventBus.dispatch(s,t)}})}t.addEventListener("click",function(){this.select()});t.addEventListener("change",function(){n.eventBus.dispatch("pagenumberchanged",{source:n,value:this.value})});i.addEventListener("change",function(){if(this.value==="custom"){return}n.eventBus.dispatch("scalechanged",{source:n,value:this.value})});i.addEventListener("click",function(e){const t=e.target;if(this.value===n.pageScaleValue&&t.tagName.toUpperCase()==="OPTION"){this.blur()}});i.oncontextmenu=h.noContextMenuHandler;this.eventBus._on("localized",()=>{l(this,g,true);f(this,_,S).call(this);f(this,w,E).call(this,true)});f(this,v,P).call(this,e)}function P(e){let{editorFreeTextButton:o,editorFreeTextParamsToolbar:l,editorInkButton:d,editorInkParamsToolbar:c}=e;const t=function(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;const i=[{mode:u.AnnotationEditorType.FREETEXT,button:o,toolbar:l},{mode:u.AnnotationEditorType.INK,button:d,toolbar:c}];for(const{mode:n,button:r,toolbar:s}of i){const a=n===e.mode;r.classList.toggle("toggled",a);r.setAttribute("aria-checked",a);r.disabled=t;s===null||s===void 0?void 0:s.classList.toggle("hidden",!a)}};this.eventBus._on("annotationeditormodechanged",t);this.eventBus._on("toolbarreset",e=>{if(e.source===this){t({mode:u.AnnotationEditorType.NONE},true)}})}function E(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!a(this,g)){return}const{pageNumber:t,pagesCount:i,pageScaleValue:n,pageScale:r,items:s}=this;if(e){if(this.hasPageLabels){s.pageNumber.type="text"}else{s.pageNumber.type="number";this.l10n.get("of_pages",{pagesCount:i}).then(e=>{s.numPages.textContent=e})}s.pageNumber.max=i}if(this.hasPageLabels){s.pageNumber.value=this.pageLabel;this.l10n.get("page_of_pages",{pageNumber:t,pagesCount:i}).then(e=>{s.numPages.textContent=e})}else{s.pageNumber.value=t}s.previous.disabled=t<=1;s.next.disabled=t>=i;s.zoomOut.disabled=r<=h.MIN_SCALE;s.zoomIn.disabled=r>=h.MAX_SCALE;this.l10n.get("page_scale_percent",{scale:Math.round(r*1e4)/100}).then(e=>{let t=false;for(const i of s.scaleSelect.options){if(i.value!==n){i.selected=false;continue}i.selected=true;t=true}if(!t){s.customScaleOption.textContent=e;s.customScaleOption.selected=true}})}async function S(){const{items:e,l10n:t}=this;const i=Promise.all([t.get("page_scale_auto"),t.get("page_scale_actual"),t.get("page_scale_fit"),t.get("page_scale_width")]);await h.animationStarted;const n=getComputedStyle(e.scaleSelect),r=parseInt(n.getPropertyValue("--scale-select-container-width"),10),s=parseInt(n.getPropertyValue("--scale-select-overflow"),10);const a=document.createElement("canvas");const o=a.getContext("2d",{alpha:false});o.font=`${n.fontSize} ${n.fontFamily}`;let l=0;for(const d of await i){const{width:c}=o.measureText(d);if(c>l){l=c}}l+=2*s;if(l>r){h.docStyle.setProperty("--scale-select-container-width",`${l}px`)}a.width=0;a.height=0}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.ViewHistory=void 0;const i=20;class n{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:i;this.fingerprint=e;this.cacheSize=t;this._initializedPromise=this._readFromStorage().then(e=>{const i=JSON.parse(e||"{}");let n=-1;if(!Array.isArray(i.files)){i.files=[]}else{while(i.files.length>=this.cacheSize){i.files.shift()}for(let e=0,t=i.files.length;e<t;e++){const r=i.files[e];if(r.fingerprint===this.fingerprint){n=e;break}}}if(n===-1){n=i.files.push({fingerprint:this.fingerprint})-1}this.file=i.files[n];this.database=i})}async _writeToStorage(){const e=JSON.stringify(this.database);localStorage.setItem("pdfjs.history",e)}async _readFromStorage(){return localStorage.getItem("pdfjs.history")}async set(e,t){await this._initializedPromise;this.file[e]=t;return this._writeToStorage()}async setMultiple(e){await this._initializedPromise;for(const t in e){this.file[t]=e[t]}return this._writeToStorage()}async get(e,t){await this._initializedPromise;const i=this.file[e];return i!==undefined?i:t}async getMultiple(e){await this._initializedPromise;const t=Object.create(null);for(const i in e){const n=this.file[i];t[i]=n!==undefined?n:e[i]}return t}}t.ViewHistory=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.GenericCom=void 0;var n=i(4);var r=i(44);var s=i(45);var a=i(46);var o=i(48);const l={};t.GenericCom=l;class d extends r.BasePreferences{async _writeToStorage(e){localStorage.setItem("pdfjs.preferences",JSON.stringify(e))}async _readFromStorage(e){return JSON.parse(localStorage.getItem("pdfjs.preferences"))}}class c extends n.DefaultExternalServices{static createDownloadManager(e){return new s.DownloadManager}static createPreferences(){return new d}static createL10n(e){let{locale:t="en-US"}=e;return new a.GenericL10n(t)}static createScripting(e){let{sandboxBundleSrc:t}=e;return new o.GenericScripting(t)}}n.PDFViewerApplication.externalServices=c},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.BasePreferences=void 0;var n=i(2);function r(e,t,i){s(e,t);t.set(e,i)}function s(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function a(e,t){var i=d(e,t,"get");return o(e,i)}function o(e,t){if(t.get){return t.get.call(e)}return t.value}function l(e,t,i){var n=d(e,t,"set");c(e,n,i);return i}function d(e,t,i){if(!t.has(e)){throw new TypeError("attempted to "+i+" private field on non-instance")}return t.get(e)}function c(e,t,i){if(t.set){t.set.call(e,i)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=i}}var h=new WeakMap;var u=new WeakMap;var f=new WeakMap;class p{constructor(){r(this,h,{writable:true,value:Object.freeze({annotationEditorMode:-1,annotationMode:2,cursorToolOnLoad:0,defaultZoomValue:"",disablePageLabels:false,enablePermissions:false,enablePrintAutoRotate:true,enableScripting:true,externalLinkTarget:0,historyUpdateUrl:false,ignoreDestinationZoom:false,forcePageColors:false,pageColorsBackground:"Canvas",pageColorsForeground:"CanvasText",pdfBugEnabled:false,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,useOnlyCssZoom:false,viewerCssTheme:0,viewOnLoad:0,disableAutoFetch:false,disableFontFace:false,disableRange:false,disableStream:false,enableXfa:true,renderer:"canvas"})});r(this,u,{writable:true,value:Object.create(null)});r(this,f,{writable:true,value:null});if(this.constructor===p){throw new Error("Cannot initialize BasePreferences.")}l(this,f,this._readFromStorage(a(this,h)).then(e=>{for(const t in a(this,h)){const i=e===null||e===void 0?void 0:e[t];if(typeof i===typeof a(this,h)[t]){a(this,u)[t]=i}}}))}async _writeToStorage(e){throw new Error("Not implemented: _writeToStorage")}async _readFromStorage(e){throw new Error("Not implemented: _readFromStorage")}async reset(){await a(this,f);const t=a(this,u);l(this,u,Object.create(null));return this._writeToStorage(a(this,h)).catch(e=>{l(this,u,t);throw e})}async set(e,t){await a(this,f);const i=a(this,h)[e],n=a(this,u);if(i===undefined){throw new Error(`Set preference: "${e}" is undefined.`)}else if(t===undefined){throw new Error("Set preference: no value is specified.")}const r=typeof t,s=typeof i;if(r!==s){if(r==="number"&&s==="string"){t=t.toString()}else{throw new Error(`Set preference: "${t}" is a ${r}, expected a ${s}.`)}}else{if(r==="number"&&!Number.isInteger(t)){throw new Error(`Set preference: "${t}" must be an integer.`)}}a(this,u)[e]=t;return this._writeToStorage(a(this,u)).catch(e=>{l(this,u,n);throw e})}async get(e){var t;await a(this,f);const i=a(this,h)[e];if(i===undefined){throw new Error(`Get preference: "${e}" is undefined.`)}return(t=a(this,u)[e])!==null&&t!==void 0?t:i}async getAll(){await a(this,f);const e=Object.create(null);for(const i in a(this,h)){var t;e[i]=(t=a(this,u)[i])!==null&&t!==void 0?t:a(this,h)[i]}return e}}t.BasePreferences=p},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.DownloadManager=void 0;var a=i(5);function r(e,t){const i=document.createElement("a");if(!i.click){throw new Error('DownloadManager: "a.click()" is not supported.')}i.href=e;i.target="_parent";if("download"in i){i.download=t}(document.body||document.documentElement).append(i);i.click();i.remove()}class n{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(e,t){if(!(0,a.createValidAbsoluteUrl)(e,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${e}`);return}r(e+"#pdfjs.action=download",t)}downloadData(e,t,i){const n=URL.createObjectURL(new Blob([e],{type:i}));r(n,t)}openOrDownloadData(i,n,r){const e=(0,a.isPdfFile)(r);const s=e?"application/pdf":"";if(e){let t=this._openBlobUrls.get(i);if(!t){t=URL.createObjectURL(new Blob([n],{type:s}));this._openBlobUrls.set(i,t)}let e;e="?file="+encodeURIComponent(t+"#"+r);try{window.open(e);return true}catch(e){console.error(`openOrDownloadData: ${e}`);URL.revokeObjectURL(t);this._openBlobUrls.delete(i)}}this.downloadData(n,r,s);return false}download(e,t,i){const n=URL.createObjectURL(e);r(n,i)}}t.DownloadManager=n},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.GenericL10n=void 0;i(47);var r=i(32);const n=document.webL10n;class s{constructor(i){this._lang=i;this._ready=new Promise((e,t)=>{n.setLanguage((0,r.fixupLangCode)(i),()=>{e(n)})})}async getLanguage(){const e=await this._ready;return e.getLanguage()}async getDirection(){const e=await this._ready;return e.getDirection()}async get(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:(0,r.getL10nFallback)(e,t);const n=await this._ready;return n.get(e,t,i)}async translate(e){const t=await this._ready;return t.translate(e)}}t.GenericL10n=s},()=>{document.webL10n=function(e,d,t){var u={};var n="";var c="textContent";var f="";var h={};var p="loading";var r=true;function g(){return d.querySelectorAll('link[type="application/l10n"]')}function m(){var e=d.querySelector('script[type="application/l10n"]');return e?JSON.parse(e.innerHTML):null}function s(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}function v(e){if(!e)return{};var t=e.getAttribute("data-l10n-id");var i=e.getAttribute("data-l10n-args");var n={};if(i){try{n=JSON.parse(i)}catch(e){console.warn("could not parse arguments for #"+t)}}return{id:t,args:n}}function a(e,t,i){t=t||function e(t){};i=i||function e(){};var n=new XMLHttpRequest;n.open("GET",e,r);if(n.overrideMimeType){n.overrideMimeType("text/plain; charset=utf-8")}n.onreadystatechange=function(){if(n.readyState==4){if(n.status==200||n.status===0){t(n.responseText)}else{i()}}};n.onerror=i;n.ontimeout=i;try{n.send(null)}catch(e){i()}}function w(e,v,s,t){var w=e.replace(/[^\/]*$/,"")||"./";function _(e){if(e.lastIndexOf("\\")<0)return e;return e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function i(e,t){var c={};var h=/^\s*|\s*$/;var u=/^\s*#|^\s*$/;var f=/^\s*\[(.*)\]\s*$/;var p=/^\s*@import\s+url\((.*)\)\s*$/i;var g=/^([^=\s]*)\s*=\s*(.+)$/;function i(e,i,n){var r=e.replace(h,"").split(/[\r\n]+/);var s="*";var a=v.split("-",1)[0];var o=false;var l="";function d(){while(true){if(!r.length){n();return}var e=r.shift();if(u.test(e))continue;if(i){l=f.exec(e);if(l){s=l[1].toLowerCase();o=s!=="*"&&s!==v&&s!==a;continue}else if(o){continue}l=p.exec(e);if(l){m(w+l[1],d);return}}var t=e.match(g);if(t&&t.length==3){c[t[1]]=_(t[2])}}}d()}function m(e,t){a(e,function(e){i(e,false,t)},function(){console.warn(e+" not found.");t()})}i(e,true,function(){t(c)})}a(e,function(e){n+=e;i(e,function(e){for(var t in e){var i,n,r=t.lastIndexOf(".");if(r>0){i=t.substring(0,r);n=t.substring(r+1)}else{i=t;n=c}if(!u[i]){u[i]={}}u[i][n]=e[t]}if(s){s()}})},t)}function i(e,t){if(e){e=e.toLowerCase()}t=t||function e(){};_();f=e;var i=g();var n=i.length;if(n===0){var r=m();if(r&&r.locales&&r.default_locale){console.log("using the embedded JSON directory, early way out");u=r.locales[e];if(!u){var s=r.default_locale.toLowerCase();for(var a in r.locales){a=a.toLowerCase();if(a===e){u=r.locales[e];break}else if(a===s){u=r.locales[s]}}}t()}else{console.log("no resource to load, early way out")}p="complete";return}var o=null;var l=0;o=function(){l++;if(l>=n){t();p="complete"}};function d(e){var i=e.href;this.load=function(e,t){w(i,e,t,function(){console.warn(i+" not found.");console.warn('"'+e+'" resource not found');f="";t()})}}for(var c=0;c<n;c++){var h=new d(i[c]);h.load(e,o)}}function _(){u={};n="";f=""}function o(e){var t={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function i(e,t){return t.indexOf(e)!==-1}function n(e,t,i){return t<=e&&e<=i}var r={0:function(e){return"other"},1:function(e){if(n(e%100,3,10))return"few";if(e===0)return"zero";if(n(e%100,11,99))return"many";if(e==2)return"two";if(e==1)return"one";return"other"},2:function(e){if(e!==0&&e%10===0)return"many";if(e==2)return"two";if(e==1)return"one";return"other"},3:function(e){if(e==1)return"one";return"other"},4:function(e){if(n(e,0,1))return"one";return"other"},5:function(e){if(n(e,0,2)&&e!=2)return"one";return"other"},6:function(e){if(e===0)return"zero";if(e%10==1&&e%100!=11)return"one";return"other"},7:function(e){if(e==2)return"two";if(e==1)return"one";return"other"},8:function(e){if(n(e,3,6))return"few";if(n(e,7,10))return"many";if(e==2)return"two";if(e==1)return"one";return"other"},9:function(e){if(e===0||e!=1&&n(e%100,1,19))return"few";if(e==1)return"one";return"other"},10:function(e){if(n(e%10,2,9)&&!n(e%100,11,19))return"few";if(e%10==1&&!n(e%100,11,19))return"one";return"other"},11:function(e){if(n(e%10,2,4)&&!n(e%100,12,14))return"few";if(e%10===0||n(e%10,5,9)||n(e%100,11,14))return"many";if(e%10==1&&e%100!=11)return"one";return"other"},12:function(e){if(n(e,2,4))return"few";if(e==1)return"one";return"other"},13:function(e){if(n(e%10,2,4)&&!n(e%100,12,14))return"few";if(e!=1&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14))return"many";if(e==1)return"one";return"other"},14:function(e){if(n(e%100,3,4))return"few";if(e%100==2)return"two";if(e%100==1)return"one";return"other"},15:function(e){if(e===0||n(e%100,2,10))return"few";if(n(e%100,11,19))return"many";if(e==1)return"one";return"other"},16:function(e){if(e%10==1&&e!=11)return"one";return"other"},17:function(e){if(e==3)return"few";if(e===0)return"zero";if(e==6)return"many";if(e==2)return"two";if(e==1)return"one";return"other"},18:function(e){if(e===0)return"zero";if(n(e,0,2)&&e!==0&&e!=2)return"one";return"other"},19:function(e){if(n(e,2,10))return"few";if(n(e,0,1))return"one";return"other"},20:function(e){if((n(e%10,3,4)||e%10==9)&&!(n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)))return"few";if(e%1e6===0&&e!==0)return"many";if(e%10==2&&!i(e%100,[12,72,92]))return"two";if(e%10==1&&!i(e%100,[11,71,91]))return"one";return"other"},21:function(e){if(e===0)return"zero";if(e==1)return"one";return"other"},22:function(e){if(n(e,0,1)||n(e,11,99))return"one";return"other"},23:function(e){if(n(e%10,1,2)||e%20===0)return"one";return"other"},24:function(e){if(n(e,3,10)||n(e,13,19))return"few";if(i(e,[2,12]))return"two";if(i(e,[1,11]))return"one";return"other"}};var s=t[e.replace(/-.*$/,"")];if(!(s in r)){console.warn("plural form unknown for ["+e+"]");return function(){return"other"}}return r[s]}h.plural=function(e,t,i,n){var r=parseFloat(t);if(isNaN(r))return e;if(n!=c)return e;if(!h._pluralRules){h._pluralRules=o(f)}var s="["+h._pluralRules(r)+"]";if(r===0&&i+"[zero]"in u){e=u[i+"[zero]"][n]}else if(r==1&&i+"[one]"in u){e=u[i+"[one]"][n]}else if(r==2&&i+"[two]"in u){e=u[i+"[two]"][n]}else if(i+s in u){e=u[i+s][n]}else if(i+"[other]"in u){e=u[i+"[other]"][n]}return e};function b(e,t,i){var n=u[e];if(!n){console.warn("#"+e+" is undefined.");if(!i){return null}n=i}var r={};for(var s in n){var a=n[s];a=l(a,t,e,s);a=y(a,t,e);r[s]=a}return r}function l(e,t,i,n){var r=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/;var s=r.exec(e);if(!s||!s.length)return e;var a=s[1];var o=s[2];var l;if(t&&o in t){l=t[o]}else if(o in u){l=u[o]}if(a in h){var d=h[a];e=d(e,l,i,n)}return e}function y(e,i,n){var t=/\{\{\s*(.+?)\s*\}\}/g;return e.replace(t,function(e,t){if(i&&t in i){return i[t]}if(t in u){return u[t]}console.log("argument {{"+t+"}} for #"+n+" is undefined.");return e})}function P(e){var t=v(e);if(!t.id)return;var i=b(t.id,t.args);if(!i){console.warn("#"+t.id+" is undefined.");return}if(i[c]){if(E(e)===0){e[c]=i[c]}else{var n=e.childNodes;var r=false;for(var s=0,a=n.length;s<a;s++){if(n[s].nodeType===3&&/\S/.test(n[s].nodeValue)){if(r){n[s].nodeValue=""}else{n[s].nodeValue=i[c];r=true}}}if(!r){var o=d.createTextNode(i[c]);e.prepend(o)}}delete i[c]}for(var l in i){e[l]=i[l]}}function E(e){if(e.children){return e.children.length}if(typeof e.childElementCount!=="undefined"){return e.childElementCount}var t=0;for(var i=0;i<e.childNodes.length;i++){t+=e.nodeType===1?1:0}return t}function S(e){e=e||d.documentElement;var t=s(e);var i=t.length;for(var n=0;n<i;n++){P(t[n])}P(e)}return{get:function(e,t,i){var n=e.lastIndexOf(".");var r=c;if(n>0){r=e.substring(n+1);e=e.substring(0,n)}var s;if(i){s={};s[r]=i}var a=b(e,t,s);if(a&&r in a){return a[r]}return"{{"+e+"}}"},getData:function(){return u},getText:function(){return n},getLanguage:function(){return f},setLanguage:function(e,t){i(e,function(){if(t)t()})},getDirection:function(){var e=["ar","he","fa","ps","ur"];var t=f.split("-",1)[0];return e.indexOf(t)>=0?"rtl":"ltr"},translate:S,getReadyState:function(){return p},ready:function(t){if(!t){return}else if(p=="complete"||p=="interactive"){e.setTimeout(function(){t()})}else if(d.addEventListener){d.addEventListener("localized",function e(){d.removeEventListener("localized",e);t()})}}}}(window,document)},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.GenericScripting=void 0;t.docPropertiesLookup=n;var l=i(5);async function n(e){const t="",i=t.split("#")[0];let{info:n,metadata:r,contentDispositionFilename:s,contentLength:a}=await e.getMetadata();if(!a){const{length:o}=await e.getDownloadInfo();a=o}return{...n,baseURL:i,filesize:a,filename:s||(0,l.getPdfFilenameFromUrl)(t),metadata:r===null||r===void 0?void 0:r.getRaw(),authors:r===null||r===void 0?void 0:r.get("dc:creator"),numPages:e.numPages,URL:t}}class r{constructor(e){this._ready=(0,l.loadScript)(e,true).then(()=>{return window.pdfjsSandbox.QuickJSSandbox()})}async createSandbox(e){const t=await this._ready;t.create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout(()=>t.dispatchEvent(e),0)}async destroySandbox(){const e=await this._ready;e.nukeSandbox()}}t.GenericScripting=r},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.PDFPrintService=l;var c=i(5);var n=i(4);var s=i(50);let h=null;let a=null;let r=null;function o(e,t,i,r,n,s,a){const o=h.scratchCanvas;const l=n/c.PixelsPerInch.PDF;o.width=Math.floor(r.width*l);o.height=Math.floor(r.height*l);const d=o.getContext("2d");d.save();d.fillStyle="rgb(255, 255, 255)";d.fillRect(0,0,o.width,o.height);d.restore();return Promise.all([t.getPage(i),a]).then(function(e){let[t,i]=e;const n={canvasContext:d,transform:[l,0,0,l,0,0],viewport:t.getViewport({scale:1,rotation:r.rotation}),intent:"print",annotationMode:c.AnnotationMode.ENABLE_STORAGE,optionalContentConfigPromise:s,printAnnotationStorage:i};return t.render(n).promise})}function l(e,t,i,n){let r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;let s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;let a=arguments.length>6?arguments[6]:undefined;this.pdfDocument=e;this.pagesOverview=t;this.printContainer=i;this._printResolution=n||150;this._optionalContentConfigPromise=r||e.getOptionalContentConfig();this._printAnnotationStoragePromise=s||Promise.resolve();this.l10n=a;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}l.prototype={layout(){this.throwIfInactive();const e=document.querySelector("body");e.setAttribute("data-pdfjsprinting",true);const t=this.pagesOverview.every(function(e){return e.width===this.pagesOverview[0].width&&e.height===this.pagesOverview[0].height},this);if(!t){console.warn("Not all pages have the same size. The printed "+"result may be incorrect!")}this.pageStyleSheet=document.createElement("style");const i=this.pagesOverview[0];this.pageStyleSheet.textContent="@page { size: "+i.width+"pt "+i.height+"pt;}";e.append(this.pageStyleSheet)},destroy(){if(h!==this){return}this.printContainer.textContent="";const e=document.querySelector("body");e.removeAttribute("data-pdfjsprinting");if(this.pageStyleSheet){this.pageStyleSheet.remove();this.pageStyleSheet=null}this.scratchCanvas.width=this.scratchCanvas.height=0;this.scratchCanvas=null;h=null;m().then(function(){if(r.active===a){r.close(a)}})},renderPages(){if(this.pdfDocument.isPureXfa){(0,s.getXfaHtmlForPrinting)(this.printContainer,this.pdfDocument);return Promise.resolve()}const n=this.pagesOverview.length;const r=(e,t)=>{this.throwIfInactive();if(++this.currentPage>=n){p(n,n,this.l10n);e();return}const i=this.currentPage;p(i,n,this.l10n);o(this,this.pdfDocument,i+1,this.pagesOverview[i],this._printResolution,this._optionalContentConfigPromise,this._printAnnotationStoragePromise).then(this.useRenderedPage.bind(this)).then(function(){r(e,t)},t)};return new Promise(r)},useRenderedPage(){this.throwIfInactive();const i=document.createElement("img");const e=this.scratchCanvas;if("toBlob"in e){e.toBlob(function(e){i.src=URL.createObjectURL(e)})}else{i.src=e.toDataURL()}const t=document.createElement("div");t.className="printedPage";t.append(i);this.printContainer.append(t);return new Promise(function(e,t){i.onload=e;i.onerror=t})},performPrint(){this.throwIfInactive();return new Promise(e=>{setTimeout(()=>{if(!this.active){e();return}d.call(window);setTimeout(e,20)},0)})},get active(){return this===h},throwIfInactive(){if(!this.active){throw new Error("This print request was cancelled or completed.")}}};const d=window.print;window.print=function(){if(h){console.warn("Ignored window.print() because of a pending print job.");return}m().then(function(){if(h){r.open(a)}});try{u("beforeprint")}finally{if(!h){console.error("Expected print service to be initialized.");m().then(function(){if(r.active===a){r.close(a)}});return}const e=h;h.renderPages().then(function(){return e.performPrint()}).catch(function(){}).then(function(){if(e.active){f()}})}};function u(e){const t=document.createEvent("CustomEvent");t.initCustomEvent(e,false,false,"custom");window.dispatchEvent(t)}function f(){if(h){h.destroy();u("afterprint")}}function p(e,t,i){a||(a=document.getElementById("printServiceDialog"));const n=Math.round(100*e/t);const r=a.querySelector("progress");const s=a.querySelector(".relative-progress");r.value=n;i.get("print_progress_percent",{progress:n}).then(e=>{s.textContent=e})}window.addEventListener("keydown",function(e){if(e.keyCode===80&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){e.preventDefault();if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.stopPropagation()}}},true);if("onbeforeprint"in window){const v=function(e){if(e.detail!=="custom"&&e.stopImmediatePropagation){e.stopImmediatePropagation()}};window.addEventListener("beforeprint",v);window.addEventListener("afterprint",v)}let g;function m(){if(!g){r=n.PDFViewerApplication.overlayManager;if(!r){throw new Error("The overlay manager has not yet been initialized.")}a||(a=document.getElementById("printServiceDialog"));g=r.register(a,true);document.getElementById("printCancel").onclick=f;a.addEventListener("close",f)}return g}n.PDFPrintServiceFactory.instance={supportsPrinting:true,createPrintService(e,t,i,n,r,s,a){if(h){throw new Error("The print service is created and active.")}h=new l(e,t,i,n,r,s,a);return h}}},(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:true});t.getXfaHtmlForPrinting=n;var d=i(5);var c=i(3);var h=i(39);function n(e,t){const i=t.allXfaHtml;const n=new c.SimpleLinkService;const r=Math.round(d.PixelsPerInch.PDF_TO_CSS_UNITS*100)/100;for(const s of i.children){const a=document.createElement("div");a.className="xfaPrintedPage";e.append(a);const o=new h.XfaLayerBuilder({pageDiv:a,pdfPage:null,annotationStorage:t.annotationStorage,linkService:n,xfaHtml:s});const l=(0,d.getXfaPageViewport)(s,{scale:r});o.render(l,"print")}}}];var r={};function u(e){var t=r[e];if(t!==undefined){return t.exports}var i=r[e]={exports:{}};n[e](i,i.exports,u);return i.exports}var f={};(()=>{var e=f;Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"PDFViewerApplication",{enumerable:true,get:function(){return r.PDFViewerApplication}});e.PDFViewerApplicationConstants=void 0;Object.defineProperty(e,"PDFViewerApplicationOptions",{enumerable:true,get:function(){return i.AppOptions}});var t=u(1);var i=u(2);var n=u(3);var r=u(4);var s,a;const o="2.16.105";const l="172ccdbe5";const d={LinkTarget:n.LinkTarget,RenderingStates:t.RenderingStates,ScrollMode:t.ScrollMode,SpreadMode:t.SpreadMode};e.PDFViewerApplicationConstants=d;window.PDFViewerApplication=r.PDFViewerApplication;window.PDFViewerApplicationConstants=d;window.PDFViewerApplicationOptions=i.AppOptions;{u(43)}{u(49)}function c(){let e=null;e={container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")};return{appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),editorFreeTextButton:document.getElementById("editorFreeText"),editorFreeTextParamsToolbar:document.getElementById("editorFreeTextParamsToolbar"),editorInkButton:document.getElementById("editorInk"),editorInkParamsToolbar:document.getElementById("editorInkParamsToolbar"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollPageButton:document.getElementById("scrollPage"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},sidebar:{outerContainer:document.getElementById("outerContainer"),sidebarContainer:document.getElementById("sidebarContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),layersButton:document.getElementById("viewLayers"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView"),layersView:document.getElementById("layersView"),outlineOptionsContainer:document.getElementById("outlineOptionsContainer"),currentOutlineItemButton:document.getElementById("currentOutlineItem")},sidebarResizer:{outerContainer:document.getElementById("outerContainer"),resizer:document.getElementById("sidebarResizer")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),matchDiacriticsCheckbox:document.getElementById("findMatchDiacritics"),entireWordCheckbox:document.getElementById("findEntireWord"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{dialog:document.getElementById("passwordDialog"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{dialog:document.getElementById("documentPropertiesDialog"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},annotationEditorParams:{editorFreeTextFontSize:document.getElementById("editorFreeTextFontSize"),editorFreeTextColor:document.getElementById("editorFreeTextColor"),editorInkColor:document.getElementById("editorInkColor"),editorInkThickness:document.getElementById("editorInkThickness"),editorInkOpacity:document.getElementById("editorInkOpacity")},errorWrapper:e,printContainer:document.getElementById("printContainer"),openFileInput:document.getElementById("fileInput"),debuggerScriptPath:"./debugger.js"}}function h(){const e=c();const t=document.createEvent("CustomEvent");t.initCustomEvent("webviewerloaded",true,true,{source:window});try{parent.document.dispatchEvent(t)}catch(e){console.error(`webviewerloaded: ${e}`);document.dispatchEvent(t)}r.PDFViewerApplication.run(e)}(s=(a=document).blockUnblockOnload)===null||s===void 0?void 0:s.call(a,true);if(document.readyState==="interactive"||document.readyState==="complete"){h()}else{document.addEventListener("DOMContentLoaded",h,true)}})()})();