$(document).ready(function(){"use strict";$(function(){jQuery("img.svg").each(function(){var a=jQuery(this);var s=a.attr("id");var n=a.attr("class");var e=a.attr("src");jQuery.get(e,function(e){var t=jQuery(e).find("svg");if(typeof s!=="undefined"){t=t.attr("id",s)}if(typeof n!=="undefined"){t=t.attr("class",n+" replaced-svg")}t=t.removeAttr("xmlns:a");if(!t.attr("viewBox")&&t.attr("height")&&t.attr("width")){t.attr("viewBox","0 0 "+t.attr("height")+" "+t.attr("width"))}a.replaceWith(t)},"xml")})});$("#banner").owlCarousel({loop:true,dots:true,nav:true,slideSpeed:300,paginationSpeed:400,autoplay:true,autoplayTimeout:5e3,autoplayHoverPause:true,singleItem:true,responsiveClass:true,responsive:{0:{items:1,nav:false},768:{items:1,nav:false},1e3:{items:1}}});$("#services-slider").owlCarousel({loop:true,dots:true,autoHeight:true,autoHeightClass:"owl-height",nav:false,slideSpeed:600,paginationSpeed:400,singleItem:true,responsiveClass:true,responsive:{0:{items:1},768:{items:1},1e3:{items:1},1024:{items:1}}});$.getJSON("static/json/case.json",function(e){var t="";var a="";for(var s in e["lists"]){var n=e["lists"][s].number;var i=e["lists"][s].src;var r=e["lists"][s].title;var l=e["lists"][s].date;var o=e["lists"][s].description;var d=e["lists"][s].text;t+="<div class='pmd-card pmd-z-depth pmd-card-overlay'><div class='pmd-card-media pmd-card-media-overlay'><a href='javascript:void(0);' class='btn pmd-btn-fab pmd-btn-flat pmd-btn-outline btn-default view-link' type='button' data-title='查看详情' data-target='#case"+n+"' data-toggle='modal'><i class='material-icons pmd-sm'>info</i></a><a class='media-avatar' href='javascript:void(0);' title='"+r+"'><img class='lazyload img-responsive' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+i+"' alt='"+r+"' /></a></div><div class='pmd-card-title'><h5 class='pmd-card-title-text'><a href='javascript:void(0);' title=''>"+r+"</a></h5><p class='pmd-card-subtitle-text'>"+l+"</p></div></div>";a+="<div tabindex='-1' class='modal fade' id='case"+n+"' role='dialog' aria-hidden='true'> <div class='modal-dialog'> <div class='modal-content'> <div class='modal-body'> <button aria-hidden='true' data-dismiss='modal' class='close' type='button'>×</button> <div class='member-informations'> <div class='post-thumbnail pmd-z-depth'> <img class='lazyload img-responsive' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+i+"'alt='"+r+"' /> </div> <h2 class='pmd-card-title-text'>"+r+"</h2> <div class='designation'>"+o+"</div> </div> <div class='member-detail text-left'><p>"+d+"</p></div></div></div></div></div>"}$("#cases-slider").html(t);$("#case-detail").html(a);$("#cases-slider").owlCarousel({autoplay:true,autoplayHoverPause:true,autoplayTimeout:3e3,loop:true,dots:false,nav:true,slideSpeed:600,paginationSpeed:400,singleItem:true,responsiveClass:true,responsive:{0:{items:1,nav:false,dots:true},768:{items:2,nav:false,dots:true},1e3:{items:3,nav:true,dots:false},1025:{items:4,nav:true,dots:false}}})});$.getJSON("static/json/news.json",function(e){var t="";for(var a in e["lists"]){var s=e["lists"][a].title;var n=e["lists"][a].pic;var i=e["lists"][a].info;var r=e["lists"][a].url;var l=e["lists"][a].text;var o=e["lists"][a].date;t+="<div class='news pmd-card pmd-z-depth'><div class='pmd-card-media'><a href='"+r+"' target='_blank' title='"+i+"' alt='"+i+"'><img class='lazyload img-responsive' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+n+"' alt='' /></a></div><div class='pmd-card-body'><h4 class='pmd-card-title-text'><a href='"+r+"'>"+s+"</a></h4><p class='pmd-card-description'>"+l+"<span style='color: #D2691E\t'>〖"+o+"〗</span></p></div></div>"}$("#news").html(t);$("#news").owlCarousel({autoplay:true,autoplayHoverPause:true,autoplayTimeout:8e3,loop:true,dots:false,margin:20,nav:false,slideSpeed:300,paginationSpeed:400,singleItem:true,responsiveClass:true,responsive:{0:{items:1,nav:false,dots:false},768:{items:2,nav:false,dots:false},1e3:{items:3,nav:false,dots:false},1025:{items:3,nav:false,dots:false}}})});$(".search-toggle").on("click",function(){if($(window).width()>767){if($(this).hasClass("active")){$(this).removeClass("active");$(".search-form").removeClass("open");setTimeout(function(){$(".navbar-nav").removeClass("hide")},300)}else{$(this).addClass("active");$(".search-form").addClass("open");$(".search-form .form-control").focus();$(".navbar-nav").addClass("hide")}}});$(window).on("scroll load resize",n);$('.primary-navbar .navbar-nav a[href^="#"]').on("click",function(e){e.preventDefault();if($(window).width()<768){$(".pmd-sidebar-overlay").trigger("click")}$(document).off("scroll");var t=this.hash,a=$(t);var s=$(".navbar").height();if($("body").hasClass("propeller-topbar-body")){$("html, body").stop().animate({scrollTop:a.offset().top-s-48},500,function(){$(document).on("scroll",n)})}else{$("html, body").stop().animate({scrollTop:a.offset().top-s},500,function(){$(document).on("scroll",n)})}});function n(){var n=$(document).scrollTop()+205;$(".primary-navbar .nav > li > a").each(function(){var e=$(this);var t=$(e.attr("href"));if(t.position().top<=n&&t.position().top+t.height()>n){$(".nav li a").removeClass("active");e.addClass("active");var a=$(".active").offset().left-$(".nav").offset().left;var s=$(this).outerWidth();$(".nav .nav-active").css({left:a,width:s})}else{e.removeClass("active")}})}$(window).on("load",function(){var e=location.hash;if(e!==""){t(e)}});function t(e){$(window).scrollTop(0);var t=$(".navbar").height();$("body, html").animate({scrollTop:$(e).offset().top-t},600)}$(window).on("scroll",function(){var e=$(this).scrollTop();if(e>56){if($(".pmd-navbar").hasClass("primary-navbar")){$("nav.navbar").addClass("navbar-small");$("nav.navbar").removeClass("navbar-inverse")}}else{if($(".pmd-navbar").hasClass("primary-navbar")){$("nav.navbar").removeClass("navbar-small");$("nav.navbar").addClass("navbar-inverse")}}});$(window).on("load",function(){$("#status").fadeOut();$("#preloader").delay(300).fadeOut("slow");$("body").delay(300).css({overflow:"visible"})})});$.getJSON("static/json/p-fitting.json",function(e){var t="";for(var a in e["lists"]){var s=e["lists"][a].title;var n=e["lists"][a].src;t+="<div class='img-wrap' img-title='"+s+"'><img class='lazyload' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+n+"' alt='' /></div>"}$("#p-fitting-detail").html(t)});$.getJSON("static/json/p-ring.json",function(e){var t="";for(var a in e["lists"]){var s=e["lists"][a].title;var n=e["lists"][a].src;t+="<div class='img-wrap' img-title='"+s+"'><img class='lazyload' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+n+"' alt='' /></div>"}$("#p-ring-detail").html(t)});$.getJSON("static/json/p-groove.json",function(e){var t="";for(var a in e["lists"]){var s=e["lists"][a].title;var n=e["lists"][a].src;t+="<div class='img-wrap' img-title='"+s+"'><img class='lazyload' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+n+"' alt='' /></div>"}$("#p-groove-detail").html(t)});$.getJSON("static/json/p-weld.json",function(e){var t="";for(var a in e["lists"]){var s=e["lists"][a].title;var n=e["lists"][a].src;t+="<div class='img-wrap' img-title='"+s+"'><img class='lazyload' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+n+"' alt='' /></div>"}$("#p-weld-detail").html(t)});$.getJSON("static/json/p-custom.json",function(e){var t="";for(var a in e["lists"]){var s=e["lists"][a].title;var n=e["lists"][a].src;t+="<div class='img-wrap' img-title='"+s+"'><img class='lazyload' src='data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' data-src='"+n+"' alt='' /></div>"}$("#p-custom-detail").html(t)});$(function(){$(".to-top").on("click",function(){$("html,body").stop().animate({scrollTop:0},200)});function s(l){var e=l.parents("div").offset().top,t=l.attr("bolExec");$(document).scrollTop()>e-3*$(window).height()/4&&!t&&(!function(){l.text(l.text().replace(".",""));var s=0,n=l.text()-0,i=(n+"").length,r=setInterval(function(){s++;for(var e=parseInt(n/100*s),t="",a=0;a<i-(e+"").length;a++)t+=0;l.text(t+e);if(s>=100){l.text(l.attr("rel"));clearInterval(r)}},50)}(),l.attr("bolExec",!0))}function e(){var a=$(window).scrollTop();$(".num").each(function(e){var t=$(this).offset().top;if(a>t-800){s($(this))}})}$(window).on("scroll",function(){e()})});var Email={send:function(s){return new Promise(function(t,e){s.nocache=Math.floor(1e6*Math.random()+1),s.Action="Send";var a=JSON.stringify(s);Email.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",a,function(e){t(e)})})},ajaxPost:function(e,t,a){var s=Email.createCORSRequest("POST",e);s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onload=function(){var e=s.responseText;null!=a&&a(e)},s.send(t)},ajax:function(e,t){var a=Email.createCORSRequest("GET",e);a.onload=function(){var e=a.responseText;null!=t&&t(e)},a.send()},createCORSRequest:function(e,t){var a=new XMLHttpRequest;return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a}};function blur_fullname(){var e=document.getElementsByName("fullname")[0].value;if(e.length===0){document.getElementById("user_res").innerHTML="<font color='#f00'>您没有输入姓名</font>";return false}else if($.trim(e).length<2){document.getElementById("user_res").innerHTML="<font color='#f00'>姓名不少于两个字</font>";return false}else{document.getElementById("user_res").innerHTML="<font color='#00f'>OK</font>";return true}}function blur_phone(){var e=document.getElementsByName("phone")[0].value;var t=/^1[3456789]\d{9}$/;if(e.length===0){document.getElementById("phone_res").innerHTML="<font color='#f00'>您没有输入手机号码</font>";return false}else if(!t.test(e)){document.getElementById("phone_res").innerHTML="<font color='#f00'>手机号码有误，请核对</font>";return false}else{document.getElementById("phone_res").innerHTML="<font color='#00f'>OK</font>";return true}}function blur_email(){var e=document.getElementsByName("email")[0].value;var t=/^\S+@\S+\.\S+$/;if(e.length===0){document.getElementById("email_res").innerHTML="<font color='#f00'>您没有输入电子邮箱</font>";return false}else if(!t.test(e)){document.getElementById("email_res").innerHTML="<font color='#f00'>电子邮箱有误，请核对</font>";return false}else{document.getElementById("email_res").innerHTML="<font color='#00f'>OK</font>";return true}}function blur_message(){var e=document.getElementsByName("message")[0].value;if(e.length===0){document.getElementById("message_res").innerHTML="<font color='#f00'>您没有输入内容</font>";return false}else if($.trim(e).length<2){document.getElementById("message_res").innerHTML="<font color='#f00'>留言不少于两个字</font>";return false}else{document.getElementById("message_res").innerHTML="<font color='#00f'>OK</font>";return true}}function checkForm(){var e=blur_fullname();var t=blur_phone();var a=blur_email();var s=blur_message();if(e&&t&&a&&s){return true}else{alert("输入有误，请按要求修改再提交。");return false}}function sendEmail(e,t,a){Email.send({SecureToken:"c49f358a-44b9-40cf-b59a-ed4f0593f624",To:"longanw@163.com",From:e,Subject:t,Body:a}).then(e=>{if(e=="OK"){document.getElementById("contact-form").reset();alert("留言成功，感谢您的支持。")}else{console.error(e);alert("抱歉，服务出了点差错，欢迎继续尝试，谢谢！")}})}const form=document.getElementById("contact-form");form.addEventListener("submit",e=>{e.preventDefault();const t=new FormData(e.target);const a=`${t.get("fullname")} 先生/女士( ${t.get("phone")} )的留言`;const s=`留言如下：<br> ${t.get("message")} <br> 电话：${t.get("phone")} <br> 邮箱: ${t.get("email")} `;var n=checkForm();if(n){sendEmail("longanw@gmail.com",a,s)}else{}});form.addEventListener("reset",e=>{$("#user_res").empty();$("#phone_res").empty();$("#email_res").empty();$("#message_res").empty()});$("#viewer_flag").click(function(){var e=$(this).attr("res");if(e==0){$(this).attr("res","1");$(this).html("");$(this).html("连续浏览<img style='height: 12px' src='static/images/swap-left.svg'>翻页浏览")}else{$(this).attr("res","0");$(this).html("");$(this).html("翻页浏览<img style='height: 12px' src='static/images/swap-right.svg'>连续浏览")}});function openFile(e){var t="..%2Fservice%2F";var a=$("#viewer_flag").attr("res");if(a==0){window.open("static/quickviewer.html?file="+t+e)}else{window.open("static/viewer.html?file="+t+e)}}$.hulla=new hullabaloo;setTimeout(function(){$.hulla.send("&#129409操作提示<br>点击图片可以查看详情。","info")},8e3);$(function(){var e=0;var t=0;var a=4;s(t,a);$(document).on("click","#load-more-cert",function(){e++;t=e*a;s(t,a)});function s(i,r){$.ajax({type:"GET",url:"static/json/cert.json",dataType:"json",success:function(e){var t=e.lists;var a=e.lists.length;var s="";if(a-i<r){r=a-i}for(var n=i;n<i+r;n++){if(n<r){s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-card-border pmd-z-depth"><div class="cert pmd-card-media pmd-card-media-overlay"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="lazyload img-responsive" />'+"</div></div></div>"}else{s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-card-border pmd-z-depth"><div class="cert pmd-card-media pmd-card-media-overlay"><img src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="img-responsive" />'+"</div></div></div>"}}$(".lists-cert").append(s);if(i+r>=a){$("#load-more-cert").hide()}else{$("#load-more-cert").show()}},error:function(e,t){setTimeout(function(){$.hulla.send("&#9889读取数据出错！","warning")},500)}})}});$(function(){var e=0;var t=0;var a=4;s(t,a);$(document).on("click","#load-more-partner",function(){e++;t=e*a;s(t,a)});function s(i,r){$.ajax({type:"GET",url:"static/json/partner.json",dataType:"json",success:function(e){var t=e.lists;var a=e.lists.length;var s="";if(a-i<r){r=a-i}for(var n=i;n<i+r;n++){if(n<r){s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-z-depth"><div class="pmd-card-media"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="lazyload img-responsive" />'+"</div></div></div>"}else{s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-z-depth"><div class="pmd-card-media"><img src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="img-responsive" />'+"</div></div></div>"}}$(".lists-partner").append(s);if(i+r>=a){$("#load-more-partner").hide()}else{$("#load-more-partner").show()}},error:function(e,t){setTimeout(function(){$.hulla.send("&#9889服务器出错！","warning")},1e3)}})}});$(function(){var e=0;var t=0;var a=5;s(t,a);$(document).on("click","#load-more-standards",function(){e++;t=e*a;s(t,a)});function s(i,r){$.ajax({type:"GET",url:"static/json/standards.json",dataType:"json",success:function(e){var t=e.lists;var a=e.lists.length;var s="";if(a-i<r){r=a-i}for(var n=i;n<i+r;n++){s+='<div class="lb_thumb" style="margin: 20px"><div class="lb_book-cover" style="background-image: url('+t[n].pic+');" onclick=\'javascript:openFile("'+t[n].src+'");\'><span class="lb_book-title">'+t[n].title+"</span></div></div>"}$(".lists-standards").append(s);if(i+r>=a){$("#load-more-standards").hide()}else{$("#load-more-standards").show()}},error:function(e,t){setTimeout(function(){$.hulla.send("&#9889服务器未返回数据！","warning")},1e3)}})}});var nativeShare=new NativeShare;var shareData={title:document.title,desc:"互配金属制品（广东）有限公司，专注供水行业不锈钢管制造、销售十余载，为供水行业提供互联互通整体解决方案。",link:window.location.href,icon:window.location.href+"static/images/favicon.png",success:function(){setTimeout(function(){$.hulla.send("&#127873分享成功！","success")},2e3)},fail:function(){setTimeout(function(){$.hulla.send("&#9889分享失败！","warning")},1e3)}};nativeShare.setShareData(shareData);function call(e){try{nativeShare.call(e)}catch(e){setTimeout(function(){$.hulla.send("&#9889浏览器不支持分享！","warning")},1e3)}}(function(){var e=navigator.userAgent.indexOf("MSIE")!=-1&&!window.opera;function f(e){return document.getElementById(e)}function v(e){return document.createElement(e)}var h=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448];var m="甲乙丙丁戊己庚辛壬癸";var A="子丑寅卯辰巳午未申酉戌亥";var p="鼠牛虎兔龙蛇马羊猴鸡狗猪";var g=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"];var y=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758];var $="日一二三四五六七八九十";var w=["正","二","三","四","五","六","七","八","九","十","十一","腊"];var b="初十廿卅";var I={"0101":"*1元旦节","0214":"情人节","0305":"学雷锋纪念日","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0321":"世界森林日 世界儿歌日","0322":"世界水日","0323":"世界气象日","0324":"世界防治结核病日","0401":"愚人节","0407":"世界卫生日","0422":"世界地球日","0501":"*1劳动节","0504":"青年节","0505":"碘缺乏病防治日","0508":"世界红十字日","0512":"国际护士节","0515":"国际家庭日","0517":"世界电信日","0518":"国际博物馆日","0520":"全国学生营养日","0523":"国际牛奶日","0531":"世界无烟日","0601":"儿童节","0605":"世界环境日","0606":"全国爱眼日","0616":"防治荒漠化和干旱日","0623":"国际奥林匹克日","0625":"全国土地日","0626":"国际反毒品日","0701":"建党节 香港回归纪念 国际建筑日","0707":"中国人民抗日战争纪念日","0711":"世界人口日","0801":"建军节","0908":"国际扫盲日","0909":"毛泽东逝世纪念","0910":"教师节","0916":"国际臭氧层保护日","0920":"国际爱牙日","0927":"世界旅游日","0928":"孔子诞辰",1001:"*3国庆节",1004:"世界动物日",1006:"老人节",1008:"全国高血压日 世界视觉日",1009:"世界邮政日",1015:"国际盲人节",1016:"世界粮食日",1017:"世界消除贫困日",1024:"联合国日",1108:"中国记者日",1109:"消防宣传日",1112:"孙中山诞辰纪念",1114:"世界糖尿病日",1117:"国际大学生节",1201:"世界艾滋病日",1203:"世界残疾人日",1209:"世界足球日",1213:"国家公祭日",1220:"澳门回归纪念",1224:"平安夜",1225:"圣诞节",1226:"毛泽东诞辰纪念",1229:"国际生物多样性日"};var D={"0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕情人节","0715":"中元节","0815":"*1中秋节","0909":"重阳节",1208:"腊八节",1223:"小年","0100":"除夕"};function E(e){function t(e,t){var a=new Date(31556925974.7*(e-1900)+y[t]*6e4+Date.UTC(1900,0,6,2,5));return a.getUTCDate()}function r(e){var t,a=348;for(t=32768;t>8;t>>=1){a+=h[e-1900]&t?1:0}return a+l(e)}function a(e){return m.charAt(e%10)+A.charAt(e%12)}function l(e){if(o(e)){return h[e-1900]&65536?30:29}else{return 0}}function o(e){return h[e-1900]&15}function d(e,t){return h[e-1900]&65536>>t?30:29}function s(e){var t,a=0,s=0;var n=new Date(1900,0,31);var i=(e-n)/864e5;this.dayCyl=i+40;this.monCyl=14;for(t=1900;t<2050&&i>0;t++){s=r(t);i-=s;this.monCyl+=12}if(i<0){i+=s;t--;this.monCyl-=12}this.year=t;this.yearCyl=t-1864;a=o(t);this.isLeap=false;for(t=1;t<13&&i>0;t++){if(a>0&&t==a+1&&this.isLeap==false){--t;this.isLeap=true;s=l(this.year)}else{s=d(this.year,t)}if(this.isLeap==true&&t==a+1){this.isLeap=false}i-=s;if(this.isLeap==false){this.monCyl++}}if(i==0&&a>0&&t==a+1){if(this.isLeap){this.isLeap=false}else{this.isLeap=true;--t;--this.monCyl}}if(i<0){i+=s;--t;--this.monCyl}this.month=t;this.day=i+1}function n(e){return e<10?"0"+e:e}function i(e,t){var a=e;return t.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(e){switch(e){case"yyyy":var t="000"+a.getFullYear();return t.substring(t.length-4);case"dd":return n(a.getDate());case"d":return a.getDate().toString();case"MM":return n(a.getMonth()+1);case"M":return a.getMonth()+1}})}function c(e,t){var a;switch(e,t){case 10:a="初十";break;case 20:a="二十";break;case 30:a="三十";break;default:a=b.charAt(Math.floor(t/10));a+=$.charAt(t%10)}return a}this.date=e;this.isToday=false;this.isRestDay=false;this.solarYear=i(e,"yyyy");this.solarMonth=i(e,"M");this.solarDate=i(e,"d");this.solarWeekDay=e.getDay();this.solarWeekDayInChinese="星期"+$.charAt(this.solarWeekDay);var u=new s(e);this.lunarYear=u.year;this.shengxiao=p.charAt((this.lunarYear-4)%12);this.lunarMonth=u.month;this.lunarIsLeapMonth=u.isLeap;this.lunarMonthInChinese=this.lunarIsLeapMonth?"闰"+w[u.month-1]:w[u.month-1];this.lunarDate=parseInt(u.day);this.showInLunar=this.lunarDateInChinese=c(this.lunarMonth,this.lunarDate);if(this.lunarDate==1){this.showInLunar=this.lunarMonthInChinese+"月"}this.ganzhiYear=a(u.yearCyl);this.ganzhiMonth=a(u.monCyl);this.ganzhiDate=a(u.dayCyl++);this.jieqi="";this.restDays=0;if(t(this.solarYear,(this.solarMonth-1)*2)==i(e,"d")){this.showInLunar=this.jieqi=g[(this.solarMonth-1)*2]}if(t(this.solarYear,(this.solarMonth-1)*2+1)==i(e,"d")){this.showInLunar=this.jieqi=g[(this.solarMonth-1)*2+1]}if(this.showInLunar=="清明"){this.showInLunar="清明节";this.restDays=1}this.solarFestival=I[i(e,"MM")+i(e,"dd")];if(typeof this.solarFestival=="undefined"){this.solarFestival=""}else{if(/\*(\d)/.test(this.solarFestival)){this.restDays=parseInt(RegExp.$1);this.solarFestival=this.solarFestival.replace(/\*\d/,"")}}this.showInLunar=this.solarFestival==""?this.showInLunar:this.solarFestival;this.lunarFestival=D[this.lunarIsLeapMonth?"00":n(this.lunarMonth)+n(this.lunarDate)];if(typeof this.lunarFestival=="undefined"){this.lunarFestival=""}else{if(/\*(\d)/.test(this.lunarFestival)){this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1);this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")}}if(this.lunarMonth==12&&this.lunarDate==d(this.lunarYear,12)){this.lunarFestival=D["0100"];this.restDays=1}this.showInLunar=this.lunarFestival==""?this.showInLunar:this.lunarFestival;this.showInLunar=this.showInLunar.length>3?this.showInLunar.substr(0,2)+"...":this.showInLunar}var T=function(){var r={};r.lines=0;r.dateArray=new Array(42);function a(e){return e%4===0&&e%100!==0||e%400===0}function l(e,t){return[31,a(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}function o(e,t){e.setDate(e.getDate()+t);return e}function t(e){var t=0;var a=new E(new Date(e.solarYear,e.solarMonth-1,1));var s=a.solarWeekDay-1==-1?6:a.solarWeekDay-1;r.lines=Math.ceil((s+l(e.solarYear,e.solarMonth-1))/7);for(var n=0;n<r.dateArray.length;n++){if(a.restDays!=0){t=a.restDays}if(t>0){a.isRest=true}if(s-- >0||a.solarMonth!=e.solarMonth){r.dateArray[n]=null;continue}var i=new E(new Date);if(a.solarYear==i.solarYear&&a.solarMonth==i.solarMonth&&a.solarDate==i.solarDate){a.isToday=true}r.dateArray[n]=a;a=new E(o(a.date,1));t--}}return{init:function(e){t(e)},getJson:function(){return r}}}();var t=function(){var n=f("top").getElementsByTagName("SELECT")[0];var i=f("top").getElementsByTagName("SELECT")[1];var r=f("top").getElementsByTagName("SPAN")[0];var l=f("top").getElementsByTagName("SPAN")[1];var o=f("top").getElementsByTagName("INPUT")[0];function t(e){r.innerHTML=e.ganzhiYear;l.innerHTML=e.shengxiao}function a(e){n[e.solarYear-1901].selected=true;i[e.solarMonth-1].selected=true}function d(){var e=n.value;var t=i.value;var a=new E(new Date(e,t-1,1));T.init(a);M.draw();if(this==n){a=new E(new Date(e,3,1));r.innerHTML=a.ganzhiYear;l.innerHTML=a.shengxiao}var s=new E(new Date);o.style.visibility=e==s.solarYear&&t==s.solarMonth?"hidden":"visible"}function s(){var e=new E(new Date);t(e);a(e);T.init(e);M.draw();o.style.visibility="hidden"}function c(e,t){for(var a=1901;a<2050;a++){var s=v("OPTION");s.value=a;s.innerHTML=a;if(a==e){s.selected="selected"}n.appendChild(s)}for(var a=1;a<13;a++){var s=v("OPTION");s.value=a;s.innerHTML=a;if(a==t){s.selected="selected"}i.appendChild(s)}n.onchange=d;i.onchange=d}function u(e){c(e.solarYear,e.solarMonth);r.innerHTML=e.ganzhiYear;l.innerHTML=e.shengxiao;o.onclick=s;o.style.visibility="hidden"}return{init:function(e){u(e)},reset:function(e){a(e)}}}();var M=function(){function t(){var e=T.getJson();var t=e.dateArray;f("cm").style.height=e.lines*38+2+"px";f("cm").innerHTML="";for(var a=0;a<t.length;a++){if(t[a]==null){continue}var s=v("DIV");if(t[a].isToday){s.style.border="1px solid #a5b9da";s.style.background="#ffe3c1 url(static/images/t01a7805144fcb47ee7.gif) no-repeat top"}s.className="cell";s.style.left=a%7*60+"px";s.style.top=Math.floor(a/7)*38+2+"px";var n=v("DIV");n.className="so";n.style.color=a%7>4||t[a].isRest?"#c60b02":"#313131";n.innerHTML=t[a].solarDate;s.appendChild(n);var i=v("DIV");i.style.color="#666";i.innerHTML=t[a].showInLunar;s.appendChild(i);s.onmouseover=function(t){return function(e){l.show({dateIndex:t,cell:this})}}(a);s.onmouseout=function(){l.hide()};s.onmouseup=function(){};f("cm").appendChild(s)}var r=v("DIV");r.id="fd";f("cm").appendChild(r);l.init(r)}return{draw:function(e){t(e)}}}();var l=function(){var n;function i(e,s){if(arguments.length>1){var t=/([.*+?^=!:${}()|[\]\/\\])/g,a="{".replace(t,"\\$1"),n="}".replace(t,"\\$1");var i=new RegExp("#"+a+"([^"+a+n+"]+)"+n,"g");if(typeof s=="object"){return e.replace(i,function(e,t){var a=s[t];return typeof a=="undefined"?"":a})}}return e}function t(e){var t=T.getJson().dateArray[e.dateIndex];var a=e.cell;var s="#{solarYear}年#{solarMonth}月#{solarDate}日 #{solarWeekDayInChinese}";s+="<br><b>农历 #{lunarMonthInChinese}月#{lunarDateInChinese}</b>";s+="<br>#{ganzhiYear}年 #{ganzhiMonth}月 #{ganzhiDate}日";if(t.solarFestival!=""||t.lunarFestival!=""||t.jieqi!=""){s+="<br><b>#{lunarFestival} #{solarFestival} #{jieqi}</b>"}n.innerHTML=i(s,t);n.style.top=a.offsetTop+a.offsetHeight-5+"px";n.style.left=a.offsetLeft+a.offsetWidth-5+"px";n.style.display="block"}function e(){n.style.display="none"}return{show:function(e){t(e)},hide:function(){e()},init:function(e){n=e}}}();var a=new E(new Date);if(e){window.attachEvent("onload",function(){t.reset(a)})}t.init(a);T.init(a);M.draw()})();(function(){var e=new Date;var t=e.getFullYear();var a=e.getMonth()+1;var s=e.getDate();console.log(t+"年"+a+"月"+s+"日 星期"+"日一二三四五六".charAt(e.getDay()));$("#time").html(t+"年"+a+"月"+s+"日<br> 星期"+"日一二三四五六".charAt(e.getDay()));if(a==12&&s==13){document.getElementById("preloader").setAttribute("class","hidden");$(function(){$("#nmd-dialog").modal({keyboard:true})});console.log("默哀...")}else if(a==10&&(s==1||s==2||s==3)){document.getElementById("preloader").setAttribute("class","hidden");$(function(){$("#nationalDay-dialog").modal({keyboard:true})})}else if(a==4&&s==1){$("html").addClass("incline")}else{console.log("过去已成定数，无法更改！")}})();